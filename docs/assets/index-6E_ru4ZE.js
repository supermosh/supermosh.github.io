var W_=Object.defineProperty;var Vh=h=>{throw TypeError(h)};var ty=(h,_,m)=>_ in h?W_(h,_,{enumerable:!0,configurable:!0,writable:!0,value:m}):h[_]=m;var ee=(h,_,m)=>ty(h,typeof _!="symbol"?_+"":_,m),Xh=(h,_,m)=>_.has(h)||Vh("Cannot "+m);var yt=(h,_,m)=>(Xh(h,_,"read from private field"),m?m.call(h):_.get(h)),zi=(h,_,m)=>_.has(h)?Vh("Cannot add the same private member more than once"):_ instanceof WeakSet?_.add(h):_.set(h,m),Fa=(h,_,m,d)=>(Xh(h,_,"write to private field"),d?d.call(h,m):_.set(h,m),m);(function(){const _=document.createElement("link").relList;if(_&&_.supports&&_.supports("modulepreload"))return;for(const S of document.querySelectorAll('link[rel="modulepreload"]'))d(S);new MutationObserver(S=>{for(const x of S)if(x.type==="childList")for(const B of x.addedNodes)B.tagName==="LINK"&&B.rel==="modulepreload"&&d(B)}).observe(document,{childList:!0,subtree:!0});function m(S){const x={};return S.integrity&&(x.integrity=S.integrity),S.referrerPolicy&&(x.referrerPolicy=S.referrerPolicy),S.crossOrigin==="use-credentials"?x.credentials="include":S.crossOrigin==="anonymous"?x.credentials="omit":x.credentials="same-origin",x}function d(S){if(S.ep)return;S.ep=!0;const x=m(S);fetch(S.href,x)}})();function ey(h){return h&&h.__esModule&&Object.prototype.hasOwnProperty.call(h,"default")?h.default:h}var Ru={exports:{}},Ya={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ph;function iy(){if(Ph)return Ya;Ph=1;var h=Symbol.for("react.transitional.element"),_=Symbol.for("react.fragment");function m(d,S,x){var B=null;if(x!==void 0&&(B=""+x),S.key!==void 0&&(B=""+S.key),"key"in S){x={};for(var o in S)o!=="key"&&(x[o]=S[o])}else x=S;return S=x.ref,{$$typeof:h,type:d,key:B,ref:S!==void 0?S:null,props:x}}return Ya.Fragment=_,Ya.jsx=m,Ya.jsxs=m,Ya}var Qh;function ny(){return Qh||(Qh=1,Ru.exports=iy()),Ru.exports}var k=ny(),Du={exports:{}},ht={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zh;function ay(){if(Zh)return ht;Zh=1;var h=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),m=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),x=Symbol.for("react.consumer"),B=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),b=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),q=Symbol.iterator;function Q(A){return A===null||typeof A!="object"?null:(A=q&&A[q]||A["@@iterator"],typeof A=="function"?A:null)}var W={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,et={};function n(A,X,tt){this.props=A,this.context=X,this.refs=et,this.updater=tt||W}n.prototype.isReactComponent={},n.prototype.setState=function(A,X){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,X,"setState")},n.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function r(){}r.prototype=n.prototype;function u(A,X,tt){this.props=A,this.context=X,this.refs=et,this.updater=tt||W}var c=u.prototype=new r;c.constructor=u,O(c,n.prototype),c.isPureReactComponent=!0;var p=Array.isArray,v={H:null,A:null,T:null,S:null,V:null},E=Object.prototype.hasOwnProperty;function C(A,X,tt,K,rt,it){return tt=it.ref,{$$typeof:h,type:A,key:X,ref:tt!==void 0?tt:null,props:it}}function H(A,X){return C(A.type,X,void 0,void 0,void 0,A.props)}function Y(A){return typeof A=="object"&&A!==null&&A.$$typeof===h}function P(A){var X={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(tt){return X[tt]})}var Z=/\/+/g;function at(A,X){return typeof A=="object"&&A!==null&&A.key!=null?P(""+A.key):X.toString(36)}function $(){}function Ut(A){switch(A.status){case"fulfilled":return A.value;case"rejected":throw A.reason;default:switch(typeof A.status=="string"?A.then($,$):(A.status="pending",A.then(function(X){A.status==="pending"&&(A.status="fulfilled",A.value=X)},function(X){A.status==="pending"&&(A.status="rejected",A.reason=X)})),A.status){case"fulfilled":return A.value;case"rejected":throw A.reason}}throw A}function dt(A,X,tt,K,rt){var it=typeof A;(it==="undefined"||it==="boolean")&&(A=null);var ct=!1;if(A===null)ct=!0;else switch(it){case"bigint":case"string":case"number":ct=!0;break;case"object":switch(A.$$typeof){case h:case _:ct=!0;break;case D:return ct=A._init,dt(ct(A._payload),X,tt,K,rt)}}if(ct)return rt=rt(A),ct=K===""?"."+at(A,0):K,p(rt)?(tt="",ct!=null&&(tt=ct.replace(Z,"$&/")+"/"),dt(rt,X,tt,"",function(ai){return ai})):rt!=null&&(Y(rt)&&(rt=H(rt,tt+(rt.key==null||A&&A.key===rt.key?"":(""+rt.key).replace(Z,"$&/")+"/")+ct)),X.push(rt)),1;ct=0;var ue=K===""?".":K+":";if(p(A))for(var Dt=0;Dt<A.length;Dt++)K=A[Dt],it=ue+at(K,Dt),ct+=dt(K,X,tt,it,rt);else if(Dt=Q(A),typeof Dt=="function")for(A=Dt.call(A),Dt=0;!(K=A.next()).done;)K=K.value,it=ue+at(K,Dt++),ct+=dt(K,X,tt,it,rt);else if(it==="object"){if(typeof A.then=="function")return dt(Ut(A),X,tt,K,rt);throw X=String(A),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return ct}function F(A,X,tt){if(A==null)return A;var K=[],rt=0;return dt(A,K,"","",function(it){return X.call(tt,it,rt++)}),K}function J(A){if(A._status===-1){var X=A._result;X=X(),X.then(function(tt){(A._status===0||A._status===-1)&&(A._status=1,A._result=tt)},function(tt){(A._status===0||A._status===-1)&&(A._status=2,A._result=tt)}),A._status===-1&&(A._status=0,A._result=X)}if(A._status===1)return A._result.default;throw A._result}var lt=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)};function pt(){}return ht.Children={map:F,forEach:function(A,X,tt){F(A,function(){X.apply(this,arguments)},tt)},count:function(A){var X=0;return F(A,function(){X++}),X},toArray:function(A){return F(A,function(X){return X})||[]},only:function(A){if(!Y(A))throw Error("React.Children.only expected to receive a single React element child.");return A}},ht.Component=n,ht.Fragment=m,ht.Profiler=S,ht.PureComponent=u,ht.StrictMode=d,ht.Suspense=w,ht.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=v,ht.__COMPILER_RUNTIME={__proto__:null,c:function(A){return v.H.useMemoCache(A)}},ht.cache=function(A){return function(){return A.apply(null,arguments)}},ht.cloneElement=function(A,X,tt){if(A==null)throw Error("The argument must be a React element, but you passed "+A+".");var K=O({},A.props),rt=A.key,it=void 0;if(X!=null)for(ct in X.ref!==void 0&&(it=void 0),X.key!==void 0&&(rt=""+X.key),X)!E.call(X,ct)||ct==="key"||ct==="__self"||ct==="__source"||ct==="ref"&&X.ref===void 0||(K[ct]=X[ct]);var ct=arguments.length-2;if(ct===1)K.children=tt;else if(1<ct){for(var ue=Array(ct),Dt=0;Dt<ct;Dt++)ue[Dt]=arguments[Dt+2];K.children=ue}return C(A.type,rt,void 0,void 0,it,K)},ht.createContext=function(A){return A={$$typeof:B,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null},A.Provider=A,A.Consumer={$$typeof:x,_context:A},A},ht.createElement=function(A,X,tt){var K,rt={},it=null;if(X!=null)for(K in X.key!==void 0&&(it=""+X.key),X)E.call(X,K)&&K!=="key"&&K!=="__self"&&K!=="__source"&&(rt[K]=X[K]);var ct=arguments.length-2;if(ct===1)rt.children=tt;else if(1<ct){for(var ue=Array(ct),Dt=0;Dt<ct;Dt++)ue[Dt]=arguments[Dt+2];rt.children=ue}if(A&&A.defaultProps)for(K in ct=A.defaultProps,ct)rt[K]===void 0&&(rt[K]=ct[K]);return C(A,it,void 0,void 0,null,rt)},ht.createRef=function(){return{current:null}},ht.forwardRef=function(A){return{$$typeof:o,render:A}},ht.isValidElement=Y,ht.lazy=function(A){return{$$typeof:D,_payload:{_status:-1,_result:A},_init:J}},ht.memo=function(A,X){return{$$typeof:b,type:A,compare:X===void 0?null:X}},ht.startTransition=function(A){var X=v.T,tt={};v.T=tt;try{var K=A(),rt=v.S;rt!==null&&rt(tt,K),typeof K=="object"&&K!==null&&typeof K.then=="function"&&K.then(pt,lt)}catch(it){lt(it)}finally{v.T=X}},ht.unstable_useCacheRefresh=function(){return v.H.useCacheRefresh()},ht.use=function(A){return v.H.use(A)},ht.useActionState=function(A,X,tt){return v.H.useActionState(A,X,tt)},ht.useCallback=function(A,X){return v.H.useCallback(A,X)},ht.useContext=function(A){return v.H.useContext(A)},ht.useDebugValue=function(){},ht.useDeferredValue=function(A,X){return v.H.useDeferredValue(A,X)},ht.useEffect=function(A,X,tt){var K=v.H;if(typeof tt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return K.useEffect(A,X)},ht.useId=function(){return v.H.useId()},ht.useImperativeHandle=function(A,X,tt){return v.H.useImperativeHandle(A,X,tt)},ht.useInsertionEffect=function(A,X){return v.H.useInsertionEffect(A,X)},ht.useLayoutEffect=function(A,X){return v.H.useLayoutEffect(A,X)},ht.useMemo=function(A,X){return v.H.useMemo(A,X)},ht.useOptimistic=function(A,X){return v.H.useOptimistic(A,X)},ht.useReducer=function(A,X,tt){return v.H.useReducer(A,X,tt)},ht.useRef=function(A){return v.H.useRef(A)},ht.useState=function(A){return v.H.useState(A)},ht.useSyncExternalStore=function(A,X,tt){return v.H.useSyncExternalStore(A,X,tt)},ht.useTransition=function(){return v.H.useTransition()},ht.version="19.1.1",ht}var Kh;function Iu(){return Kh||(Kh=1,Du.exports=ay()),Du.exports}var G=Iu();const ly=ey(G);var Ou={exports:{}},ka={},Mu={exports:{}},Lu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jh;function ry(){return Jh||(Jh=1,(function(h){function _(F,J){var lt=F.length;F.push(J);t:for(;0<lt;){var pt=lt-1>>>1,A=F[pt];if(0<S(A,J))F[pt]=J,F[lt]=A,lt=pt;else break t}}function m(F){return F.length===0?null:F[0]}function d(F){if(F.length===0)return null;var J=F[0],lt=F.pop();if(lt!==J){F[0]=lt;t:for(var pt=0,A=F.length,X=A>>>1;pt<X;){var tt=2*(pt+1)-1,K=F[tt],rt=tt+1,it=F[rt];if(0>S(K,lt))rt<A&&0>S(it,K)?(F[pt]=it,F[rt]=lt,pt=rt):(F[pt]=K,F[tt]=lt,pt=tt);else if(rt<A&&0>S(it,lt))F[pt]=it,F[rt]=lt,pt=rt;else break t}}return J}function S(F,J){var lt=F.sortIndex-J.sortIndex;return lt!==0?lt:F.id-J.id}if(h.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var x=performance;h.unstable_now=function(){return x.now()}}else{var B=Date,o=B.now();h.unstable_now=function(){return B.now()-o}}var w=[],b=[],D=1,q=null,Q=3,W=!1,O=!1,et=!1,n=!1,r=typeof setTimeout=="function"?setTimeout:null,u=typeof clearTimeout=="function"?clearTimeout:null,c=typeof setImmediate<"u"?setImmediate:null;function p(F){for(var J=m(b);J!==null;){if(J.callback===null)d(b);else if(J.startTime<=F)d(b),J.sortIndex=J.expirationTime,_(w,J);else break;J=m(b)}}function v(F){if(et=!1,p(F),!O)if(m(w)!==null)O=!0,E||(E=!0,at());else{var J=m(b);J!==null&&dt(v,J.startTime-F)}}var E=!1,C=-1,H=5,Y=-1;function P(){return n?!0:!(h.unstable_now()-Y<H)}function Z(){if(n=!1,E){var F=h.unstable_now();Y=F;var J=!0;try{t:{O=!1,et&&(et=!1,u(C),C=-1),W=!0;var lt=Q;try{e:{for(p(F),q=m(w);q!==null&&!(q.expirationTime>F&&P());){var pt=q.callback;if(typeof pt=="function"){q.callback=null,Q=q.priorityLevel;var A=pt(q.expirationTime<=F);if(F=h.unstable_now(),typeof A=="function"){q.callback=A,p(F),J=!0;break e}q===m(w)&&d(w),p(F)}else d(w);q=m(w)}if(q!==null)J=!0;else{var X=m(b);X!==null&&dt(v,X.startTime-F),J=!1}}break t}finally{q=null,Q=lt,W=!1}J=void 0}}finally{J?at():E=!1}}}var at;if(typeof c=="function")at=function(){c(Z)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,Ut=$.port2;$.port1.onmessage=Z,at=function(){Ut.postMessage(null)}}else at=function(){r(Z,0)};function dt(F,J){C=r(function(){F(h.unstable_now())},J)}h.unstable_IdlePriority=5,h.unstable_ImmediatePriority=1,h.unstable_LowPriority=4,h.unstable_NormalPriority=3,h.unstable_Profiling=null,h.unstable_UserBlockingPriority=2,h.unstable_cancelCallback=function(F){F.callback=null},h.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<F?Math.floor(1e3/F):5},h.unstable_getCurrentPriorityLevel=function(){return Q},h.unstable_next=function(F){switch(Q){case 1:case 2:case 3:var J=3;break;default:J=Q}var lt=Q;Q=J;try{return F()}finally{Q=lt}},h.unstable_requestPaint=function(){n=!0},h.unstable_runWithPriority=function(F,J){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var lt=Q;Q=F;try{return J()}finally{Q=lt}},h.unstable_scheduleCallback=function(F,J,lt){var pt=h.unstable_now();switch(typeof lt=="object"&&lt!==null?(lt=lt.delay,lt=typeof lt=="number"&&0<lt?pt+lt:pt):lt=pt,F){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=lt+A,F={id:D++,callback:J,priorityLevel:F,startTime:lt,expirationTime:A,sortIndex:-1},lt>pt?(F.sortIndex=lt,_(b,F),m(w)===null&&F===m(b)&&(et?(u(C),C=-1):et=!0,dt(v,lt-pt))):(F.sortIndex=A,_(w,F),O||W||(O=!0,E||(E=!0,at()))),F},h.unstable_shouldYield=P,h.unstable_wrapCallback=function(F){var J=Q;return function(){var lt=Q;Q=J;try{return F.apply(this,arguments)}finally{Q=lt}}}})(Lu)),Lu}var $h;function sy(){return $h||($h=1,Mu.exports=ry()),Mu.exports}var Nu={exports:{}},Wt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wh;function uy(){if(Wh)return Wt;Wh=1;var h=Iu();function _(w){var b="https://react.dev/errors/"+w;if(1<arguments.length){b+="?args[]="+encodeURIComponent(arguments[1]);for(var D=2;D<arguments.length;D++)b+="&args[]="+encodeURIComponent(arguments[D])}return"Minified React error #"+w+"; visit "+b+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function m(){}var d={d:{f:m,r:function(){throw Error(_(522))},D:m,C:m,L:m,m,X:m,S:m,M:m},p:0,findDOMNode:null},S=Symbol.for("react.portal");function x(w,b,D){var q=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:S,key:q==null?null:""+q,children:w,containerInfo:b,implementation:D}}var B=h.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(w,b){if(w==="font")return"";if(typeof b=="string")return b==="use-credentials"?b:""}return Wt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=d,Wt.createPortal=function(w,b){var D=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!b||b.nodeType!==1&&b.nodeType!==9&&b.nodeType!==11)throw Error(_(299));return x(w,b,null,D)},Wt.flushSync=function(w){var b=B.T,D=d.p;try{if(B.T=null,d.p=2,w)return w()}finally{B.T=b,d.p=D,d.d.f()}},Wt.preconnect=function(w,b){typeof w=="string"&&(b?(b=b.crossOrigin,b=typeof b=="string"?b==="use-credentials"?b:"":void 0):b=null,d.d.C(w,b))},Wt.prefetchDNS=function(w){typeof w=="string"&&d.d.D(w)},Wt.preinit=function(w,b){if(typeof w=="string"&&b&&typeof b.as=="string"){var D=b.as,q=o(D,b.crossOrigin),Q=typeof b.integrity=="string"?b.integrity:void 0,W=typeof b.fetchPriority=="string"?b.fetchPriority:void 0;D==="style"?d.d.S(w,typeof b.precedence=="string"?b.precedence:void 0,{crossOrigin:q,integrity:Q,fetchPriority:W}):D==="script"&&d.d.X(w,{crossOrigin:q,integrity:Q,fetchPriority:W,nonce:typeof b.nonce=="string"?b.nonce:void 0})}},Wt.preinitModule=function(w,b){if(typeof w=="string")if(typeof b=="object"&&b!==null){if(b.as==null||b.as==="script"){var D=o(b.as,b.crossOrigin);d.d.M(w,{crossOrigin:D,integrity:typeof b.integrity=="string"?b.integrity:void 0,nonce:typeof b.nonce=="string"?b.nonce:void 0})}}else b==null&&d.d.M(w)},Wt.preload=function(w,b){if(typeof w=="string"&&typeof b=="object"&&b!==null&&typeof b.as=="string"){var D=b.as,q=o(D,b.crossOrigin);d.d.L(w,D,{crossOrigin:q,integrity:typeof b.integrity=="string"?b.integrity:void 0,nonce:typeof b.nonce=="string"?b.nonce:void 0,type:typeof b.type=="string"?b.type:void 0,fetchPriority:typeof b.fetchPriority=="string"?b.fetchPriority:void 0,referrerPolicy:typeof b.referrerPolicy=="string"?b.referrerPolicy:void 0,imageSrcSet:typeof b.imageSrcSet=="string"?b.imageSrcSet:void 0,imageSizes:typeof b.imageSizes=="string"?b.imageSizes:void 0,media:typeof b.media=="string"?b.media:void 0})}},Wt.preloadModule=function(w,b){if(typeof w=="string")if(b){var D=o(b.as,b.crossOrigin);d.d.m(w,{as:typeof b.as=="string"&&b.as!=="script"?b.as:void 0,crossOrigin:D,integrity:typeof b.integrity=="string"?b.integrity:void 0})}else d.d.m(w)},Wt.requestFormReset=function(w){d.d.r(w)},Wt.unstable_batchedUpdates=function(w,b){return w(b)},Wt.useFormState=function(w,b,D){return B.H.useFormState(w,b,D)},Wt.useFormStatus=function(){return B.H.useHostTransitionStatus()},Wt.version="19.1.1",Wt}var td;function oy(){if(td)return Nu.exports;td=1;function h(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(h)}catch(_){console.error(_)}}return h(),Nu.exports=uy(),Nu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ed;function fy(){if(ed)return ka;ed=1;var h=sy(),_=Iu(),m=oy();function d(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)e+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function S(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function x(t){var e=t,a=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(a=e.return),t=e.return;while(t)}return e.tag===3?a:null}function B(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function o(t){if(x(t)!==t)throw Error(d(188))}function w(t){var e=t.alternate;if(!e){if(e=x(t),e===null)throw Error(d(188));return e!==t?null:t}for(var a=t,l=e;;){var s=a.return;if(s===null)break;var f=s.alternate;if(f===null){if(l=s.return,l!==null){a=l;continue}break}if(s.child===f.child){for(f=s.child;f;){if(f===a)return o(s),t;if(f===l)return o(s),e;f=f.sibling}throw Error(d(188))}if(a.return!==l.return)a=s,l=f;else{for(var y=!1,g=s.child;g;){if(g===a){y=!0,a=s,l=f;break}if(g===l){y=!0,l=s,a=f;break}g=g.sibling}if(!y){for(g=f.child;g;){if(g===a){y=!0,a=f,l=s;break}if(g===l){y=!0,l=f,a=s;break}g=g.sibling}if(!y)throw Error(d(189))}}if(a.alternate!==l)throw Error(d(190))}if(a.tag!==3)throw Error(d(188));return a.stateNode.current===a?t:e}function b(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=b(t),e!==null)return e;t=t.sibling}return null}var D=Object.assign,q=Symbol.for("react.element"),Q=Symbol.for("react.transitional.element"),W=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),et=Symbol.for("react.strict_mode"),n=Symbol.for("react.profiler"),r=Symbol.for("react.provider"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),E=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),H=Symbol.for("react.lazy"),Y=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),Z=Symbol.iterator;function at(t){return t===null||typeof t!="object"?null:(t=Z&&t[Z]||t["@@iterator"],typeof t=="function"?t:null)}var $=Symbol.for("react.client.reference");function Ut(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===$?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case O:return"Fragment";case n:return"Profiler";case et:return"StrictMode";case v:return"Suspense";case E:return"SuspenseList";case Y:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case W:return"Portal";case c:return(t.displayName||"Context")+".Provider";case u:return(t._context.displayName||"Context")+".Consumer";case p:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case C:return e=t.displayName||null,e!==null?e:Ut(t.type)||"Memo";case H:e=t._payload,t=t._init;try{return Ut(t(e))}catch{}}return null}var dt=Array.isArray,F=_.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=m.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,lt={pending:!1,data:null,method:null,action:null},pt=[],A=-1;function X(t){return{current:t}}function tt(t){0>A||(t.current=pt[A],pt[A]=null,A--)}function K(t,e){A++,pt[A]=t.current,t.current=e}var rt=X(null),it=X(null),ct=X(null),ue=X(null);function Dt(t,e){switch(K(ct,e),K(it,t),K(rt,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?vh(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=vh(e),t=Sh(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}tt(rt),K(rt,t)}function ai(){tt(rt),tt(it),tt(ct)}function yr(t){t.memoizedState!==null&&K(ue,t);var e=rt.current,a=Sh(e,t.type);e!==a&&(K(it,t),K(rt,a))}function Za(t){it.current===t&&(tt(rt),tt(it)),ue.current===t&&(tt(ue),Ma._currentValue=lt)}var mr=Object.prototype.hasOwnProperty,gr=h.unstable_scheduleCallback,vr=h.unstable_cancelCallback,Rd=h.unstable_shouldYield,Dd=h.unstable_requestPaint,Re=h.unstable_now,Od=h.unstable_getCurrentPriorityLevel,Ju=h.unstable_ImmediatePriority,$u=h.unstable_UserBlockingPriority,Ka=h.unstable_NormalPriority,Md=h.unstable_LowPriority,Wu=h.unstable_IdlePriority,Ld=h.log,Nd=h.unstable_setDisableYieldValue,jn=null,oe=null;function li(t){if(typeof Ld=="function"&&Nd(t),oe&&typeof oe.setStrictMode=="function")try{oe.setStrictMode(jn,t)}catch{}}var fe=Math.clz32?Math.clz32:Fd,Hd=Math.log,Gd=Math.LN2;function Fd(t){return t>>>=0,t===0?32:31-(Hd(t)/Gd|0)|0}var Ja=256,$a=4194304;function Di(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Wa(t,e,a){var l=t.pendingLanes;if(l===0)return 0;var s=0,f=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var g=l&134217727;return g!==0?(l=g&~f,l!==0?s=Di(l):(y&=g,y!==0?s=Di(y):a||(a=g&~t,a!==0&&(s=Di(a))))):(g=l&~f,g!==0?s=Di(g):y!==0?s=Di(y):a||(a=l&~t,a!==0&&(s=Di(a)))),s===0?0:e!==0&&e!==s&&(e&f)===0&&(f=s&-s,a=e&-e,f>=a||f===32&&(a&4194048)!==0)?e:s}function qn(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function Yd(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function to(){var t=Ja;return Ja<<=1,(Ja&4194048)===0&&(Ja=256),t}function eo(){var t=$a;return $a<<=1,($a&62914560)===0&&($a=4194304),t}function Sr(t){for(var e=[],a=0;31>a;a++)e.push(t);return e}function In(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function kd(t,e,a,l,s,f){var y=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var g=t.entanglements,U=t.expirationTimes,M=t.hiddenUpdates;for(a=y&~a;0<a;){var j=31-fe(a),V=1<<j;g[j]=0,U[j]=-1;var L=M[j];if(L!==null)for(M[j]=null,j=0;j<L.length;j++){var N=L[j];N!==null&&(N.lane&=-536870913)}a&=~V}l!==0&&io(t,l,0),f!==0&&s===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~e))}function io(t,e,a){t.pendingLanes|=e,t.suspendedLanes&=~e;var l=31-fe(e);t.entangledLanes|=e,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function no(t,e){var a=t.entangledLanes|=e;for(t=t.entanglements;a;){var l=31-fe(a),s=1<<l;s&e|t[l]&e&&(t[l]|=e),a&=~s}}function br(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function xr(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ao(){var t=J.p;return t!==0?t:(t=window.event,t===void 0?32:Fh(t.type))}function jd(t,e){var a=J.p;try{return J.p=t,e()}finally{J.p=a}}var ri=Math.random().toString(36).slice(2),Jt="__reactFiber$"+ri,ne="__reactProps$"+ri,$i="__reactContainer$"+ri,Ur="__reactEvents$"+ri,qd="__reactListeners$"+ri,Id="__reactHandles$"+ri,lo="__reactResources$"+ri,Vn="__reactMarker$"+ri;function Er(t){delete t[Jt],delete t[ne],delete t[Ur],delete t[qd],delete t[Id]}function Wi(t){var e=t[Jt];if(e)return e;for(var a=t.parentNode;a;){if(e=a[$i]||a[Jt]){if(a=e.alternate,e.child!==null||a!==null&&a.child!==null)for(t=Eh(t);t!==null;){if(a=t[Jt])return a;t=Eh(t)}return e}t=a,a=t.parentNode}return null}function tn(t){if(t=t[Jt]||t[$i]){var e=t.tag;if(e===5||e===6||e===13||e===26||e===27||e===3)return t}return null}function Xn(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(d(33))}function en(t){var e=t[lo];return e||(e=t[lo]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function It(t){t[Vn]=!0}var ro=new Set,so={};function Oi(t,e){nn(t,e),nn(t+"Capture",e)}function nn(t,e){for(so[t]=e,t=0;t<e.length;t++)ro.add(e[t])}var Vd=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),uo={},oo={};function Xd(t){return mr.call(oo,t)?!0:mr.call(uo,t)?!1:Vd.test(t)?oo[t]=!0:(uo[t]=!0,!1)}function tl(t,e,a){if(Xd(e))if(a===null)t.removeAttribute(e);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var l=e.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+a)}}function el(t,e,a){if(a===null)t.removeAttribute(e);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+a)}}function Fe(t,e,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(e,a,""+l)}}var Ar,fo;function an(t){if(Ar===void 0)try{throw Error()}catch(a){var e=a.stack.trim().match(/\n( *(at )?)/);Ar=e&&e[1]||"",fo=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ar+t+fo}var Tr=!1;function wr(t,e){if(!t||Tr)return"";Tr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(e){var V=function(){throw Error()};if(Object.defineProperty(V.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(V,[])}catch(N){var L=N}Reflect.construct(t,[],V)}else{try{V.call()}catch(N){L=N}t.call(V.prototype)}}else{try{throw Error()}catch(N){L=N}(V=t())&&typeof V.catch=="function"&&V.catch(function(){})}}catch(N){if(N&&L&&typeof N.stack=="string")return[N.stack,L.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),y=f[0],g=f[1];if(y&&g){var U=y.split(`
`),M=g.split(`
`);for(s=l=0;l<U.length&&!U[l].includes("DetermineComponentFrameRoot");)l++;for(;s<M.length&&!M[s].includes("DetermineComponentFrameRoot");)s++;if(l===U.length||s===M.length)for(l=U.length-1,s=M.length-1;1<=l&&0<=s&&U[l]!==M[s];)s--;for(;1<=l&&0<=s;l--,s--)if(U[l]!==M[s]){if(l!==1||s!==1)do if(l--,s--,0>s||U[l]!==M[s]){var j=`
`+U[l].replace(" at new "," at ");return t.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",t.displayName)),j}while(1<=l&&0<=s);break}}}finally{Tr=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?an(a):""}function Pd(t){switch(t.tag){case 26:case 27:case 5:return an(t.type);case 16:return an("Lazy");case 13:return an("Suspense");case 19:return an("SuspenseList");case 0:case 15:return wr(t.type,!1);case 11:return wr(t.type.render,!1);case 1:return wr(t.type,!0);case 31:return an("Activity");default:return""}}function co(t){try{var e="";do e+=Pd(t),t=t.return;while(t);return e}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function ve(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ho(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Qd(t){var e=ho(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),l=""+t[e];if(!t.hasOwnProperty(e)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var s=a.get,f=a.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(y){l=""+y,f.call(this,y)}}),Object.defineProperty(t,e,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(y){l=""+y},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function il(t){t._valueTracker||(t._valueTracker=Qd(t))}function po(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var a=e.getValue(),l="";return t&&(l=ho(t)?t.checked?"true":"false":t.value),t=l,t!==a?(e.setValue(t),!0):!1}function nl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Zd=/[\n"\\]/g;function Se(t){return t.replace(Zd,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function Br(t,e,a,l,s,f,y,g){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),e!=null?y==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+ve(e)):t.value!==""+ve(e)&&(t.value=""+ve(e)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),e!=null?zr(t,y,ve(e)):a!=null?zr(t,y,ve(a)):l!=null&&t.removeAttribute("value"),s==null&&f!=null&&(t.defaultChecked=!!f),s!=null&&(t.checked=s&&typeof s!="function"&&typeof s!="symbol"),g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.name=""+ve(g):t.removeAttribute("name")}function _o(t,e,a,l,s,f,y,g){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),e!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||e!=null))return;a=a!=null?""+ve(a):"",e=e!=null?""+ve(e):a,g||e===t.value||(t.value=e),t.defaultValue=e}l=l??s,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=g?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y)}function zr(t,e,a){e==="number"&&nl(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function ln(t,e,a,l){if(t=t.options,e){e={};for(var s=0;s<a.length;s++)e["$"+a[s]]=!0;for(a=0;a<t.length;a++)s=e.hasOwnProperty("$"+t[a].value),t[a].selected!==s&&(t[a].selected=s),s&&l&&(t[a].defaultSelected=!0)}else{for(a=""+ve(a),e=null,s=0;s<t.length;s++){if(t[s].value===a){t[s].selected=!0,l&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function yo(t,e,a){if(e!=null&&(e=""+ve(e),e!==t.value&&(t.value=e),a==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=a!=null?""+ve(a):""}function mo(t,e,a,l){if(e==null){if(l!=null){if(a!=null)throw Error(d(92));if(dt(l)){if(1<l.length)throw Error(d(93));l=l[0]}a=l}a==null&&(a=""),e=a}a=ve(e),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function rn(t,e){if(e){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=e;return}}t.textContent=e}var Kd=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function go(t,e,a){var l=e.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":l?t.setProperty(e,a):typeof a!="number"||a===0||Kd.has(e)?e==="float"?t.cssFloat=a:t[e]=(""+a).trim():t[e]=a+"px"}function vo(t,e,a){if(e!=null&&typeof e!="object")throw Error(d(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||e!=null&&e.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var s in e)l=e[s],e.hasOwnProperty(s)&&a[s]!==l&&go(t,s,l)}else for(var f in e)e.hasOwnProperty(f)&&go(t,f,e[f])}function Cr(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),$d=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function al(t){return $d.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Rr=null;function Dr(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var sn=null,un=null;function So(t){var e=tn(t);if(e&&(t=e.stateNode)){var a=t[ne]||null;t:switch(t=e.stateNode,e.type){case"input":if(Br(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),e=a.name,a.type==="radio"&&e!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Se(""+e)+'"][type="radio"]'),e=0;e<a.length;e++){var l=a[e];if(l!==t&&l.form===t.form){var s=l[ne]||null;if(!s)throw Error(d(90));Br(l,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(e=0;e<a.length;e++)l=a[e],l.form===t.form&&po(l)}break t;case"textarea":yo(t,a.value,a.defaultValue);break t;case"select":e=a.value,e!=null&&ln(t,!!a.multiple,e,!1)}}}var Or=!1;function bo(t,e,a){if(Or)return t(e,a);Or=!0;try{var l=t(e);return l}finally{if(Or=!1,(sn!==null||un!==null)&&(ql(),sn&&(e=sn,t=un,un=sn=null,So(e),t)))for(e=0;e<t.length;e++)So(t[e])}}function Pn(t,e){var a=t.stateNode;if(a===null)return null;var l=a[ne]||null;if(l===null)return null;a=l[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(d(231,e,typeof a));return a}var Ye=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mr=!1;if(Ye)try{var Qn={};Object.defineProperty(Qn,"passive",{get:function(){Mr=!0}}),window.addEventListener("test",Qn,Qn),window.removeEventListener("test",Qn,Qn)}catch{Mr=!1}var si=null,Lr=null,ll=null;function xo(){if(ll)return ll;var t,e=Lr,a=e.length,l,s="value"in si?si.value:si.textContent,f=s.length;for(t=0;t<a&&e[t]===s[t];t++);var y=a-t;for(l=1;l<=y&&e[a-l]===s[f-l];l++);return ll=s.slice(t,1<l?1-l:void 0)}function rl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function sl(){return!0}function Uo(){return!1}function ae(t){function e(a,l,s,f,y){this._reactName=a,this._targetInst=s,this.type=l,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var g in t)t.hasOwnProperty(g)&&(a=t[g],this[g]=a?a(f):f[g]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?sl:Uo,this.isPropagationStopped=Uo,this}return D(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=sl)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=sl)},persist:function(){},isPersistent:sl}),e}var Mi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ul=ae(Mi),Zn=D({},Mi,{view:0,detail:0}),Wd=ae(Zn),Nr,Hr,Kn,ol=D({},Zn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Kn&&(Kn&&t.type==="mousemove"?(Nr=t.screenX-Kn.screenX,Hr=t.screenY-Kn.screenY):Hr=Nr=0,Kn=t),Nr)},movementY:function(t){return"movementY"in t?t.movementY:Hr}}),Eo=ae(ol),tp=D({},ol,{dataTransfer:0}),ep=ae(tp),ip=D({},Zn,{relatedTarget:0}),Gr=ae(ip),np=D({},Mi,{animationName:0,elapsedTime:0,pseudoElement:0}),ap=ae(np),lp=D({},Mi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),rp=ae(lp),sp=D({},Mi,{data:0}),Ao=ae(sp),up={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},op={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cp(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=fp[t])?!!e[t]:!1}function Fr(){return cp}var hp=D({},Zn,{key:function(t){if(t.key){var e=up[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=rl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?op[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fr,charCode:function(t){return t.type==="keypress"?rl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?rl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),dp=ae(hp),pp=D({},ol,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),To=ae(pp),_p=D({},Zn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fr}),yp=ae(_p),mp=D({},Mi,{propertyName:0,elapsedTime:0,pseudoElement:0}),gp=ae(mp),vp=D({},ol,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Sp=ae(vp),bp=D({},Mi,{newState:0,oldState:0}),xp=ae(bp),Up=[9,13,27,32],Yr=Ye&&"CompositionEvent"in window,Jn=null;Ye&&"documentMode"in document&&(Jn=document.documentMode);var Ep=Ye&&"TextEvent"in window&&!Jn,wo=Ye&&(!Yr||Jn&&8<Jn&&11>=Jn),Bo=" ",zo=!1;function Co(t,e){switch(t){case"keyup":return Up.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ro(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var on=!1;function Ap(t,e){switch(t){case"compositionend":return Ro(e);case"keypress":return e.which!==32?null:(zo=!0,Bo);case"textInput":return t=e.data,t===Bo&&zo?null:t;default:return null}}function Tp(t,e){if(on)return t==="compositionend"||!Yr&&Co(t,e)?(t=xo(),ll=Lr=si=null,on=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return wo&&e.locale!=="ko"?null:e.data;default:return null}}var wp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Do(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!wp[t.type]:e==="textarea"}function Oo(t,e,a,l){sn?un?un.push(l):un=[l]:sn=l,e=Zl(e,"onChange"),0<e.length&&(a=new ul("onChange","change",null,a,l),t.push({event:a,listeners:e}))}var $n=null,Wn=null;function Bp(t){ph(t,0)}function fl(t){var e=Xn(t);if(po(e))return t}function Mo(t,e){if(t==="change")return e}var Lo=!1;if(Ye){var kr;if(Ye){var jr="oninput"in document;if(!jr){var No=document.createElement("div");No.setAttribute("oninput","return;"),jr=typeof No.oninput=="function"}kr=jr}else kr=!1;Lo=kr&&(!document.documentMode||9<document.documentMode)}function Ho(){$n&&($n.detachEvent("onpropertychange",Go),Wn=$n=null)}function Go(t){if(t.propertyName==="value"&&fl(Wn)){var e=[];Oo(e,Wn,t,Dr(t)),bo(Bp,e)}}function zp(t,e,a){t==="focusin"?(Ho(),$n=e,Wn=a,$n.attachEvent("onpropertychange",Go)):t==="focusout"&&Ho()}function Cp(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return fl(Wn)}function Rp(t,e){if(t==="click")return fl(e)}function Dp(t,e){if(t==="input"||t==="change")return fl(e)}function Op(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ce=typeof Object.is=="function"?Object.is:Op;function ta(t,e){if(ce(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var a=Object.keys(t),l=Object.keys(e);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var s=a[l];if(!mr.call(e,s)||!ce(t[s],e[s]))return!1}return!0}function Fo(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Yo(t,e){var a=Fo(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=e&&l>=e)return{node:a,offset:e-t};t=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Fo(a)}}function ko(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?ko(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function jo(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=nl(t.document);e instanceof t.HTMLIFrameElement;){try{var a=typeof e.contentWindow.location.href=="string"}catch{a=!1}if(a)t=e.contentWindow;else break;e=nl(t.document)}return e}function qr(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var Mp=Ye&&"documentMode"in document&&11>=document.documentMode,fn=null,Ir=null,ea=null,Vr=!1;function qo(t,e,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Vr||fn==null||fn!==nl(l)||(l=fn,"selectionStart"in l&&qr(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ea&&ta(ea,l)||(ea=l,l=Zl(Ir,"onSelect"),0<l.length&&(e=new ul("onSelect","select",null,e,a),t.push({event:e,listeners:l}),e.target=fn)))}function Li(t,e){var a={};return a[t.toLowerCase()]=e.toLowerCase(),a["Webkit"+t]="webkit"+e,a["Moz"+t]="moz"+e,a}var cn={animationend:Li("Animation","AnimationEnd"),animationiteration:Li("Animation","AnimationIteration"),animationstart:Li("Animation","AnimationStart"),transitionrun:Li("Transition","TransitionRun"),transitionstart:Li("Transition","TransitionStart"),transitioncancel:Li("Transition","TransitionCancel"),transitionend:Li("Transition","TransitionEnd")},Xr={},Io={};Ye&&(Io=document.createElement("div").style,"AnimationEvent"in window||(delete cn.animationend.animation,delete cn.animationiteration.animation,delete cn.animationstart.animation),"TransitionEvent"in window||delete cn.transitionend.transition);function Ni(t){if(Xr[t])return Xr[t];if(!cn[t])return t;var e=cn[t],a;for(a in e)if(e.hasOwnProperty(a)&&a in Io)return Xr[t]=e[a];return t}var Vo=Ni("animationend"),Xo=Ni("animationiteration"),Po=Ni("animationstart"),Lp=Ni("transitionrun"),Np=Ni("transitionstart"),Hp=Ni("transitioncancel"),Qo=Ni("transitionend"),Zo=new Map,Pr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Pr.push("scrollEnd");function Be(t,e){Zo.set(t,e),Oi(e,[t])}var Ko=new WeakMap;function be(t,e){if(typeof t=="object"&&t!==null){var a=Ko.get(t);return a!==void 0?a:(e={value:t,source:e,stack:co(e)},Ko.set(t,e),e)}return{value:t,source:e,stack:co(e)}}var xe=[],hn=0,Qr=0;function cl(){for(var t=hn,e=Qr=hn=0;e<t;){var a=xe[e];xe[e++]=null;var l=xe[e];xe[e++]=null;var s=xe[e];xe[e++]=null;var f=xe[e];if(xe[e++]=null,l!==null&&s!==null){var y=l.pending;y===null?s.next=s:(s.next=y.next,y.next=s),l.pending=s}f!==0&&Jo(a,s,f)}}function hl(t,e,a,l){xe[hn++]=t,xe[hn++]=e,xe[hn++]=a,xe[hn++]=l,Qr|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Zr(t,e,a,l){return hl(t,e,a,l),dl(t)}function dn(t,e){return hl(t,null,null,e),dl(t)}function Jo(t,e,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var s=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(s=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,s&&e!==null&&(s=31-fe(a),t=f.hiddenUpdates,l=t[s],l===null?t[s]=[e]:l.push(e),e.lane=a|536870912),f):null}function dl(t){if(50<Ta)throw Ta=0,eu=null,Error(d(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var pn={};function Gp(t,e,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function he(t,e,a,l){return new Gp(t,e,a,l)}function Kr(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ke(t,e){var a=t.alternate;return a===null?(a=he(t.tag,e,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=e,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,e=t.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function $o(t,e){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,e=a.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function pl(t,e,a,l,s,f){var y=0;if(l=t,typeof t=="function")Kr(t)&&(y=1);else if(typeof t=="string")y=Y_(t,a,rt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case Y:return t=he(31,a,e,s),t.elementType=Y,t.lanes=f,t;case O:return Hi(a.children,s,f,e);case et:y=8,s|=24;break;case n:return t=he(12,a,e,s|2),t.elementType=n,t.lanes=f,t;case v:return t=he(13,a,e,s),t.elementType=v,t.lanes=f,t;case E:return t=he(19,a,e,s),t.elementType=E,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case r:case c:y=10;break t;case u:y=9;break t;case p:y=11;break t;case C:y=14;break t;case H:y=16,l=null;break t}y=29,a=Error(d(130,t===null?"null":typeof t,"")),l=null}return e=he(y,a,e,s),e.elementType=t,e.type=l,e.lanes=f,e}function Hi(t,e,a,l){return t=he(7,t,l,e),t.lanes=a,t}function Jr(t,e,a){return t=he(6,t,null,e),t.lanes=a,t}function $r(t,e,a){return e=he(4,t.children!==null?t.children:[],t.key,e),e.lanes=a,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var _n=[],yn=0,_l=null,yl=0,Ue=[],Ee=0,Gi=null,je=1,qe="";function Fi(t,e){_n[yn++]=yl,_n[yn++]=_l,_l=t,yl=e}function Wo(t,e,a){Ue[Ee++]=je,Ue[Ee++]=qe,Ue[Ee++]=Gi,Gi=t;var l=je;t=qe;var s=32-fe(l)-1;l&=~(1<<s),a+=1;var f=32-fe(e)+s;if(30<f){var y=s-s%5;f=(l&(1<<y)-1).toString(32),l>>=y,s-=y,je=1<<32-fe(e)+s|a<<s|l,qe=f+t}else je=1<<f|a<<s|l,qe=t}function Wr(t){t.return!==null&&(Fi(t,1),Wo(t,1,0))}function ts(t){for(;t===_l;)_l=_n[--yn],_n[yn]=null,yl=_n[--yn],_n[yn]=null;for(;t===Gi;)Gi=Ue[--Ee],Ue[Ee]=null,qe=Ue[--Ee],Ue[Ee]=null,je=Ue[--Ee],Ue[Ee]=null}var te=null,Nt=null,xt=!1,Yi=null,De=!1,es=Error(d(519));function ki(t){var e=Error(d(418,""));throw aa(be(e,t)),es}function tf(t){var e=t.stateNode,a=t.type,l=t.memoizedProps;switch(e[Jt]=t,e[ne]=l,a){case"dialog":vt("cancel",e),vt("close",e);break;case"iframe":case"object":case"embed":vt("load",e);break;case"video":case"audio":for(a=0;a<Ba.length;a++)vt(Ba[a],e);break;case"source":vt("error",e);break;case"img":case"image":case"link":vt("error",e),vt("load",e);break;case"details":vt("toggle",e);break;case"input":vt("invalid",e),_o(e,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),il(e);break;case"select":vt("invalid",e);break;case"textarea":vt("invalid",e),mo(e,l.value,l.defaultValue,l.children),il(e)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||e.textContent===""+a||l.suppressHydrationWarning===!0||gh(e.textContent,a)?(l.popover!=null&&(vt("beforetoggle",e),vt("toggle",e)),l.onScroll!=null&&vt("scroll",e),l.onScrollEnd!=null&&vt("scrollend",e),l.onClick!=null&&(e.onclick=Kl),e=!0):e=!1,e||ki(t)}function ef(t){for(te=t.return;te;)switch(te.tag){case 5:case 13:De=!1;return;case 27:case 3:De=!0;return;default:te=te.return}}function ia(t){if(t!==te)return!1;if(!xt)return ef(t),xt=!0,!1;var e=t.tag,a;if((a=e!==3&&e!==27)&&((a=e===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||mu(t.type,t.memoizedProps)),a=!a),a&&Nt&&ki(t),ef(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(d(317));t:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(e===0){Nt=Ce(t.nextSibling);break t}e--}else a!=="$"&&a!=="$!"&&a!=="$?"||e++;t=t.nextSibling}Nt=null}}else e===27?(e=Nt,Ui(t.type)?(t=bu,bu=null,Nt=t):Nt=e):Nt=te?Ce(t.stateNode.nextSibling):null;return!0}function na(){Nt=te=null,xt=!1}function nf(){var t=Yi;return t!==null&&(se===null?se=t:se.push.apply(se,t),Yi=null),t}function aa(t){Yi===null?Yi=[t]:Yi.push(t)}var is=X(null),ji=null,Ie=null;function ui(t,e,a){K(is,e._currentValue),e._currentValue=a}function Ve(t){t._currentValue=is.current,tt(is)}function ns(t,e,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,l!==null&&(l.childLanes|=e)):l!==null&&(l.childLanes&e)!==e&&(l.childLanes|=e),t===a)break;t=t.return}}function as(t,e,a,l){var s=t.child;for(s!==null&&(s.return=t);s!==null;){var f=s.dependencies;if(f!==null){var y=s.child;f=f.firstContext;t:for(;f!==null;){var g=f;f=s;for(var U=0;U<e.length;U++)if(g.context===e[U]){f.lanes|=a,g=f.alternate,g!==null&&(g.lanes|=a),ns(f.return,a,t),l||(y=null);break t}f=g.next}}else if(s.tag===18){if(y=s.return,y===null)throw Error(d(341));y.lanes|=a,f=y.alternate,f!==null&&(f.lanes|=a),ns(y,a,t),y=null}else y=s.child;if(y!==null)y.return=s;else for(y=s;y!==null;){if(y===t){y=null;break}if(s=y.sibling,s!==null){s.return=y.return,y=s;break}y=y.return}s=y}}function la(t,e,a,l){t=null;for(var s=e,f=!1;s!==null;){if(!f){if((s.flags&524288)!==0)f=!0;else if((s.flags&262144)!==0)break}if(s.tag===10){var y=s.alternate;if(y===null)throw Error(d(387));if(y=y.memoizedProps,y!==null){var g=s.type;ce(s.pendingProps.value,y.value)||(t!==null?t.push(g):t=[g])}}else if(s===ue.current){if(y=s.alternate,y===null)throw Error(d(387));y.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(t!==null?t.push(Ma):t=[Ma])}s=s.return}t!==null&&as(e,t,a,l),e.flags|=262144}function ml(t){for(t=t.firstContext;t!==null;){if(!ce(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function qi(t){ji=t,Ie=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function $t(t){return af(ji,t)}function gl(t,e){return ji===null&&qi(t),af(t,e)}function af(t,e){var a=e._currentValue;if(e={context:e,memoizedValue:a,next:null},Ie===null){if(t===null)throw Error(d(308));Ie=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else Ie=Ie.next=e;return a}var Fp=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){e.aborted=!0,t.forEach(function(a){return a()})}},Yp=h.unstable_scheduleCallback,kp=h.unstable_NormalPriority,jt={$$typeof:c,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ls(){return{controller:new Fp,data:new Map,refCount:0}}function ra(t){t.refCount--,t.refCount===0&&Yp(kp,function(){t.controller.abort()})}var sa=null,rs=0,mn=0,gn=null;function jp(t,e){if(sa===null){var a=sa=[];rs=0,mn=uu(),gn={status:"pending",value:void 0,then:function(l){a.push(l)}}}return rs++,e.then(lf,lf),e}function lf(){if(--rs===0&&sa!==null){gn!==null&&(gn.status="fulfilled");var t=sa;sa=null,mn=0,gn=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function qp(t,e){var a=[],l={status:"pending",value:null,reason:null,then:function(s){a.push(s)}};return t.then(function(){l.status="fulfilled",l.value=e;for(var s=0;s<a.length;s++)(0,a[s])(e)},function(s){for(l.status="rejected",l.reason=s,s=0;s<a.length;s++)(0,a[s])(void 0)}),l}var rf=F.S;F.S=function(t,e){typeof e=="object"&&e!==null&&typeof e.then=="function"&&jp(t,e),rf!==null&&rf(t,e)};var Ii=X(null);function ss(){var t=Ii.current;return t!==null?t:Rt.pooledCache}function vl(t,e){e===null?K(Ii,Ii.current):K(Ii,e.pool)}function sf(){var t=ss();return t===null?null:{parent:jt._currentValue,pool:t}}var ua=Error(d(460)),uf=Error(d(474)),Sl=Error(d(542)),us={then:function(){}};function of(t){return t=t.status,t==="fulfilled"||t==="rejected"}function bl(){}function ff(t,e,a){switch(a=t[a],a===void 0?t.push(e):a!==e&&(e.then(bl,bl),e=a),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,hf(t),t;default:if(typeof e.status=="string")e.then(bl,bl);else{if(t=Rt,t!==null&&100<t.shellSuspendCounter)throw Error(d(482));t=e,t.status="pending",t.then(function(l){if(e.status==="pending"){var s=e;s.status="fulfilled",s.value=l}},function(l){if(e.status==="pending"){var s=e;s.status="rejected",s.reason=l}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,hf(t),t}throw oa=e,ua}}var oa=null;function cf(){if(oa===null)throw Error(d(459));var t=oa;return oa=null,t}function hf(t){if(t===ua||t===Sl)throw Error(d(483))}var oi=!1;function os(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function fs(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function fi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ci(t,e,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Et&2)!==0){var s=l.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),l.pending=e,e=dl(t),Jo(t,null,a),e}return hl(t,l,e,a),dl(t)}function fa(t,e,a){if(e=e.updateQueue,e!==null&&(e=e.shared,(a&4194048)!==0)){var l=e.lanes;l&=t.pendingLanes,a|=l,e.lanes=a,no(t,a)}}function cs(t,e){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var s=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var y={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?s=f=y:f=f.next=y,a=a.next}while(a!==null);f===null?s=f=e:f=f.next=e}else s=f=e;a={baseState:l.baseState,firstBaseUpdate:s,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=e:t.next=e,a.lastBaseUpdate=e}var hs=!1;function ca(){if(hs){var t=gn;if(t!==null)throw t}}function ha(t,e,a,l){hs=!1;var s=t.updateQueue;oi=!1;var f=s.firstBaseUpdate,y=s.lastBaseUpdate,g=s.shared.pending;if(g!==null){s.shared.pending=null;var U=g,M=U.next;U.next=null,y===null?f=M:y.next=M,y=U;var j=t.alternate;j!==null&&(j=j.updateQueue,g=j.lastBaseUpdate,g!==y&&(g===null?j.firstBaseUpdate=M:g.next=M,j.lastBaseUpdate=U))}if(f!==null){var V=s.baseState;y=0,j=M=U=null,g=f;do{var L=g.lane&-536870913,N=L!==g.lane;if(N?(St&L)===L:(l&L)===L){L!==0&&L===mn&&(hs=!0),j!==null&&(j=j.next={lane:0,tag:g.tag,payload:g.payload,callback:null,next:null});t:{var ft=t,ut=g;L=e;var zt=a;switch(ut.tag){case 1:if(ft=ut.payload,typeof ft=="function"){V=ft.call(zt,V,L);break t}V=ft;break t;case 3:ft.flags=ft.flags&-65537|128;case 0:if(ft=ut.payload,L=typeof ft=="function"?ft.call(zt,V,L):ft,L==null)break t;V=D({},V,L);break t;case 2:oi=!0}}L=g.callback,L!==null&&(t.flags|=64,N&&(t.flags|=8192),N=s.callbacks,N===null?s.callbacks=[L]:N.push(L))}else N={lane:L,tag:g.tag,payload:g.payload,callback:g.callback,next:null},j===null?(M=j=N,U=V):j=j.next=N,y|=L;if(g=g.next,g===null){if(g=s.shared.pending,g===null)break;N=g,g=N.next,N.next=null,s.lastBaseUpdate=N,s.shared.pending=null}}while(!0);j===null&&(U=V),s.baseState=U,s.firstBaseUpdate=M,s.lastBaseUpdate=j,f===null&&(s.shared.lanes=0),vi|=y,t.lanes=y,t.memoizedState=V}}function df(t,e){if(typeof t!="function")throw Error(d(191,t));t.call(e)}function pf(t,e){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)df(a[t],e)}var vn=X(null),xl=X(0);function _f(t,e){t=$e,K(xl,t),K(vn,e),$e=t|e.baseLanes}function ds(){K(xl,$e),K(vn,vn.current)}function ps(){$e=xl.current,tt(vn),tt(xl)}var hi=0,_t=null,wt=null,Yt=null,Ul=!1,Sn=!1,Vi=!1,El=0,da=0,bn=null,Ip=0;function Gt(){throw Error(d(321))}function _s(t,e){if(e===null)return!1;for(var a=0;a<e.length&&a<t.length;a++)if(!ce(t[a],e[a]))return!1;return!0}function ys(t,e,a,l,s,f){return hi=f,_t=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,F.H=t===null||t.memoizedState===null?$f:Wf,Vi=!1,f=a(l,s),Vi=!1,Sn&&(f=mf(e,a,l,s)),yf(t),f}function yf(t){F.H=Cl;var e=wt!==null&&wt.next!==null;if(hi=0,Yt=wt=_t=null,Ul=!1,da=0,bn=null,e)throw Error(d(300));t===null||Vt||(t=t.dependencies,t!==null&&ml(t)&&(Vt=!0))}function mf(t,e,a,l){_t=t;var s=0;do{if(Sn&&(bn=null),da=0,Sn=!1,25<=s)throw Error(d(301));if(s+=1,Yt=wt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=Jp,f=e(a,l)}while(Sn);return f}function Vp(){var t=F.H,e=t.useState()[0];return e=typeof e.then=="function"?pa(e):e,t=t.useState()[0],(wt!==null?wt.memoizedState:null)!==t&&(_t.flags|=1024),e}function ms(){var t=El!==0;return El=0,t}function gs(t,e,a){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~a}function vs(t){if(Ul){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}Ul=!1}hi=0,Yt=wt=_t=null,Sn=!1,da=El=0,bn=null}function le(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Yt===null?_t.memoizedState=Yt=t:Yt=Yt.next=t,Yt}function kt(){if(wt===null){var t=_t.alternate;t=t!==null?t.memoizedState:null}else t=wt.next;var e=Yt===null?_t.memoizedState:Yt.next;if(e!==null)Yt=e,wt=t;else{if(t===null)throw _t.alternate===null?Error(d(467)):Error(d(310));wt=t,t={memoizedState:wt.memoizedState,baseState:wt.baseState,baseQueue:wt.baseQueue,queue:wt.queue,next:null},Yt===null?_t.memoizedState=Yt=t:Yt=Yt.next=t}return Yt}function Ss(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function pa(t){var e=da;return da+=1,bn===null&&(bn=[]),t=ff(bn,t,e),e=_t,(Yt===null?e.memoizedState:Yt.next)===null&&(e=e.alternate,F.H=e===null||e.memoizedState===null?$f:Wf),t}function Al(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return pa(t);if(t.$$typeof===c)return $t(t)}throw Error(d(438,String(t)))}function bs(t){var e=null,a=_t.updateQueue;if(a!==null&&(e=a.memoCache),e==null){var l=_t.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(e={data:l.data.map(function(s){return s.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),a===null&&(a=Ss(),_t.updateQueue=a),a.memoCache=e,a=e.data[e.index],a===void 0)for(a=e.data[e.index]=Array(t),l=0;l<t;l++)a[l]=P;return e.index++,a}function Xe(t,e){return typeof e=="function"?e(t):e}function Tl(t){var e=kt();return xs(e,wt,t)}function xs(t,e,a){var l=t.queue;if(l===null)throw Error(d(311));l.lastRenderedReducer=a;var s=t.baseQueue,f=l.pending;if(f!==null){if(s!==null){var y=s.next;s.next=f.next,f.next=y}e.baseQueue=s=f,l.pending=null}if(f=t.baseState,s===null)t.memoizedState=f;else{e=s.next;var g=y=null,U=null,M=e,j=!1;do{var V=M.lane&-536870913;if(V!==M.lane?(St&V)===V:(hi&V)===V){var L=M.revertLane;if(L===0)U!==null&&(U=U.next={lane:0,revertLane:0,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null}),V===mn&&(j=!0);else if((hi&L)===L){M=M.next,L===mn&&(j=!0);continue}else V={lane:0,revertLane:M.revertLane,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null},U===null?(g=U=V,y=f):U=U.next=V,_t.lanes|=L,vi|=L;V=M.action,Vi&&a(f,V),f=M.hasEagerState?M.eagerState:a(f,V)}else L={lane:V,revertLane:M.revertLane,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null},U===null?(g=U=L,y=f):U=U.next=L,_t.lanes|=V,vi|=V;M=M.next}while(M!==null&&M!==e);if(U===null?y=f:U.next=g,!ce(f,t.memoizedState)&&(Vt=!0,j&&(a=gn,a!==null)))throw a;t.memoizedState=f,t.baseState=y,t.baseQueue=U,l.lastRenderedState=f}return s===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Us(t){var e=kt(),a=e.queue;if(a===null)throw Error(d(311));a.lastRenderedReducer=t;var l=a.dispatch,s=a.pending,f=e.memoizedState;if(s!==null){a.pending=null;var y=s=s.next;do f=t(f,y.action),y=y.next;while(y!==s);ce(f,e.memoizedState)||(Vt=!0),e.memoizedState=f,e.baseQueue===null&&(e.baseState=f),a.lastRenderedState=f}return[f,l]}function gf(t,e,a){var l=_t,s=kt(),f=xt;if(f){if(a===void 0)throw Error(d(407));a=a()}else a=e();var y=!ce((wt||s).memoizedState,a);y&&(s.memoizedState=a,Vt=!0),s=s.queue;var g=bf.bind(null,l,s,t);if(_a(2048,8,g,[t]),s.getSnapshot!==e||y||Yt!==null&&Yt.memoizedState.tag&1){if(l.flags|=2048,xn(9,wl(),Sf.bind(null,l,s,a,e),null),Rt===null)throw Error(d(349));f||(hi&124)!==0||vf(l,e,a)}return a}function vf(t,e,a){t.flags|=16384,t={getSnapshot:e,value:a},e=_t.updateQueue,e===null?(e=Ss(),_t.updateQueue=e,e.stores=[t]):(a=e.stores,a===null?e.stores=[t]:a.push(t))}function Sf(t,e,a,l){e.value=a,e.getSnapshot=l,xf(e)&&Uf(t)}function bf(t,e,a){return a(function(){xf(e)&&Uf(t)})}function xf(t){var e=t.getSnapshot;t=t.value;try{var a=e();return!ce(t,a)}catch{return!0}}function Uf(t){var e=dn(t,2);e!==null&&me(e,t,2)}function Es(t){var e=le();if(typeof t=="function"){var a=t;if(t=a(),Vi){li(!0);try{a()}finally{li(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xe,lastRenderedState:t},e}function Ef(t,e,a,l){return t.baseState=a,xs(t,wt,typeof l=="function"?l:Xe)}function Xp(t,e,a,l,s){if(zl(t))throw Error(d(485));if(t=e.action,t!==null){var f={payload:s,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};F.T!==null?a(!0):f.isTransition=!1,l(f),a=e.pending,a===null?(f.next=e.pending=f,Af(e,f)):(f.next=a.next,e.pending=a.next=f)}}function Af(t,e){var a=e.action,l=e.payload,s=t.state;if(e.isTransition){var f=F.T,y={};F.T=y;try{var g=a(s,l),U=F.S;U!==null&&U(y,g),Tf(t,e,g)}catch(M){As(t,e,M)}finally{F.T=f}}else try{f=a(s,l),Tf(t,e,f)}catch(M){As(t,e,M)}}function Tf(t,e,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){wf(t,e,l)},function(l){return As(t,e,l)}):wf(t,e,a)}function wf(t,e,a){e.status="fulfilled",e.value=a,Bf(e),t.state=a,e=t.pending,e!==null&&(a=e.next,a===e?t.pending=null:(a=a.next,e.next=a,Af(t,a)))}function As(t,e,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do e.status="rejected",e.reason=a,Bf(e),e=e.next;while(e!==l)}t.action=null}function Bf(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function zf(t,e){return e}function Cf(t,e){if(xt){var a=Rt.formState;if(a!==null){t:{var l=_t;if(xt){if(Nt){e:{for(var s=Nt,f=De;s.nodeType!==8;){if(!f){s=null;break e}if(s=Ce(s.nextSibling),s===null){s=null;break e}}f=s.data,s=f==="F!"||f==="F"?s:null}if(s){Nt=Ce(s.nextSibling),l=s.data==="F!";break t}}ki(l)}l=!1}l&&(e=a[0])}}return a=le(),a.memoizedState=a.baseState=e,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zf,lastRenderedState:e},a.queue=l,a=Zf.bind(null,_t,l),l.dispatch=a,l=Es(!1),f=Cs.bind(null,_t,!1,l.queue),l=le(),s={state:e,dispatch:null,action:t,pending:null},l.queue=s,a=Xp.bind(null,_t,s,f,a),s.dispatch=a,l.memoizedState=t,[e,a,!1]}function Rf(t){var e=kt();return Df(e,wt,t)}function Df(t,e,a){if(e=xs(t,e,zf)[0],t=Tl(Xe)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var l=pa(e)}catch(y){throw y===ua?Sl:y}else l=e;e=kt();var s=e.queue,f=s.dispatch;return a!==e.memoizedState&&(_t.flags|=2048,xn(9,wl(),Pp.bind(null,s,a),null)),[l,f,t]}function Pp(t,e){t.action=e}function Of(t){var e=kt(),a=wt;if(a!==null)return Df(e,a,t);kt(),e=e.memoizedState,a=kt();var l=a.queue.dispatch;return a.memoizedState=t,[e,l,!1]}function xn(t,e,a,l){return t={tag:t,create:a,deps:l,inst:e,next:null},e=_t.updateQueue,e===null&&(e=Ss(),_t.updateQueue=e),a=e.lastEffect,a===null?e.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,e.lastEffect=t),t}function wl(){return{destroy:void 0,resource:void 0}}function Mf(){return kt().memoizedState}function Bl(t,e,a,l){var s=le();l=l===void 0?null:l,_t.flags|=t,s.memoizedState=xn(1|e,wl(),a,l)}function _a(t,e,a,l){var s=kt();l=l===void 0?null:l;var f=s.memoizedState.inst;wt!==null&&l!==null&&_s(l,wt.memoizedState.deps)?s.memoizedState=xn(e,f,a,l):(_t.flags|=t,s.memoizedState=xn(1|e,f,a,l))}function Lf(t,e){Bl(8390656,8,t,e)}function Nf(t,e){_a(2048,8,t,e)}function Hf(t,e){return _a(4,2,t,e)}function Gf(t,e){return _a(4,4,t,e)}function Ff(t,e){if(typeof e=="function"){t=t();var a=e(t);return function(){typeof a=="function"?a():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Yf(t,e,a){a=a!=null?a.concat([t]):null,_a(4,4,Ff.bind(null,e,t),a)}function Ts(){}function kf(t,e){var a=kt();e=e===void 0?null:e;var l=a.memoizedState;return e!==null&&_s(e,l[1])?l[0]:(a.memoizedState=[t,e],t)}function jf(t,e){var a=kt();e=e===void 0?null:e;var l=a.memoizedState;if(e!==null&&_s(e,l[1]))return l[0];if(l=t(),Vi){li(!0);try{t()}finally{li(!1)}}return a.memoizedState=[l,e],l}function ws(t,e,a){return a===void 0||(hi&1073741824)!==0?t.memoizedState=e:(t.memoizedState=a,t=Vc(),_t.lanes|=t,vi|=t,a)}function qf(t,e,a,l){return ce(a,e)?a:vn.current!==null?(t=ws(t,a,l),ce(t,e)||(Vt=!0),t):(hi&42)===0?(Vt=!0,t.memoizedState=a):(t=Vc(),_t.lanes|=t,vi|=t,e)}function If(t,e,a,l,s){var f=J.p;J.p=f!==0&&8>f?f:8;var y=F.T,g={};F.T=g,Cs(t,!1,e,a);try{var U=s(),M=F.S;if(M!==null&&M(g,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var j=qp(U,l);ya(t,e,j,ye(t))}else ya(t,e,l,ye(t))}catch(V){ya(t,e,{then:function(){},status:"rejected",reason:V},ye())}finally{J.p=f,F.T=y}}function Qp(){}function Bs(t,e,a,l){if(t.tag!==5)throw Error(d(476));var s=Vf(t).queue;If(t,s,e,lt,a===null?Qp:function(){return Xf(t),a(l)})}function Vf(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:lt,baseState:lt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xe,lastRenderedState:lt},next:null};var a={};return e.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xe,lastRenderedState:a},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function Xf(t){var e=Vf(t).next.queue;ya(t,e,{},ye())}function zs(){return $t(Ma)}function Pf(){return kt().memoizedState}function Qf(){return kt().memoizedState}function Zp(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var a=ye();t=fi(a);var l=ci(e,t,a);l!==null&&(me(l,e,a),fa(l,e,a)),e={cache:ls()},t.payload=e;return}e=e.return}}function Kp(t,e,a){var l=ye();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},zl(t)?Kf(e,a):(a=Zr(t,e,a,l),a!==null&&(me(a,t,l),Jf(a,e,l)))}function Zf(t,e,a){var l=ye();ya(t,e,a,l)}function ya(t,e,a,l){var s={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(zl(t))Kf(e,s);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=e.lastRenderedReducer,f!==null))try{var y=e.lastRenderedState,g=f(y,a);if(s.hasEagerState=!0,s.eagerState=g,ce(g,y))return hl(t,e,s,0),Rt===null&&cl(),!1}catch{}finally{}if(a=Zr(t,e,s,l),a!==null)return me(a,t,l),Jf(a,e,l),!0}return!1}function Cs(t,e,a,l){if(l={lane:2,revertLane:uu(),action:l,hasEagerState:!1,eagerState:null,next:null},zl(t)){if(e)throw Error(d(479))}else e=Zr(t,a,l,2),e!==null&&me(e,t,2)}function zl(t){var e=t.alternate;return t===_t||e!==null&&e===_t}function Kf(t,e){Sn=Ul=!0;var a=t.pending;a===null?e.next=e:(e.next=a.next,a.next=e),t.pending=e}function Jf(t,e,a){if((a&4194048)!==0){var l=e.lanes;l&=t.pendingLanes,a|=l,e.lanes=a,no(t,a)}}var Cl={readContext:$t,use:Al,useCallback:Gt,useContext:Gt,useEffect:Gt,useImperativeHandle:Gt,useLayoutEffect:Gt,useInsertionEffect:Gt,useMemo:Gt,useReducer:Gt,useRef:Gt,useState:Gt,useDebugValue:Gt,useDeferredValue:Gt,useTransition:Gt,useSyncExternalStore:Gt,useId:Gt,useHostTransitionStatus:Gt,useFormState:Gt,useActionState:Gt,useOptimistic:Gt,useMemoCache:Gt,useCacheRefresh:Gt},$f={readContext:$t,use:Al,useCallback:function(t,e){return le().memoizedState=[t,e===void 0?null:e],t},useContext:$t,useEffect:Lf,useImperativeHandle:function(t,e,a){a=a!=null?a.concat([t]):null,Bl(4194308,4,Ff.bind(null,e,t),a)},useLayoutEffect:function(t,e){return Bl(4194308,4,t,e)},useInsertionEffect:function(t,e){Bl(4,2,t,e)},useMemo:function(t,e){var a=le();e=e===void 0?null:e;var l=t();if(Vi){li(!0);try{t()}finally{li(!1)}}return a.memoizedState=[l,e],l},useReducer:function(t,e,a){var l=le();if(a!==void 0){var s=a(e);if(Vi){li(!0);try{a(e)}finally{li(!1)}}}else s=e;return l.memoizedState=l.baseState=s,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:s},l.queue=t,t=t.dispatch=Kp.bind(null,_t,t),[l.memoizedState,t]},useRef:function(t){var e=le();return t={current:t},e.memoizedState=t},useState:function(t){t=Es(t);var e=t.queue,a=Zf.bind(null,_t,e);return e.dispatch=a,[t.memoizedState,a]},useDebugValue:Ts,useDeferredValue:function(t,e){var a=le();return ws(a,t,e)},useTransition:function(){var t=Es(!1);return t=If.bind(null,_t,t.queue,!0,!1),le().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,a){var l=_t,s=le();if(xt){if(a===void 0)throw Error(d(407));a=a()}else{if(a=e(),Rt===null)throw Error(d(349));(St&124)!==0||vf(l,e,a)}s.memoizedState=a;var f={value:a,getSnapshot:e};return s.queue=f,Lf(bf.bind(null,l,f,t),[t]),l.flags|=2048,xn(9,wl(),Sf.bind(null,l,f,a,e),null),a},useId:function(){var t=le(),e=Rt.identifierPrefix;if(xt){var a=qe,l=je;a=(l&~(1<<32-fe(l)-1)).toString(32)+a,e=""+e+"R"+a,a=El++,0<a&&(e+="H"+a.toString(32)),e+=""}else a=Ip++,e=""+e+"r"+a.toString(32)+"";return t.memoizedState=e},useHostTransitionStatus:zs,useFormState:Cf,useActionState:Cf,useOptimistic:function(t){var e=le();e.memoizedState=e.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=a,e=Cs.bind(null,_t,!0,a),a.dispatch=e,[t,e]},useMemoCache:bs,useCacheRefresh:function(){return le().memoizedState=Zp.bind(null,_t)}},Wf={readContext:$t,use:Al,useCallback:kf,useContext:$t,useEffect:Nf,useImperativeHandle:Yf,useInsertionEffect:Hf,useLayoutEffect:Gf,useMemo:jf,useReducer:Tl,useRef:Mf,useState:function(){return Tl(Xe)},useDebugValue:Ts,useDeferredValue:function(t,e){var a=kt();return qf(a,wt.memoizedState,t,e)},useTransition:function(){var t=Tl(Xe)[0],e=kt().memoizedState;return[typeof t=="boolean"?t:pa(t),e]},useSyncExternalStore:gf,useId:Pf,useHostTransitionStatus:zs,useFormState:Rf,useActionState:Rf,useOptimistic:function(t,e){var a=kt();return Ef(a,wt,t,e)},useMemoCache:bs,useCacheRefresh:Qf},Jp={readContext:$t,use:Al,useCallback:kf,useContext:$t,useEffect:Nf,useImperativeHandle:Yf,useInsertionEffect:Hf,useLayoutEffect:Gf,useMemo:jf,useReducer:Us,useRef:Mf,useState:function(){return Us(Xe)},useDebugValue:Ts,useDeferredValue:function(t,e){var a=kt();return wt===null?ws(a,t,e):qf(a,wt.memoizedState,t,e)},useTransition:function(){var t=Us(Xe)[0],e=kt().memoizedState;return[typeof t=="boolean"?t:pa(t),e]},useSyncExternalStore:gf,useId:Pf,useHostTransitionStatus:zs,useFormState:Of,useActionState:Of,useOptimistic:function(t,e){var a=kt();return wt!==null?Ef(a,wt,t,e):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:bs,useCacheRefresh:Qf},Un=null,ma=0;function Rl(t){var e=ma;return ma+=1,Un===null&&(Un=[]),ff(Un,t,e)}function ga(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function Dl(t,e){throw e.$$typeof===q?Error(d(525)):(t=Object.prototype.toString.call(e),Error(d(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function tc(t){var e=t._init;return e(t._payload)}function ec(t){function e(z,T){if(t){var R=z.deletions;R===null?(z.deletions=[T],z.flags|=16):R.push(T)}}function a(z,T){if(!t)return null;for(;T!==null;)e(z,T),T=T.sibling;return null}function l(z){for(var T=new Map;z!==null;)z.key!==null?T.set(z.key,z):T.set(z.index,z),z=z.sibling;return T}function s(z,T){return z=ke(z,T),z.index=0,z.sibling=null,z}function f(z,T,R){return z.index=R,t?(R=z.alternate,R!==null?(R=R.index,R<T?(z.flags|=67108866,T):R):(z.flags|=67108866,T)):(z.flags|=1048576,T)}function y(z){return t&&z.alternate===null&&(z.flags|=67108866),z}function g(z,T,R,I){return T===null||T.tag!==6?(T=Jr(R,z.mode,I),T.return=z,T):(T=s(T,R),T.return=z,T)}function U(z,T,R,I){var nt=R.type;return nt===O?j(z,T,R.props.children,I,R.key):T!==null&&(T.elementType===nt||typeof nt=="object"&&nt!==null&&nt.$$typeof===H&&tc(nt)===T.type)?(T=s(T,R.props),ga(T,R),T.return=z,T):(T=pl(R.type,R.key,R.props,null,z.mode,I),ga(T,R),T.return=z,T)}function M(z,T,R,I){return T===null||T.tag!==4||T.stateNode.containerInfo!==R.containerInfo||T.stateNode.implementation!==R.implementation?(T=$r(R,z.mode,I),T.return=z,T):(T=s(T,R.children||[]),T.return=z,T)}function j(z,T,R,I,nt){return T===null||T.tag!==7?(T=Hi(R,z.mode,I,nt),T.return=z,T):(T=s(T,R),T.return=z,T)}function V(z,T,R){if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return T=Jr(""+T,z.mode,R),T.return=z,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Q:return R=pl(T.type,T.key,T.props,null,z.mode,R),ga(R,T),R.return=z,R;case W:return T=$r(T,z.mode,R),T.return=z,T;case H:var I=T._init;return T=I(T._payload),V(z,T,R)}if(dt(T)||at(T))return T=Hi(T,z.mode,R,null),T.return=z,T;if(typeof T.then=="function")return V(z,Rl(T),R);if(T.$$typeof===c)return V(z,gl(z,T),R);Dl(z,T)}return null}function L(z,T,R,I){var nt=T!==null?T.key:null;if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return nt!==null?null:g(z,T,""+R,I);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case Q:return R.key===nt?U(z,T,R,I):null;case W:return R.key===nt?M(z,T,R,I):null;case H:return nt=R._init,R=nt(R._payload),L(z,T,R,I)}if(dt(R)||at(R))return nt!==null?null:j(z,T,R,I,null);if(typeof R.then=="function")return L(z,T,Rl(R),I);if(R.$$typeof===c)return L(z,T,gl(z,R),I);Dl(z,R)}return null}function N(z,T,R,I,nt){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return z=z.get(R)||null,g(T,z,""+I,nt);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Q:return z=z.get(I.key===null?R:I.key)||null,U(T,z,I,nt);case W:return z=z.get(I.key===null?R:I.key)||null,M(T,z,I,nt);case H:var mt=I._init;return I=mt(I._payload),N(z,T,R,I,nt)}if(dt(I)||at(I))return z=z.get(R)||null,j(T,z,I,nt,null);if(typeof I.then=="function")return N(z,T,R,Rl(I),nt);if(I.$$typeof===c)return N(z,T,R,gl(T,I),nt);Dl(T,I)}return null}function ft(z,T,R,I){for(var nt=null,mt=null,st=T,ot=T=0,Pt=null;st!==null&&ot<R.length;ot++){st.index>ot?(Pt=st,st=null):Pt=st.sibling;var bt=L(z,st,R[ot],I);if(bt===null){st===null&&(st=Pt);break}t&&st&&bt.alternate===null&&e(z,st),T=f(bt,T,ot),mt===null?nt=bt:mt.sibling=bt,mt=bt,st=Pt}if(ot===R.length)return a(z,st),xt&&Fi(z,ot),nt;if(st===null){for(;ot<R.length;ot++)st=V(z,R[ot],I),st!==null&&(T=f(st,T,ot),mt===null?nt=st:mt.sibling=st,mt=st);return xt&&Fi(z,ot),nt}for(st=l(st);ot<R.length;ot++)Pt=N(st,z,ot,R[ot],I),Pt!==null&&(t&&Pt.alternate!==null&&st.delete(Pt.key===null?ot:Pt.key),T=f(Pt,T,ot),mt===null?nt=Pt:mt.sibling=Pt,mt=Pt);return t&&st.forEach(function(Bi){return e(z,Bi)}),xt&&Fi(z,ot),nt}function ut(z,T,R,I){if(R==null)throw Error(d(151));for(var nt=null,mt=null,st=T,ot=T=0,Pt=null,bt=R.next();st!==null&&!bt.done;ot++,bt=R.next()){st.index>ot?(Pt=st,st=null):Pt=st.sibling;var Bi=L(z,st,bt.value,I);if(Bi===null){st===null&&(st=Pt);break}t&&st&&Bi.alternate===null&&e(z,st),T=f(Bi,T,ot),mt===null?nt=Bi:mt.sibling=Bi,mt=Bi,st=Pt}if(bt.done)return a(z,st),xt&&Fi(z,ot),nt;if(st===null){for(;!bt.done;ot++,bt=R.next())bt=V(z,bt.value,I),bt!==null&&(T=f(bt,T,ot),mt===null?nt=bt:mt.sibling=bt,mt=bt);return xt&&Fi(z,ot),nt}for(st=l(st);!bt.done;ot++,bt=R.next())bt=N(st,z,ot,bt.value,I),bt!==null&&(t&&bt.alternate!==null&&st.delete(bt.key===null?ot:bt.key),T=f(bt,T,ot),mt===null?nt=bt:mt.sibling=bt,mt=bt);return t&&st.forEach(function($_){return e(z,$_)}),xt&&Fi(z,ot),nt}function zt(z,T,R,I){if(typeof R=="object"&&R!==null&&R.type===O&&R.key===null&&(R=R.props.children),typeof R=="object"&&R!==null){switch(R.$$typeof){case Q:t:{for(var nt=R.key;T!==null;){if(T.key===nt){if(nt=R.type,nt===O){if(T.tag===7){a(z,T.sibling),I=s(T,R.props.children),I.return=z,z=I;break t}}else if(T.elementType===nt||typeof nt=="object"&&nt!==null&&nt.$$typeof===H&&tc(nt)===T.type){a(z,T.sibling),I=s(T,R.props),ga(I,R),I.return=z,z=I;break t}a(z,T);break}else e(z,T);T=T.sibling}R.type===O?(I=Hi(R.props.children,z.mode,I,R.key),I.return=z,z=I):(I=pl(R.type,R.key,R.props,null,z.mode,I),ga(I,R),I.return=z,z=I)}return y(z);case W:t:{for(nt=R.key;T!==null;){if(T.key===nt)if(T.tag===4&&T.stateNode.containerInfo===R.containerInfo&&T.stateNode.implementation===R.implementation){a(z,T.sibling),I=s(T,R.children||[]),I.return=z,z=I;break t}else{a(z,T);break}else e(z,T);T=T.sibling}I=$r(R,z.mode,I),I.return=z,z=I}return y(z);case H:return nt=R._init,R=nt(R._payload),zt(z,T,R,I)}if(dt(R))return ft(z,T,R,I);if(at(R)){if(nt=at(R),typeof nt!="function")throw Error(d(150));return R=nt.call(R),ut(z,T,R,I)}if(typeof R.then=="function")return zt(z,T,Rl(R),I);if(R.$$typeof===c)return zt(z,T,gl(z,R),I);Dl(z,R)}return typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint"?(R=""+R,T!==null&&T.tag===6?(a(z,T.sibling),I=s(T,R),I.return=z,z=I):(a(z,T),I=Jr(R,z.mode,I),I.return=z,z=I),y(z)):a(z,T)}return function(z,T,R,I){try{ma=0;var nt=zt(z,T,R,I);return Un=null,nt}catch(st){if(st===ua||st===Sl)throw st;var mt=he(29,st,null,z.mode);return mt.lanes=I,mt.return=z,mt}finally{}}}var En=ec(!0),ic=ec(!1),Ae=X(null),Oe=null;function di(t){var e=t.alternate;K(qt,qt.current&1),K(Ae,t),Oe===null&&(e===null||vn.current!==null||e.memoizedState!==null)&&(Oe=t)}function nc(t){if(t.tag===22){if(K(qt,qt.current),K(Ae,t),Oe===null){var e=t.alternate;e!==null&&e.memoizedState!==null&&(Oe=t)}}else pi()}function pi(){K(qt,qt.current),K(Ae,Ae.current)}function Pe(t){tt(Ae),Oe===t&&(Oe=null),tt(qt)}var qt=X(0);function Ol(t){for(var e=t;e!==null;){if(e.tag===13){var a=e.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Su(a)))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function Rs(t,e,a,l){e=t.memoizedState,a=a(l,e),a=a==null?e:D({},e,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Ds={enqueueSetState:function(t,e,a){t=t._reactInternals;var l=ye(),s=fi(l);s.payload=e,a!=null&&(s.callback=a),e=ci(t,s,l),e!==null&&(me(e,t,l),fa(e,t,l))},enqueueReplaceState:function(t,e,a){t=t._reactInternals;var l=ye(),s=fi(l);s.tag=1,s.payload=e,a!=null&&(s.callback=a),e=ci(t,s,l),e!==null&&(me(e,t,l),fa(e,t,l))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var a=ye(),l=fi(a);l.tag=2,e!=null&&(l.callback=e),e=ci(t,l,a),e!==null&&(me(e,t,a),fa(e,t,a))}};function ac(t,e,a,l,s,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,y):e.prototype&&e.prototype.isPureReactComponent?!ta(a,l)||!ta(s,f):!0}function lc(t,e,a,l){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(a,l),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(a,l),e.state!==t&&Ds.enqueueReplaceState(e,e.state,null)}function Xi(t,e){var a=e;if("ref"in e){a={};for(var l in e)l!=="ref"&&(a[l]=e[l])}if(t=t.defaultProps){a===e&&(a=D({},a));for(var s in t)a[s]===void 0&&(a[s]=t[s])}return a}var Ml=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function rc(t){Ml(t)}function sc(t){console.error(t)}function uc(t){Ml(t)}function Ll(t,e){try{var a=t.onUncaughtError;a(e.value,{componentStack:e.stack})}catch(l){setTimeout(function(){throw l})}}function oc(t,e,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(s){setTimeout(function(){throw s})}}function Os(t,e,a){return a=fi(a),a.tag=3,a.payload={element:null},a.callback=function(){Ll(t,e)},a}function fc(t){return t=fi(t),t.tag=3,t}function cc(t,e,a,l){var s=a.type.getDerivedStateFromError;if(typeof s=="function"){var f=l.value;t.payload=function(){return s(f)},t.callback=function(){oc(e,a,l)}}var y=a.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){oc(e,a,l),typeof s!="function"&&(Si===null?Si=new Set([this]):Si.add(this));var g=l.stack;this.componentDidCatch(l.value,{componentStack:g!==null?g:""})})}function $p(t,e,a,l,s){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(e=a.alternate,e!==null&&la(e,a,s,!0),a=Ae.current,a!==null){switch(a.tag){case 13:return Oe===null?nu():a.alternate===null&&Ht===0&&(Ht=3),a.flags&=-257,a.flags|=65536,a.lanes=s,l===us?a.flags|=16384:(e=a.updateQueue,e===null?a.updateQueue=new Set([l]):e.add(l),lu(t,l,s)),!1;case 22:return a.flags|=65536,l===us?a.flags|=16384:(e=a.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=e):(a=e.retryQueue,a===null?e.retryQueue=new Set([l]):a.add(l)),lu(t,l,s)),!1}throw Error(d(435,a.tag))}return lu(t,l,s),nu(),!1}if(xt)return e=Ae.current,e!==null?((e.flags&65536)===0&&(e.flags|=256),e.flags|=65536,e.lanes=s,l!==es&&(t=Error(d(422),{cause:l}),aa(be(t,a)))):(l!==es&&(e=Error(d(423),{cause:l}),aa(be(e,a))),t=t.current.alternate,t.flags|=65536,s&=-s,t.lanes|=s,l=be(l,a),s=Os(t.stateNode,l,s),cs(t,s),Ht!==4&&(Ht=2)),!1;var f=Error(d(520),{cause:l});if(f=be(f,a),Aa===null?Aa=[f]:Aa.push(f),Ht!==4&&(Ht=2),e===null)return!0;l=be(l,a),a=e;do{switch(a.tag){case 3:return a.flags|=65536,t=s&-s,a.lanes|=t,t=Os(a.stateNode,l,t),cs(a,t),!1;case 1:if(e=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Si===null||!Si.has(f))))return a.flags|=65536,s&=-s,a.lanes|=s,s=fc(s),cc(s,t,a,l),cs(a,s),!1}a=a.return}while(a!==null);return!1}var hc=Error(d(461)),Vt=!1;function Qt(t,e,a,l){e.child=t===null?ic(e,null,a,l):En(e,t.child,a,l)}function dc(t,e,a,l,s){a=a.render;var f=e.ref;if("ref"in l){var y={};for(var g in l)g!=="ref"&&(y[g]=l[g])}else y=l;return qi(e),l=ys(t,e,a,y,f,s),g=ms(),t!==null&&!Vt?(gs(t,e,s),Qe(t,e,s)):(xt&&g&&Wr(e),e.flags|=1,Qt(t,e,l,s),e.child)}function pc(t,e,a,l,s){if(t===null){var f=a.type;return typeof f=="function"&&!Kr(f)&&f.defaultProps===void 0&&a.compare===null?(e.tag=15,e.type=f,_c(t,e,f,l,s)):(t=pl(a.type,null,l,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(f=t.child,!ks(t,s)){var y=f.memoizedProps;if(a=a.compare,a=a!==null?a:ta,a(y,l)&&t.ref===e.ref)return Qe(t,e,s)}return e.flags|=1,t=ke(f,l),t.ref=e.ref,t.return=e,e.child=t}function _c(t,e,a,l,s){if(t!==null){var f=t.memoizedProps;if(ta(f,l)&&t.ref===e.ref)if(Vt=!1,e.pendingProps=l=f,ks(t,s))(t.flags&131072)!==0&&(Vt=!0);else return e.lanes=t.lanes,Qe(t,e,s)}return Ms(t,e,a,l,s)}function yc(t,e,a){var l=e.pendingProps,s=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((e.flags&128)!==0){if(l=f!==null?f.baseLanes|a:a,t!==null){for(s=e.child=t.child,f=0;s!==null;)f=f|s.lanes|s.childLanes,s=s.sibling;e.childLanes=f&~l}else e.childLanes=0,e.child=null;return mc(t,e,l,a)}if((a&536870912)!==0)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&vl(e,f!==null?f.cachePool:null),f!==null?_f(e,f):ds(),nc(e);else return e.lanes=e.childLanes=536870912,mc(t,e,f!==null?f.baseLanes|a:a,a)}else f!==null?(vl(e,f.cachePool),_f(e,f),pi(),e.memoizedState=null):(t!==null&&vl(e,null),ds(),pi());return Qt(t,e,s,a),e.child}function mc(t,e,a,l){var s=ss();return s=s===null?null:{parent:jt._currentValue,pool:s},e.memoizedState={baseLanes:a,cachePool:s},t!==null&&vl(e,null),ds(),nc(e),t!==null&&la(t,e,l,!0),null}function Nl(t,e){var a=e.ref;if(a===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(d(284));(t===null||t.ref!==a)&&(e.flags|=4194816)}}function Ms(t,e,a,l,s){return qi(e),a=ys(t,e,a,l,void 0,s),l=ms(),t!==null&&!Vt?(gs(t,e,s),Qe(t,e,s)):(xt&&l&&Wr(e),e.flags|=1,Qt(t,e,a,s),e.child)}function gc(t,e,a,l,s,f){return qi(e),e.updateQueue=null,a=mf(e,l,a,s),yf(t),l=ms(),t!==null&&!Vt?(gs(t,e,f),Qe(t,e,f)):(xt&&l&&Wr(e),e.flags|=1,Qt(t,e,a,f),e.child)}function vc(t,e,a,l,s){if(qi(e),e.stateNode===null){var f=pn,y=a.contextType;typeof y=="object"&&y!==null&&(f=$t(y)),f=new a(l,f),e.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Ds,e.stateNode=f,f._reactInternals=e,f=e.stateNode,f.props=l,f.state=e.memoizedState,f.refs={},os(e),y=a.contextType,f.context=typeof y=="object"&&y!==null?$t(y):pn,f.state=e.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(Rs(e,a,y,l),f.state=e.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&Ds.enqueueReplaceState(f,f.state,null),ha(e,l,f,s),ca(),f.state=e.memoizedState),typeof f.componentDidMount=="function"&&(e.flags|=4194308),l=!0}else if(t===null){f=e.stateNode;var g=e.memoizedProps,U=Xi(a,g);f.props=U;var M=f.context,j=a.contextType;y=pn,typeof j=="object"&&j!==null&&(y=$t(j));var V=a.getDerivedStateFromProps;j=typeof V=="function"||typeof f.getSnapshotBeforeUpdate=="function",g=e.pendingProps!==g,j||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g||M!==y)&&lc(e,f,l,y),oi=!1;var L=e.memoizedState;f.state=L,ha(e,l,f,s),ca(),M=e.memoizedState,g||L!==M||oi?(typeof V=="function"&&(Rs(e,a,V,l),M=e.memoizedState),(U=oi||ac(e,a,U,l,L,M,y))?(j||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(e.flags|=4194308)):(typeof f.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=l,e.memoizedState=M),f.props=l,f.state=M,f.context=y,l=U):(typeof f.componentDidMount=="function"&&(e.flags|=4194308),l=!1)}else{f=e.stateNode,fs(t,e),y=e.memoizedProps,j=Xi(a,y),f.props=j,V=e.pendingProps,L=f.context,M=a.contextType,U=pn,typeof M=="object"&&M!==null&&(U=$t(M)),g=a.getDerivedStateFromProps,(M=typeof g=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==V||L!==U)&&lc(e,f,l,U),oi=!1,L=e.memoizedState,f.state=L,ha(e,l,f,s),ca();var N=e.memoizedState;y!==V||L!==N||oi||t!==null&&t.dependencies!==null&&ml(t.dependencies)?(typeof g=="function"&&(Rs(e,a,g,l),N=e.memoizedState),(j=oi||ac(e,a,j,l,L,N,U)||t!==null&&t.dependencies!==null&&ml(t.dependencies))?(M||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,N,U),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,N,U)),typeof f.componentDidUpdate=="function"&&(e.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&L===t.memoizedState||(e.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&L===t.memoizedState||(e.flags|=1024),e.memoizedProps=l,e.memoizedState=N),f.props=l,f.state=N,f.context=U,l=j):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&L===t.memoizedState||(e.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&L===t.memoizedState||(e.flags|=1024),l=!1)}return f=l,Nl(t,e),l=(e.flags&128)!==0,f||l?(f=e.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),e.flags|=1,t!==null&&l?(e.child=En(e,t.child,null,s),e.child=En(e,null,a,s)):Qt(t,e,a,s),e.memoizedState=f.state,t=e.child):t=Qe(t,e,s),t}function Sc(t,e,a,l){return na(),e.flags|=256,Qt(t,e,a,l),e.child}var Ls={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ns(t){return{baseLanes:t,cachePool:sf()}}function Hs(t,e,a){return t=t!==null?t.childLanes&~a:0,e&&(t|=Te),t}function bc(t,e,a){var l=e.pendingProps,s=!1,f=(e.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(qt.current&2)!==0),y&&(s=!0,e.flags&=-129),y=(e.flags&32)!==0,e.flags&=-33,t===null){if(xt){if(s?di(e):pi(),xt){var g=Nt,U;if(U=g){t:{for(U=g,g=De;U.nodeType!==8;){if(!g){g=null;break t}if(U=Ce(U.nextSibling),U===null){g=null;break t}}g=U}g!==null?(e.memoizedState={dehydrated:g,treeContext:Gi!==null?{id:je,overflow:qe}:null,retryLane:536870912,hydrationErrors:null},U=he(18,null,null,0),U.stateNode=g,U.return=e,e.child=U,te=e,Nt=null,U=!0):U=!1}U||ki(e)}if(g=e.memoizedState,g!==null&&(g=g.dehydrated,g!==null))return Su(g)?e.lanes=32:e.lanes=536870912,null;Pe(e)}return g=l.children,l=l.fallback,s?(pi(),s=e.mode,g=Hl({mode:"hidden",children:g},s),l=Hi(l,s,a,null),g.return=e,l.return=e,g.sibling=l,e.child=g,s=e.child,s.memoizedState=Ns(a),s.childLanes=Hs(t,y,a),e.memoizedState=Ls,l):(di(e),Gs(e,g))}if(U=t.memoizedState,U!==null&&(g=U.dehydrated,g!==null)){if(f)e.flags&256?(di(e),e.flags&=-257,e=Fs(t,e,a)):e.memoizedState!==null?(pi(),e.child=t.child,e.flags|=128,e=null):(pi(),s=l.fallback,g=e.mode,l=Hl({mode:"visible",children:l.children},g),s=Hi(s,g,a,null),s.flags|=2,l.return=e,s.return=e,l.sibling=s,e.child=l,En(e,t.child,null,a),l=e.child,l.memoizedState=Ns(a),l.childLanes=Hs(t,y,a),e.memoizedState=Ls,e=s);else if(di(e),Su(g)){if(y=g.nextSibling&&g.nextSibling.dataset,y)var M=y.dgst;y=M,l=Error(d(419)),l.stack="",l.digest=y,aa({value:l,source:null,stack:null}),e=Fs(t,e,a)}else if(Vt||la(t,e,a,!1),y=(a&t.childLanes)!==0,Vt||y){if(y=Rt,y!==null&&(l=a&-a,l=(l&42)!==0?1:br(l),l=(l&(y.suspendedLanes|a))!==0?0:l,l!==0&&l!==U.retryLane))throw U.retryLane=l,dn(t,l),me(y,t,l),hc;g.data==="$?"||nu(),e=Fs(t,e,a)}else g.data==="$?"?(e.flags|=192,e.child=t.child,e=null):(t=U.treeContext,Nt=Ce(g.nextSibling),te=e,xt=!0,Yi=null,De=!1,t!==null&&(Ue[Ee++]=je,Ue[Ee++]=qe,Ue[Ee++]=Gi,je=t.id,qe=t.overflow,Gi=e),e=Gs(e,l.children),e.flags|=4096);return e}return s?(pi(),s=l.fallback,g=e.mode,U=t.child,M=U.sibling,l=ke(U,{mode:"hidden",children:l.children}),l.subtreeFlags=U.subtreeFlags&65011712,M!==null?s=ke(M,s):(s=Hi(s,g,a,null),s.flags|=2),s.return=e,l.return=e,l.sibling=s,e.child=l,l=s,s=e.child,g=t.child.memoizedState,g===null?g=Ns(a):(U=g.cachePool,U!==null?(M=jt._currentValue,U=U.parent!==M?{parent:M,pool:M}:U):U=sf(),g={baseLanes:g.baseLanes|a,cachePool:U}),s.memoizedState=g,s.childLanes=Hs(t,y,a),e.memoizedState=Ls,l):(di(e),a=t.child,t=a.sibling,a=ke(a,{mode:"visible",children:l.children}),a.return=e,a.sibling=null,t!==null&&(y=e.deletions,y===null?(e.deletions=[t],e.flags|=16):y.push(t)),e.child=a,e.memoizedState=null,a)}function Gs(t,e){return e=Hl({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function Hl(t,e){return t=he(22,t,null,e),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Fs(t,e,a){return En(e,t.child,null,a),t=Gs(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function xc(t,e,a){t.lanes|=e;var l=t.alternate;l!==null&&(l.lanes|=e),ns(t.return,e,a)}function Ys(t,e,a,l,s){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:s}:(f.isBackwards=e,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=a,f.tailMode=s)}function Uc(t,e,a){var l=e.pendingProps,s=l.revealOrder,f=l.tail;if(Qt(t,e,l.children,a),l=qt.current,(l&2)!==0)l=l&1|2,e.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&xc(t,a,e);else if(t.tag===19)xc(t,a,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(K(qt,l),s){case"forwards":for(a=e.child,s=null;a!==null;)t=a.alternate,t!==null&&Ol(t)===null&&(s=a),a=a.sibling;a=s,a===null?(s=e.child,e.child=null):(s=a.sibling,a.sibling=null),Ys(e,!1,s,a,f);break;case"backwards":for(a=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Ol(t)===null){e.child=s;break}t=s.sibling,s.sibling=a,a=s,s=t}Ys(e,!0,a,null,f);break;case"together":Ys(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Qe(t,e,a){if(t!==null&&(e.dependencies=t.dependencies),vi|=e.lanes,(a&e.childLanes)===0)if(t!==null){if(la(t,e,a,!1),(a&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(d(153));if(e.child!==null){for(t=e.child,a=ke(t,t.pendingProps),e.child=a,a.return=e;t.sibling!==null;)t=t.sibling,a=a.sibling=ke(t,t.pendingProps),a.return=e;a.sibling=null}return e.child}function ks(t,e){return(t.lanes&e)!==0?!0:(t=t.dependencies,!!(t!==null&&ml(t)))}function Wp(t,e,a){switch(e.tag){case 3:Dt(e,e.stateNode.containerInfo),ui(e,jt,t.memoizedState.cache),na();break;case 27:case 5:yr(e);break;case 4:Dt(e,e.stateNode.containerInfo);break;case 10:ui(e,e.type,e.memoizedProps.value);break;case 13:var l=e.memoizedState;if(l!==null)return l.dehydrated!==null?(di(e),e.flags|=128,null):(a&e.child.childLanes)!==0?bc(t,e,a):(di(e),t=Qe(t,e,a),t!==null?t.sibling:null);di(e);break;case 19:var s=(t.flags&128)!==0;if(l=(a&e.childLanes)!==0,l||(la(t,e,a,!1),l=(a&e.childLanes)!==0),s){if(l)return Uc(t,e,a);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),K(qt,qt.current),l)break;return null;case 22:case 23:return e.lanes=0,yc(t,e,a);case 24:ui(e,jt,t.memoizedState.cache)}return Qe(t,e,a)}function Ec(t,e,a){if(t!==null)if(t.memoizedProps!==e.pendingProps)Vt=!0;else{if(!ks(t,a)&&(e.flags&128)===0)return Vt=!1,Wp(t,e,a);Vt=(t.flags&131072)!==0}else Vt=!1,xt&&(e.flags&1048576)!==0&&Wo(e,yl,e.index);switch(e.lanes=0,e.tag){case 16:t:{t=e.pendingProps;var l=e.elementType,s=l._init;if(l=s(l._payload),e.type=l,typeof l=="function")Kr(l)?(t=Xi(l,t),e.tag=1,e=vc(null,e,l,t,a)):(e.tag=0,e=Ms(null,e,l,t,a));else{if(l!=null){if(s=l.$$typeof,s===p){e.tag=11,e=dc(null,e,l,t,a);break t}else if(s===C){e.tag=14,e=pc(null,e,l,t,a);break t}}throw e=Ut(l)||l,Error(d(306,e,""))}}return e;case 0:return Ms(t,e,e.type,e.pendingProps,a);case 1:return l=e.type,s=Xi(l,e.pendingProps),vc(t,e,l,s,a);case 3:t:{if(Dt(e,e.stateNode.containerInfo),t===null)throw Error(d(387));l=e.pendingProps;var f=e.memoizedState;s=f.element,fs(t,e),ha(e,l,null,a);var y=e.memoizedState;if(l=y.cache,ui(e,jt,l),l!==f.cache&&as(e,[jt],a,!0),ca(),l=y.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:y.cache},e.updateQueue.baseState=f,e.memoizedState=f,e.flags&256){e=Sc(t,e,l,a);break t}else if(l!==s){s=be(Error(d(424)),e),aa(s),e=Sc(t,e,l,a);break t}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Nt=Ce(t.firstChild),te=e,xt=!0,Yi=null,De=!0,a=ic(e,null,l,a),e.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(na(),l===s){e=Qe(t,e,a);break t}Qt(t,e,l,a)}e=e.child}return e;case 26:return Nl(t,e),t===null?(a=Bh(e.type,null,e.pendingProps,null))?e.memoizedState=a:xt||(a=e.type,t=e.pendingProps,l=Jl(ct.current).createElement(a),l[Jt]=e,l[ne]=t,Kt(l,a,t),It(l),e.stateNode=l):e.memoizedState=Bh(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return yr(e),t===null&&xt&&(l=e.stateNode=Ah(e.type,e.pendingProps,ct.current),te=e,De=!0,s=Nt,Ui(e.type)?(bu=s,Nt=Ce(l.firstChild)):Nt=s),Qt(t,e,e.pendingProps.children,a),Nl(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&xt&&((s=l=Nt)&&(l=w_(l,e.type,e.pendingProps,De),l!==null?(e.stateNode=l,te=e,Nt=Ce(l.firstChild),De=!1,s=!0):s=!1),s||ki(e)),yr(e),s=e.type,f=e.pendingProps,y=t!==null?t.memoizedProps:null,l=f.children,mu(s,f)?l=null:y!==null&&mu(s,y)&&(e.flags|=32),e.memoizedState!==null&&(s=ys(t,e,Vp,null,null,a),Ma._currentValue=s),Nl(t,e),Qt(t,e,l,a),e.child;case 6:return t===null&&xt&&((t=a=Nt)&&(a=B_(a,e.pendingProps,De),a!==null?(e.stateNode=a,te=e,Nt=null,t=!0):t=!1),t||ki(e)),null;case 13:return bc(t,e,a);case 4:return Dt(e,e.stateNode.containerInfo),l=e.pendingProps,t===null?e.child=En(e,null,l,a):Qt(t,e,l,a),e.child;case 11:return dc(t,e,e.type,e.pendingProps,a);case 7:return Qt(t,e,e.pendingProps,a),e.child;case 8:return Qt(t,e,e.pendingProps.children,a),e.child;case 12:return Qt(t,e,e.pendingProps.children,a),e.child;case 10:return l=e.pendingProps,ui(e,e.type,l.value),Qt(t,e,l.children,a),e.child;case 9:return s=e.type._context,l=e.pendingProps.children,qi(e),s=$t(s),l=l(s),e.flags|=1,Qt(t,e,l,a),e.child;case 14:return pc(t,e,e.type,e.pendingProps,a);case 15:return _c(t,e,e.type,e.pendingProps,a);case 19:return Uc(t,e,a);case 31:return l=e.pendingProps,a=e.mode,l={mode:l.mode,children:l.children},t===null?(a=Hl(l,a),a.ref=e.ref,e.child=a,a.return=e,e=a):(a=ke(t.child,l),a.ref=e.ref,e.child=a,a.return=e,e=a),e;case 22:return yc(t,e,a);case 24:return qi(e),l=$t(jt),t===null?(s=ss(),s===null&&(s=Rt,f=ls(),s.pooledCache=f,f.refCount++,f!==null&&(s.pooledCacheLanes|=a),s=f),e.memoizedState={parent:l,cache:s},os(e),ui(e,jt,s)):((t.lanes&a)!==0&&(fs(t,e),ha(e,null,null,a),ca()),s=t.memoizedState,f=e.memoizedState,s.parent!==l?(s={parent:l,cache:l},e.memoizedState=s,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=s),ui(e,jt,l)):(l=f.cache,ui(e,jt,l),l!==s.cache&&as(e,[jt],a,!0))),Qt(t,e,e.pendingProps.children,a),e.child;case 29:throw e.pendingProps}throw Error(d(156,e.tag))}function Ze(t){t.flags|=4}function Ac(t,e){if(e.type!=="stylesheet"||(e.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Oh(e)){if(e=Ae.current,e!==null&&((St&4194048)===St?Oe!==null:(St&62914560)!==St&&(St&536870912)===0||e!==Oe))throw oa=us,uf;t.flags|=8192}}function Gl(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?eo():536870912,t.lanes|=e,Bn|=e)}function va(t,e){if(!xt)switch(t.tailMode){case"hidden":e=t.tail;for(var a=null;e!==null;)e.alternate!==null&&(a=e),e=e.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function Lt(t){var e=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(e)for(var s=t.child;s!==null;)a|=s.lanes|s.childLanes,l|=s.subtreeFlags&65011712,l|=s.flags&65011712,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)a|=s.lanes|s.childLanes,l|=s.subtreeFlags,l|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=l,t.childLanes=a,e}function t_(t,e,a){var l=e.pendingProps;switch(ts(e),e.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Lt(e),null;case 1:return Lt(e),null;case 3:return a=e.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),e.memoizedState.cache!==l&&(e.flags|=2048),Ve(jt),ai(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(ia(e)?Ze(e):t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,nf())),Lt(e),null;case 26:return a=e.memoizedState,t===null?(Ze(e),a!==null?(Lt(e),Ac(e,a)):(Lt(e),e.flags&=-16777217)):a?a!==t.memoizedState?(Ze(e),Lt(e),Ac(e,a)):(Lt(e),e.flags&=-16777217):(t.memoizedProps!==l&&Ze(e),Lt(e),e.flags&=-16777217),null;case 27:Za(e),a=ct.current;var s=e.type;if(t!==null&&e.stateNode!=null)t.memoizedProps!==l&&Ze(e);else{if(!l){if(e.stateNode===null)throw Error(d(166));return Lt(e),null}t=rt.current,ia(e)?tf(e):(t=Ah(s,l,a),e.stateNode=t,Ze(e))}return Lt(e),null;case 5:if(Za(e),a=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==l&&Ze(e);else{if(!l){if(e.stateNode===null)throw Error(d(166));return Lt(e),null}if(t=rt.current,ia(e))tf(e);else{switch(s=Jl(ct.current),t){case 1:t=s.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=s.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=s.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=s.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?s.createElement("select",{is:l.is}):s.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?s.createElement(a,{is:l.is}):s.createElement(a)}}t[Jt]=e,t[ne]=l;t:for(s=e.child;s!==null;){if(s.tag===5||s.tag===6)t.appendChild(s.stateNode);else if(s.tag!==4&&s.tag!==27&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break t;for(;s.sibling===null;){if(s.return===null||s.return===e)break t;s=s.return}s.sibling.return=s.return,s=s.sibling}e.stateNode=t;t:switch(Kt(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Ze(e)}}return Lt(e),e.flags&=-16777217,null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==l&&Ze(e);else{if(typeof l!="string"&&e.stateNode===null)throw Error(d(166));if(t=ct.current,ia(e)){if(t=e.stateNode,a=e.memoizedProps,l=null,s=te,s!==null)switch(s.tag){case 27:case 5:l=s.memoizedProps}t[Jt]=e,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||gh(t.nodeValue,a)),t||ki(e)}else t=Jl(t).createTextNode(l),t[Jt]=e,e.stateNode=t}return Lt(e),null;case 13:if(l=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(s=ia(e),l!==null&&l.dehydrated!==null){if(t===null){if(!s)throw Error(d(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(d(317));s[Jt]=e}else na(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;Lt(e),s=!1}else s=nf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),s=!0;if(!s)return e.flags&256?(Pe(e),e):(Pe(e),null)}if(Pe(e),(e.flags&128)!==0)return e.lanes=a,e;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=e.child,s=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(s=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==s&&(l.flags|=2048)}return a!==t&&a&&(e.child.flags|=8192),Gl(e,e.updateQueue),Lt(e),null;case 4:return ai(),t===null&&hu(e.stateNode.containerInfo),Lt(e),null;case 10:return Ve(e.type),Lt(e),null;case 19:if(tt(qt),s=e.memoizedState,s===null)return Lt(e),null;if(l=(e.flags&128)!==0,f=s.rendering,f===null)if(l)va(s,!1);else{if(Ht!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(f=Ol(t),f!==null){for(e.flags|=128,va(s,!1),t=f.updateQueue,e.updateQueue=t,Gl(e,t),e.subtreeFlags=0,t=a,a=e.child;a!==null;)$o(a,t),a=a.sibling;return K(qt,qt.current&1|2),e.child}t=t.sibling}s.tail!==null&&Re()>kl&&(e.flags|=128,l=!0,va(s,!1),e.lanes=4194304)}else{if(!l)if(t=Ol(f),t!==null){if(e.flags|=128,l=!0,t=t.updateQueue,e.updateQueue=t,Gl(e,t),va(s,!0),s.tail===null&&s.tailMode==="hidden"&&!f.alternate&&!xt)return Lt(e),null}else 2*Re()-s.renderingStartTime>kl&&a!==536870912&&(e.flags|=128,l=!0,va(s,!1),e.lanes=4194304);s.isBackwards?(f.sibling=e.child,e.child=f):(t=s.last,t!==null?t.sibling=f:e.child=f,s.last=f)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Re(),e.sibling=null,t=qt.current,K(qt,l?t&1|2:t&1),e):(Lt(e),null);case 22:case 23:return Pe(e),ps(),l=e.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(e.flags|=8192):l&&(e.flags|=8192),l?(a&536870912)!==0&&(e.flags&128)===0&&(Lt(e),e.subtreeFlags&6&&(e.flags|=8192)):Lt(e),a=e.updateQueue,a!==null&&Gl(e,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),l!==a&&(e.flags|=2048),t!==null&&tt(Ii),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),e.memoizedState.cache!==a&&(e.flags|=2048),Ve(jt),Lt(e),null;case 25:return null;case 30:return null}throw Error(d(156,e.tag))}function e_(t,e){switch(ts(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ve(jt),ai(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return Za(e),null;case 13:if(Pe(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(d(340));na()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return tt(qt),null;case 4:return ai(),null;case 10:return Ve(e.type),null;case 22:case 23:return Pe(e),ps(),t!==null&&tt(Ii),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Ve(jt),null;case 25:return null;default:return null}}function Tc(t,e){switch(ts(e),e.tag){case 3:Ve(jt),ai();break;case 26:case 27:case 5:Za(e);break;case 4:ai();break;case 13:Pe(e);break;case 19:tt(qt);break;case 10:Ve(e.type);break;case 22:case 23:Pe(e),ps(),t!==null&&tt(Ii);break;case 24:Ve(jt)}}function Sa(t,e){try{var a=e.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var s=l.next;a=s;do{if((a.tag&t)===t){l=void 0;var f=a.create,y=a.inst;l=f(),y.destroy=l}a=a.next}while(a!==s)}}catch(g){Ct(e,e.return,g)}}function _i(t,e,a){try{var l=e.updateQueue,s=l!==null?l.lastEffect:null;if(s!==null){var f=s.next;l=f;do{if((l.tag&t)===t){var y=l.inst,g=y.destroy;if(g!==void 0){y.destroy=void 0,s=e;var U=a,M=g;try{M()}catch(j){Ct(s,U,j)}}}l=l.next}while(l!==f)}}catch(j){Ct(e,e.return,j)}}function wc(t){var e=t.updateQueue;if(e!==null){var a=t.stateNode;try{pf(e,a)}catch(l){Ct(t,t.return,l)}}}function Bc(t,e,a){a.props=Xi(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Ct(t,e,l)}}function ba(t,e){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(s){Ct(t,e,s)}}function Me(t,e){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(s){Ct(t,e,s)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(s){Ct(t,e,s)}else a.current=null}function zc(t){var e=t.type,a=t.memoizedProps,l=t.stateNode;try{t:switch(e){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(s){Ct(t,t.return,s)}}function js(t,e,a){try{var l=t.stateNode;x_(l,t.type,a,e),l[ne]=e}catch(s){Ct(t,t.return,s)}}function Cc(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ui(t.type)||t.tag===4}function qs(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Cc(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ui(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Is(t,e,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,e?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,e):(e=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,e.appendChild(t),a=a._reactRootContainer,a!=null||e.onclick!==null||(e.onclick=Kl));else if(l!==4&&(l===27&&Ui(t.type)&&(a=t.stateNode,e=null),t=t.child,t!==null))for(Is(t,e,a),t=t.sibling;t!==null;)Is(t,e,a),t=t.sibling}function Fl(t,e,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,e?a.insertBefore(t,e):a.appendChild(t);else if(l!==4&&(l===27&&Ui(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Fl(t,e,a),t=t.sibling;t!==null;)Fl(t,e,a),t=t.sibling}function Rc(t){var e=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,s=e.attributes;s.length;)e.removeAttributeNode(s[0]);Kt(e,l,a),e[Jt]=t,e[ne]=a}catch(f){Ct(t,t.return,f)}}var Ke=!1,Ft=!1,Vs=!1,Dc=typeof WeakSet=="function"?WeakSet:Set,Xt=null;function i_(t,e){if(t=t.containerInfo,_u=nr,t=jo(t),qr(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var s=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var y=0,g=-1,U=-1,M=0,j=0,V=t,L=null;e:for(;;){for(var N;V!==a||s!==0&&V.nodeType!==3||(g=y+s),V!==f||l!==0&&V.nodeType!==3||(U=y+l),V.nodeType===3&&(y+=V.nodeValue.length),(N=V.firstChild)!==null;)L=V,V=N;for(;;){if(V===t)break e;if(L===a&&++M===s&&(g=y),L===f&&++j===l&&(U=y),(N=V.nextSibling)!==null)break;V=L,L=V.parentNode}V=N}a=g===-1||U===-1?null:{start:g,end:U}}else a=null}a=a||{start:0,end:0}}else a=null;for(yu={focusedElem:t,selectionRange:a},nr=!1,Xt=e;Xt!==null;)if(e=Xt,t=e.child,(e.subtreeFlags&1024)!==0&&t!==null)t.return=e,Xt=t;else for(;Xt!==null;){switch(e=Xt,f=e.alternate,t=e.flags,e.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=e,s=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var ft=Xi(a.type,s,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(ft,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(ut){Ct(a,a.return,ut)}}break;case 3:if((t&1024)!==0){if(t=e.stateNode.containerInfo,a=t.nodeType,a===9)vu(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":vu(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(d(163))}if(t=e.sibling,t!==null){t.return=e.return,Xt=t;break}Xt=e.return}}function Oc(t,e,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:yi(t,a),l&4&&Sa(5,a);break;case 1:if(yi(t,a),l&4)if(t=a.stateNode,e===null)try{t.componentDidMount()}catch(y){Ct(a,a.return,y)}else{var s=Xi(a.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(s,e,t.__reactInternalSnapshotBeforeUpdate)}catch(y){Ct(a,a.return,y)}}l&64&&wc(a),l&512&&ba(a,a.return);break;case 3:if(yi(t,a),l&64&&(t=a.updateQueue,t!==null)){if(e=null,a.child!==null)switch(a.child.tag){case 27:case 5:e=a.child.stateNode;break;case 1:e=a.child.stateNode}try{pf(t,e)}catch(y){Ct(a,a.return,y)}}break;case 27:e===null&&l&4&&Rc(a);case 26:case 5:yi(t,a),e===null&&l&4&&zc(a),l&512&&ba(a,a.return);break;case 12:yi(t,a);break;case 13:yi(t,a),l&4&&Nc(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=c_.bind(null,a),z_(t,a))));break;case 22:if(l=a.memoizedState!==null||Ke,!l){e=e!==null&&e.memoizedState!==null||Ft,s=Ke;var f=Ft;Ke=l,(Ft=e)&&!f?mi(t,a,(a.subtreeFlags&8772)!==0):yi(t,a),Ke=s,Ft=f}break;case 30:break;default:yi(t,a)}}function Mc(t){var e=t.alternate;e!==null&&(t.alternate=null,Mc(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&Er(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Ot=null,re=!1;function Je(t,e,a){for(a=a.child;a!==null;)Lc(t,e,a),a=a.sibling}function Lc(t,e,a){if(oe&&typeof oe.onCommitFiberUnmount=="function")try{oe.onCommitFiberUnmount(jn,a)}catch{}switch(a.tag){case 26:Ft||Me(a,e),Je(t,e,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ft||Me(a,e);var l=Ot,s=re;Ui(a.type)&&(Ot=a.stateNode,re=!1),Je(t,e,a),Ca(a.stateNode),Ot=l,re=s;break;case 5:Ft||Me(a,e);case 6:if(l=Ot,s=re,Ot=null,Je(t,e,a),Ot=l,re=s,Ot!==null)if(re)try{(Ot.nodeType===9?Ot.body:Ot.nodeName==="HTML"?Ot.ownerDocument.body:Ot).removeChild(a.stateNode)}catch(f){Ct(a,e,f)}else try{Ot.removeChild(a.stateNode)}catch(f){Ct(a,e,f)}break;case 18:Ot!==null&&(re?(t=Ot,Uh(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Ga(t)):Uh(Ot,a.stateNode));break;case 4:l=Ot,s=re,Ot=a.stateNode.containerInfo,re=!0,Je(t,e,a),Ot=l,re=s;break;case 0:case 11:case 14:case 15:Ft||_i(2,a,e),Ft||_i(4,a,e),Je(t,e,a);break;case 1:Ft||(Me(a,e),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Bc(a,e,l)),Je(t,e,a);break;case 21:Je(t,e,a);break;case 22:Ft=(l=Ft)||a.memoizedState!==null,Je(t,e,a),Ft=l;break;default:Je(t,e,a)}}function Nc(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ga(t)}catch(a){Ct(e,e.return,a)}}function n_(t){switch(t.tag){case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new Dc),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new Dc),e;default:throw Error(d(435,t.tag))}}function Xs(t,e){var a=n_(t);e.forEach(function(l){var s=h_.bind(null,t,l);a.has(l)||(a.add(l),l.then(s,s))})}function de(t,e){var a=e.deletions;if(a!==null)for(var l=0;l<a.length;l++){var s=a[l],f=t,y=e,g=y;t:for(;g!==null;){switch(g.tag){case 27:if(Ui(g.type)){Ot=g.stateNode,re=!1;break t}break;case 5:Ot=g.stateNode,re=!1;break t;case 3:case 4:Ot=g.stateNode.containerInfo,re=!0;break t}g=g.return}if(Ot===null)throw Error(d(160));Lc(f,y,s),Ot=null,re=!1,f=s.alternate,f!==null&&(f.return=null),s.return=null}if(e.subtreeFlags&13878)for(e=e.child;e!==null;)Hc(e,t),e=e.sibling}var ze=null;function Hc(t,e){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:de(e,t),pe(t),l&4&&(_i(3,t,t.return),Sa(3,t),_i(5,t,t.return));break;case 1:de(e,t),pe(t),l&512&&(Ft||a===null||Me(a,a.return)),l&64&&Ke&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var s=ze;if(de(e,t),pe(t),l&512&&(Ft||a===null||Me(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){t:{l=t.type,a=t.memoizedProps,s=s.ownerDocument||s;e:switch(l){case"title":f=s.getElementsByTagName("title")[0],(!f||f[Vn]||f[Jt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=s.createElement(l),s.head.insertBefore(f,s.querySelector("head > title"))),Kt(f,l,a),f[Jt]=t,It(f),l=f;break t;case"link":var y=Rh("link","href",s).get(l+(a.href||""));if(y){for(var g=0;g<y.length;g++)if(f=y[g],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){y.splice(g,1);break e}}f=s.createElement(l),Kt(f,l,a),s.head.appendChild(f);break;case"meta":if(y=Rh("meta","content",s).get(l+(a.content||""))){for(g=0;g<y.length;g++)if(f=y[g],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){y.splice(g,1);break e}}f=s.createElement(l),Kt(f,l,a),s.head.appendChild(f);break;default:throw Error(d(468,l))}f[Jt]=t,It(f),l=f}t.stateNode=l}else Dh(s,t.type,t.stateNode);else t.stateNode=Ch(s,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?Dh(s,t.type,t.stateNode):Ch(s,l,t.memoizedProps)):l===null&&t.stateNode!==null&&js(t,t.memoizedProps,a.memoizedProps)}break;case 27:de(e,t),pe(t),l&512&&(Ft||a===null||Me(a,a.return)),a!==null&&l&4&&js(t,t.memoizedProps,a.memoizedProps);break;case 5:if(de(e,t),pe(t),l&512&&(Ft||a===null||Me(a,a.return)),t.flags&32){s=t.stateNode;try{rn(s,"")}catch(N){Ct(t,t.return,N)}}l&4&&t.stateNode!=null&&(s=t.memoizedProps,js(t,s,a!==null?a.memoizedProps:s)),l&1024&&(Vs=!0);break;case 6:if(de(e,t),pe(t),l&4){if(t.stateNode===null)throw Error(d(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(N){Ct(t,t.return,N)}}break;case 3:if(tr=null,s=ze,ze=$l(e.containerInfo),de(e,t),ze=s,pe(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Ga(e.containerInfo)}catch(N){Ct(t,t.return,N)}Vs&&(Vs=!1,Gc(t));break;case 4:l=ze,ze=$l(t.stateNode.containerInfo),de(e,t),pe(t),ze=l;break;case 12:de(e,t),pe(t);break;case 13:de(e,t),pe(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&($s=Re()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Xs(t,l)));break;case 22:s=t.memoizedState!==null;var U=a!==null&&a.memoizedState!==null,M=Ke,j=Ft;if(Ke=M||s,Ft=j||U,de(e,t),Ft=j,Ke=M,pe(t),l&8192)t:for(e=t.stateNode,e._visibility=s?e._visibility&-2:e._visibility|1,s&&(a===null||U||Ke||Ft||Pi(t)),a=null,e=t;;){if(e.tag===5||e.tag===26){if(a===null){U=a=e;try{if(f=U.stateNode,s)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{g=U.stateNode;var V=U.memoizedProps.style,L=V!=null&&V.hasOwnProperty("display")?V.display:null;g.style.display=L==null||typeof L=="boolean"?"":(""+L).trim()}}catch(N){Ct(U,U.return,N)}}}else if(e.tag===6){if(a===null){U=e;try{U.stateNode.nodeValue=s?"":U.memoizedProps}catch(N){Ct(U,U.return,N)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;a===e&&(a=null),e=e.return}a===e&&(a=null),e.sibling.return=e.return,e=e.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Xs(t,a))));break;case 19:de(e,t),pe(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Xs(t,l)));break;case 30:break;case 21:break;default:de(e,t),pe(t)}}function pe(t){var e=t.flags;if(e&2){try{for(var a,l=t.return;l!==null;){if(Cc(l)){a=l;break}l=l.return}if(a==null)throw Error(d(160));switch(a.tag){case 27:var s=a.stateNode,f=qs(t);Fl(t,f,s);break;case 5:var y=a.stateNode;a.flags&32&&(rn(y,""),a.flags&=-33);var g=qs(t);Fl(t,g,y);break;case 3:case 4:var U=a.stateNode.containerInfo,M=qs(t);Is(t,M,U);break;default:throw Error(d(161))}}catch(j){Ct(t,t.return,j)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Gc(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;Gc(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function yi(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)Oc(t,e.alternate,e),e=e.sibling}function Pi(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:_i(4,e,e.return),Pi(e);break;case 1:Me(e,e.return);var a=e.stateNode;typeof a.componentWillUnmount=="function"&&Bc(e,e.return,a),Pi(e);break;case 27:Ca(e.stateNode);case 26:case 5:Me(e,e.return),Pi(e);break;case 22:e.memoizedState===null&&Pi(e);break;case 30:Pi(e);break;default:Pi(e)}t=t.sibling}}function mi(t,e,a){for(a=a&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var l=e.alternate,s=t,f=e,y=f.flags;switch(f.tag){case 0:case 11:case 15:mi(s,f,a),Sa(4,f);break;case 1:if(mi(s,f,a),l=f,s=l.stateNode,typeof s.componentDidMount=="function")try{s.componentDidMount()}catch(M){Ct(l,l.return,M)}if(l=f,s=l.updateQueue,s!==null){var g=l.stateNode;try{var U=s.shared.hiddenCallbacks;if(U!==null)for(s.shared.hiddenCallbacks=null,s=0;s<U.length;s++)df(U[s],g)}catch(M){Ct(l,l.return,M)}}a&&y&64&&wc(f),ba(f,f.return);break;case 27:Rc(f);case 26:case 5:mi(s,f,a),a&&l===null&&y&4&&zc(f),ba(f,f.return);break;case 12:mi(s,f,a);break;case 13:mi(s,f,a),a&&y&4&&Nc(s,f);break;case 22:f.memoizedState===null&&mi(s,f,a),ba(f,f.return);break;case 30:break;default:mi(s,f,a)}e=e.sibling}}function Ps(t,e){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&ra(a))}function Qs(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&ra(t))}function Le(t,e,a,l){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Fc(t,e,a,l),e=e.sibling}function Fc(t,e,a,l){var s=e.flags;switch(e.tag){case 0:case 11:case 15:Le(t,e,a,l),s&2048&&Sa(9,e);break;case 1:Le(t,e,a,l);break;case 3:Le(t,e,a,l),s&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&ra(t)));break;case 12:if(s&2048){Le(t,e,a,l),t=e.stateNode;try{var f=e.memoizedProps,y=f.id,g=f.onPostCommit;typeof g=="function"&&g(y,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(U){Ct(e,e.return,U)}}else Le(t,e,a,l);break;case 13:Le(t,e,a,l);break;case 23:break;case 22:f=e.stateNode,y=e.alternate,e.memoizedState!==null?f._visibility&2?Le(t,e,a,l):xa(t,e):f._visibility&2?Le(t,e,a,l):(f._visibility|=2,An(t,e,a,l,(e.subtreeFlags&10256)!==0)),s&2048&&Ps(y,e);break;case 24:Le(t,e,a,l),s&2048&&Qs(e.alternate,e);break;default:Le(t,e,a,l)}}function An(t,e,a,l,s){for(s=s&&(e.subtreeFlags&10256)!==0,e=e.child;e!==null;){var f=t,y=e,g=a,U=l,M=y.flags;switch(y.tag){case 0:case 11:case 15:An(f,y,g,U,s),Sa(8,y);break;case 23:break;case 22:var j=y.stateNode;y.memoizedState!==null?j._visibility&2?An(f,y,g,U,s):xa(f,y):(j._visibility|=2,An(f,y,g,U,s)),s&&M&2048&&Ps(y.alternate,y);break;case 24:An(f,y,g,U,s),s&&M&2048&&Qs(y.alternate,y);break;default:An(f,y,g,U,s)}e=e.sibling}}function xa(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var a=t,l=e,s=l.flags;switch(l.tag){case 22:xa(a,l),s&2048&&Ps(l.alternate,l);break;case 24:xa(a,l),s&2048&&Qs(l.alternate,l);break;default:xa(a,l)}e=e.sibling}}var Ua=8192;function Tn(t){if(t.subtreeFlags&Ua)for(t=t.child;t!==null;)Yc(t),t=t.sibling}function Yc(t){switch(t.tag){case 26:Tn(t),t.flags&Ua&&t.memoizedState!==null&&j_(ze,t.memoizedState,t.memoizedProps);break;case 5:Tn(t);break;case 3:case 4:var e=ze;ze=$l(t.stateNode.containerInfo),Tn(t),ze=e;break;case 22:t.memoizedState===null&&(e=t.alternate,e!==null&&e.memoizedState!==null?(e=Ua,Ua=16777216,Tn(t),Ua=e):Tn(t));break;default:Tn(t)}}function kc(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function Ea(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var a=0;a<e.length;a++){var l=e[a];Xt=l,qc(l,t)}kc(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)jc(t),t=t.sibling}function jc(t){switch(t.tag){case 0:case 11:case 15:Ea(t),t.flags&2048&&_i(9,t,t.return);break;case 3:Ea(t);break;case 12:Ea(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,Yl(t)):Ea(t);break;default:Ea(t)}}function Yl(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var a=0;a<e.length;a++){var l=e[a];Xt=l,qc(l,t)}kc(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:_i(8,e,e.return),Yl(e);break;case 22:a=e.stateNode,a._visibility&2&&(a._visibility&=-3,Yl(e));break;default:Yl(e)}t=t.sibling}}function qc(t,e){for(;Xt!==null;){var a=Xt;switch(a.tag){case 0:case 11:case 15:_i(8,a,e);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ra(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Xt=l;else t:for(a=t;Xt!==null;){l=Xt;var s=l.sibling,f=l.return;if(Mc(l),l===a){Xt=null;break t}if(s!==null){s.return=f,Xt=s;break t}Xt=f}}}var a_={getCacheForType:function(t){var e=$t(jt),a=e.data.get(t);return a===void 0&&(a=t(),e.data.set(t,a)),a}},l_=typeof WeakMap=="function"?WeakMap:Map,Et=0,Rt=null,gt=null,St=0,At=0,_e=null,gi=!1,wn=!1,Zs=!1,$e=0,Ht=0,vi=0,Qi=0,Ks=0,Te=0,Bn=0,Aa=null,se=null,Js=!1,$s=0,kl=1/0,jl=null,Si=null,Zt=0,bi=null,zn=null,Cn=0,Ws=0,tu=null,Ic=null,Ta=0,eu=null;function ye(){if((Et&2)!==0&&St!==0)return St&-St;if(F.T!==null){var t=mn;return t!==0?t:uu()}return ao()}function Vc(){Te===0&&(Te=(St&536870912)===0||xt?to():536870912);var t=Ae.current;return t!==null&&(t.flags|=32),Te}function me(t,e,a){(t===Rt&&(At===2||At===9)||t.cancelPendingCommit!==null)&&(Rn(t,0),xi(t,St,Te,!1)),In(t,a),((Et&2)===0||t!==Rt)&&(t===Rt&&((Et&2)===0&&(Qi|=a),Ht===4&&xi(t,St,Te,!1)),Ne(t))}function Xc(t,e,a){if((Et&6)!==0)throw Error(d(327));var l=!a&&(e&124)===0&&(e&t.expiredLanes)===0||qn(t,e),s=l?u_(t,e):au(t,e,!0),f=l;do{if(s===0){wn&&!l&&xi(t,e,0,!1);break}else{if(a=t.current.alternate,f&&!r_(a)){s=au(t,e,!1),f=!1;continue}if(s===2){if(f=e,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){e=y;t:{var g=t;s=Aa;var U=g.current.memoizedState.isDehydrated;if(U&&(Rn(g,y).flags|=256),y=au(g,y,!1),y!==2){if(Zs&&!U){g.errorRecoveryDisabledLanes|=f,Qi|=f,s=4;break t}f=se,se=s,f!==null&&(se===null?se=f:se.push.apply(se,f))}s=y}if(f=!1,s!==2)continue}}if(s===1){Rn(t,0),xi(t,e,0,!0);break}t:{switch(l=t,f=s,f){case 0:case 1:throw Error(d(345));case 4:if((e&4194048)!==e)break;case 6:xi(l,e,Te,!gi);break t;case 2:se=null;break;case 3:case 5:break;default:throw Error(d(329))}if((e&62914560)===e&&(s=$s+300-Re(),10<s)){if(xi(l,e,Te,!gi),Wa(l,0,!0)!==0)break t;l.timeoutHandle=bh(Pc.bind(null,l,a,se,jl,Js,e,Te,Qi,Bn,gi,f,2,-0,0),s);break t}Pc(l,a,se,jl,Js,e,Te,Qi,Bn,gi,f,0,-0,0)}}break}while(!0);Ne(t)}function Pc(t,e,a,l,s,f,y,g,U,M,j,V,L,N){if(t.timeoutHandle=-1,V=e.subtreeFlags,(V&8192||(V&16785408)===16785408)&&(Oa={stylesheets:null,count:0,unsuspend:k_},Yc(e),V=q_(),V!==null)){t.cancelPendingCommit=V(th.bind(null,t,e,f,a,l,s,y,g,U,j,1,L,N)),xi(t,f,y,!M);return}th(t,e,f,a,l,s,y,g,U)}function r_(t){for(var e=t;;){var a=e.tag;if((a===0||a===11||a===15)&&e.flags&16384&&(a=e.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var s=a[l],f=s.getSnapshot;s=s.value;try{if(!ce(f(),s))return!1}catch{return!1}}if(a=e.child,e.subtreeFlags&16384&&a!==null)a.return=e,e=a;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function xi(t,e,a,l){e&=~Ks,e&=~Qi,t.suspendedLanes|=e,t.pingedLanes&=~e,l&&(t.warmLanes|=e),l=t.expirationTimes;for(var s=e;0<s;){var f=31-fe(s),y=1<<f;l[f]=-1,s&=~y}a!==0&&io(t,a,e)}function ql(){return(Et&6)===0?(wa(0),!1):!0}function iu(){if(gt!==null){if(At===0)var t=gt.return;else t=gt,Ie=ji=null,vs(t),Un=null,ma=0,t=gt;for(;t!==null;)Tc(t.alternate,t),t=t.return;gt=null}}function Rn(t,e){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,E_(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),iu(),Rt=t,gt=a=ke(t.current,null),St=e,At=0,_e=null,gi=!1,wn=qn(t,e),Zs=!1,Bn=Te=Ks=Qi=vi=Ht=0,se=Aa=null,Js=!1,(e&8)!==0&&(e|=e&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=e;0<l;){var s=31-fe(l),f=1<<s;e|=t[s],l&=~f}return $e=e,cl(),a}function Qc(t,e){_t=null,F.H=Cl,e===ua||e===Sl?(e=cf(),At=3):e===uf?(e=cf(),At=4):At=e===hc?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,_e=e,gt===null&&(Ht=1,Ll(t,be(e,t.current)))}function Zc(){var t=F.H;return F.H=Cl,t===null?Cl:t}function Kc(){var t=F.A;return F.A=a_,t}function nu(){Ht=4,gi||(St&4194048)!==St&&Ae.current!==null||(wn=!0),(vi&134217727)===0&&(Qi&134217727)===0||Rt===null||xi(Rt,St,Te,!1)}function au(t,e,a){var l=Et;Et|=2;var s=Zc(),f=Kc();(Rt!==t||St!==e)&&(jl=null,Rn(t,e)),e=!1;var y=Ht;t:do try{if(At!==0&&gt!==null){var g=gt,U=_e;switch(At){case 8:iu(),y=6;break t;case 3:case 2:case 9:case 6:Ae.current===null&&(e=!0);var M=At;if(At=0,_e=null,Dn(t,g,U,M),a&&wn){y=0;break t}break;default:M=At,At=0,_e=null,Dn(t,g,U,M)}}s_(),y=Ht;break}catch(j){Qc(t,j)}while(!0);return e&&t.shellSuspendCounter++,Ie=ji=null,Et=l,F.H=s,F.A=f,gt===null&&(Rt=null,St=0,cl()),y}function s_(){for(;gt!==null;)Jc(gt)}function u_(t,e){var a=Et;Et|=2;var l=Zc(),s=Kc();Rt!==t||St!==e?(jl=null,kl=Re()+500,Rn(t,e)):wn=qn(t,e);t:do try{if(At!==0&&gt!==null){e=gt;var f=_e;e:switch(At){case 1:At=0,_e=null,Dn(t,e,f,1);break;case 2:case 9:if(of(f)){At=0,_e=null,$c(e);break}e=function(){At!==2&&At!==9||Rt!==t||(At=7),Ne(t)},f.then(e,e);break t;case 3:At=7;break t;case 4:At=5;break t;case 7:of(f)?(At=0,_e=null,$c(e)):(At=0,_e=null,Dn(t,e,f,7));break;case 5:var y=null;switch(gt.tag){case 26:y=gt.memoizedState;case 5:case 27:var g=gt;if(!y||Oh(y)){At=0,_e=null;var U=g.sibling;if(U!==null)gt=U;else{var M=g.return;M!==null?(gt=M,Il(M)):gt=null}break e}}At=0,_e=null,Dn(t,e,f,5);break;case 6:At=0,_e=null,Dn(t,e,f,6);break;case 8:iu(),Ht=6;break t;default:throw Error(d(462))}}o_();break}catch(j){Qc(t,j)}while(!0);return Ie=ji=null,F.H=l,F.A=s,Et=a,gt!==null?0:(Rt=null,St=0,cl(),Ht)}function o_(){for(;gt!==null&&!Rd();)Jc(gt)}function Jc(t){var e=Ec(t.alternate,t,$e);t.memoizedProps=t.pendingProps,e===null?Il(t):gt=e}function $c(t){var e=t,a=e.alternate;switch(e.tag){case 15:case 0:e=gc(a,e,e.pendingProps,e.type,void 0,St);break;case 11:e=gc(a,e,e.pendingProps,e.type.render,e.ref,St);break;case 5:vs(e);default:Tc(a,e),e=gt=$o(e,$e),e=Ec(a,e,$e)}t.memoizedProps=t.pendingProps,e===null?Il(t):gt=e}function Dn(t,e,a,l){Ie=ji=null,vs(e),Un=null,ma=0;var s=e.return;try{if($p(t,s,e,a,St)){Ht=1,Ll(t,be(a,t.current)),gt=null;return}}catch(f){if(s!==null)throw gt=s,f;Ht=1,Ll(t,be(a,t.current)),gt=null;return}e.flags&32768?(xt||l===1?t=!0:wn||(St&536870912)!==0?t=!1:(gi=t=!0,(l===2||l===9||l===3||l===6)&&(l=Ae.current,l!==null&&l.tag===13&&(l.flags|=16384))),Wc(e,t)):Il(e)}function Il(t){var e=t;do{if((e.flags&32768)!==0){Wc(e,gi);return}t=e.return;var a=t_(e.alternate,e,$e);if(a!==null){gt=a;return}if(e=e.sibling,e!==null){gt=e;return}gt=e=t}while(e!==null);Ht===0&&(Ht=5)}function Wc(t,e){do{var a=e_(t.alternate,t);if(a!==null){a.flags&=32767,gt=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!e&&(t=t.sibling,t!==null)){gt=t;return}gt=t=a}while(t!==null);Ht=6,gt=null}function th(t,e,a,l,s,f,y,g,U){t.cancelPendingCommit=null;do Vl();while(Zt!==0);if((Et&6)!==0)throw Error(d(327));if(e!==null){if(e===t.current)throw Error(d(177));if(f=e.lanes|e.childLanes,f|=Qr,kd(t,a,f,y,g,U),t===Rt&&(gt=Rt=null,St=0),zn=e,bi=t,Cn=a,Ws=f,tu=s,Ic=l,(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,d_(Ka,function(){return lh(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(e.flags&13878)!==0,(e.subtreeFlags&13878)!==0||l){l=F.T,F.T=null,s=J.p,J.p=2,y=Et,Et|=4;try{i_(t,e,a)}finally{Et=y,J.p=s,F.T=l}}Zt=1,eh(),ih(),nh()}}function eh(){if(Zt===1){Zt=0;var t=bi,e=zn,a=(e.flags&13878)!==0;if((e.subtreeFlags&13878)!==0||a){a=F.T,F.T=null;var l=J.p;J.p=2;var s=Et;Et|=4;try{Hc(e,t);var f=yu,y=jo(t.containerInfo),g=f.focusedElem,U=f.selectionRange;if(y!==g&&g&&g.ownerDocument&&ko(g.ownerDocument.documentElement,g)){if(U!==null&&qr(g)){var M=U.start,j=U.end;if(j===void 0&&(j=M),"selectionStart"in g)g.selectionStart=M,g.selectionEnd=Math.min(j,g.value.length);else{var V=g.ownerDocument||document,L=V&&V.defaultView||window;if(L.getSelection){var N=L.getSelection(),ft=g.textContent.length,ut=Math.min(U.start,ft),zt=U.end===void 0?ut:Math.min(U.end,ft);!N.extend&&ut>zt&&(y=zt,zt=ut,ut=y);var z=Yo(g,ut),T=Yo(g,zt);if(z&&T&&(N.rangeCount!==1||N.anchorNode!==z.node||N.anchorOffset!==z.offset||N.focusNode!==T.node||N.focusOffset!==T.offset)){var R=V.createRange();R.setStart(z.node,z.offset),N.removeAllRanges(),ut>zt?(N.addRange(R),N.extend(T.node,T.offset)):(R.setEnd(T.node,T.offset),N.addRange(R))}}}}for(V=[],N=g;N=N.parentNode;)N.nodeType===1&&V.push({element:N,left:N.scrollLeft,top:N.scrollTop});for(typeof g.focus=="function"&&g.focus(),g=0;g<V.length;g++){var I=V[g];I.element.scrollLeft=I.left,I.element.scrollTop=I.top}}nr=!!_u,yu=_u=null}finally{Et=s,J.p=l,F.T=a}}t.current=e,Zt=2}}function ih(){if(Zt===2){Zt=0;var t=bi,e=zn,a=(e.flags&8772)!==0;if((e.subtreeFlags&8772)!==0||a){a=F.T,F.T=null;var l=J.p;J.p=2;var s=Et;Et|=4;try{Oc(t,e.alternate,e)}finally{Et=s,J.p=l,F.T=a}}Zt=3}}function nh(){if(Zt===4||Zt===3){Zt=0,Dd();var t=bi,e=zn,a=Cn,l=Ic;(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?Zt=5:(Zt=0,zn=bi=null,ah(t,t.pendingLanes));var s=t.pendingLanes;if(s===0&&(Si=null),xr(a),e=e.stateNode,oe&&typeof oe.onCommitFiberRoot=="function")try{oe.onCommitFiberRoot(jn,e,void 0,(e.current.flags&128)===128)}catch{}if(l!==null){e=F.T,s=J.p,J.p=2,F.T=null;try{for(var f=t.onRecoverableError,y=0;y<l.length;y++){var g=l[y];f(g.value,{componentStack:g.stack})}}finally{F.T=e,J.p=s}}(Cn&3)!==0&&Vl(),Ne(t),s=t.pendingLanes,(a&4194090)!==0&&(s&42)!==0?t===eu?Ta++:(Ta=0,eu=t):Ta=0,wa(0)}}function ah(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,ra(e)))}function Vl(t){return eh(),ih(),nh(),lh()}function lh(){if(Zt!==5)return!1;var t=bi,e=Ws;Ws=0;var a=xr(Cn),l=F.T,s=J.p;try{J.p=32>a?32:a,F.T=null,a=tu,tu=null;var f=bi,y=Cn;if(Zt=0,zn=bi=null,Cn=0,(Et&6)!==0)throw Error(d(331));var g=Et;if(Et|=4,jc(f.current),Fc(f,f.current,y,a),Et=g,wa(0,!1),oe&&typeof oe.onPostCommitFiberRoot=="function")try{oe.onPostCommitFiberRoot(jn,f)}catch{}return!0}finally{J.p=s,F.T=l,ah(t,e)}}function rh(t,e,a){e=be(a,e),e=Os(t.stateNode,e,2),t=ci(t,e,2),t!==null&&(In(t,2),Ne(t))}function Ct(t,e,a){if(t.tag===3)rh(t,t,a);else for(;e!==null;){if(e.tag===3){rh(e,t,a);break}else if(e.tag===1){var l=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Si===null||!Si.has(l))){t=be(a,t),a=fc(2),l=ci(e,a,2),l!==null&&(cc(a,l,e,t),In(l,2),Ne(l));break}}e=e.return}}function lu(t,e,a){var l=t.pingCache;if(l===null){l=t.pingCache=new l_;var s=new Set;l.set(e,s)}else s=l.get(e),s===void 0&&(s=new Set,l.set(e,s));s.has(a)||(Zs=!0,s.add(a),t=f_.bind(null,t,e,a),e.then(t,t))}function f_(t,e,a){var l=t.pingCache;l!==null&&l.delete(e),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Rt===t&&(St&a)===a&&(Ht===4||Ht===3&&(St&62914560)===St&&300>Re()-$s?(Et&2)===0&&Rn(t,0):Ks|=a,Bn===St&&(Bn=0)),Ne(t)}function sh(t,e){e===0&&(e=eo()),t=dn(t,e),t!==null&&(In(t,e),Ne(t))}function c_(t){var e=t.memoizedState,a=0;e!==null&&(a=e.retryLane),sh(t,a)}function h_(t,e){var a=0;switch(t.tag){case 13:var l=t.stateNode,s=t.memoizedState;s!==null&&(a=s.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(d(314))}l!==null&&l.delete(e),sh(t,a)}function d_(t,e){return gr(t,e)}var Xl=null,On=null,ru=!1,Pl=!1,su=!1,Zi=0;function Ne(t){t!==On&&t.next===null&&(On===null?Xl=On=t:On=On.next=t),Pl=!0,ru||(ru=!0,__())}function wa(t,e){if(!su&&Pl){su=!0;do for(var a=!1,l=Xl;l!==null;){if(t!==0){var s=l.pendingLanes;if(s===0)var f=0;else{var y=l.suspendedLanes,g=l.pingedLanes;f=(1<<31-fe(42|t)+1)-1,f&=s&~(y&~g),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,ch(l,f))}else f=St,f=Wa(l,l===Rt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||qn(l,f)||(a=!0,ch(l,f));l=l.next}while(a);su=!1}}function p_(){uh()}function uh(){Pl=ru=!1;var t=0;Zi!==0&&(U_()&&(t=Zi),Zi=0);for(var e=Re(),a=null,l=Xl;l!==null;){var s=l.next,f=oh(l,e);f===0?(l.next=null,a===null?Xl=s:a.next=s,s===null&&(On=a)):(a=l,(t!==0||(f&3)!==0)&&(Pl=!0)),l=s}wa(t)}function oh(t,e){for(var a=t.suspendedLanes,l=t.pingedLanes,s=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-fe(f),g=1<<y,U=s[y];U===-1?((g&a)===0||(g&l)!==0)&&(s[y]=Yd(g,e)):U<=e&&(t.expiredLanes|=g),f&=~g}if(e=Rt,a=St,a=Wa(t,t===e?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===e&&(At===2||At===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&vr(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||qn(t,a)){if(e=a&-a,e===t.callbackPriority)return e;switch(l!==null&&vr(l),xr(a)){case 2:case 8:a=$u;break;case 32:a=Ka;break;case 268435456:a=Wu;break;default:a=Ka}return l=fh.bind(null,t),a=gr(a,l),t.callbackPriority=e,t.callbackNode=a,e}return l!==null&&l!==null&&vr(l),t.callbackPriority=2,t.callbackNode=null,2}function fh(t,e){if(Zt!==0&&Zt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Vl()&&t.callbackNode!==a)return null;var l=St;return l=Wa(t,t===Rt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Xc(t,l,e),oh(t,Re()),t.callbackNode!=null&&t.callbackNode===a?fh.bind(null,t):null)}function ch(t,e){if(Vl())return null;Xc(t,e,!0)}function __(){A_(function(){(Et&6)!==0?gr(Ju,p_):uh()})}function uu(){return Zi===0&&(Zi=to()),Zi}function hh(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:al(""+t)}function dh(t,e){var a=e.ownerDocument.createElement("input");return a.name=e.name,a.value=e.value,t.id&&a.setAttribute("form",t.id),e.parentNode.insertBefore(a,e),t=new FormData(t),a.parentNode.removeChild(a),t}function y_(t,e,a,l,s){if(e==="submit"&&a&&a.stateNode===s){var f=hh((s[ne]||null).action),y=l.submitter;y&&(e=(e=y[ne]||null)?hh(e.formAction):y.getAttribute("formAction"),e!==null&&(f=e,y=null));var g=new ul("action","action",null,l,s);t.push({event:g,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Zi!==0){var U=y?dh(s,y):new FormData(s);Bs(a,{pending:!0,data:U,method:s.method,action:f},null,U)}}else typeof f=="function"&&(g.preventDefault(),U=y?dh(s,y):new FormData(s),Bs(a,{pending:!0,data:U,method:s.method,action:f},f,U))},currentTarget:s}]})}}for(var ou=0;ou<Pr.length;ou++){var fu=Pr[ou],m_=fu.toLowerCase(),g_=fu[0].toUpperCase()+fu.slice(1);Be(m_,"on"+g_)}Be(Vo,"onAnimationEnd"),Be(Xo,"onAnimationIteration"),Be(Po,"onAnimationStart"),Be("dblclick","onDoubleClick"),Be("focusin","onFocus"),Be("focusout","onBlur"),Be(Lp,"onTransitionRun"),Be(Np,"onTransitionStart"),Be(Hp,"onTransitionCancel"),Be(Qo,"onTransitionEnd"),nn("onMouseEnter",["mouseout","mouseover"]),nn("onMouseLeave",["mouseout","mouseover"]),nn("onPointerEnter",["pointerout","pointerover"]),nn("onPointerLeave",["pointerout","pointerover"]),Oi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Oi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Oi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Oi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Oi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Oi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ba="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),v_=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ba));function ph(t,e){e=(e&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],s=l.event;l=l.listeners;t:{var f=void 0;if(e)for(var y=l.length-1;0<=y;y--){var g=l[y],U=g.instance,M=g.currentTarget;if(g=g.listener,U!==f&&s.isPropagationStopped())break t;f=g,s.currentTarget=M;try{f(s)}catch(j){Ml(j)}s.currentTarget=null,f=U}else for(y=0;y<l.length;y++){if(g=l[y],U=g.instance,M=g.currentTarget,g=g.listener,U!==f&&s.isPropagationStopped())break t;f=g,s.currentTarget=M;try{f(s)}catch(j){Ml(j)}s.currentTarget=null,f=U}}}}function vt(t,e){var a=e[Ur];a===void 0&&(a=e[Ur]=new Set);var l=t+"__bubble";a.has(l)||(_h(e,t,2,!1),a.add(l))}function cu(t,e,a){var l=0;e&&(l|=4),_h(a,t,l,e)}var Ql="_reactListening"+Math.random().toString(36).slice(2);function hu(t){if(!t[Ql]){t[Ql]=!0,ro.forEach(function(a){a!=="selectionchange"&&(v_.has(a)||cu(a,!1,t),cu(a,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ql]||(e[Ql]=!0,cu("selectionchange",!1,e))}}function _h(t,e,a,l){switch(Fh(e)){case 2:var s=X_;break;case 8:s=P_;break;default:s=Tu}a=s.bind(null,e,a,t),s=void 0,!Mr||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),l?s!==void 0?t.addEventListener(e,a,{capture:!0,passive:s}):t.addEventListener(e,a,!0):s!==void 0?t.addEventListener(e,a,{passive:s}):t.addEventListener(e,a,!1)}function du(t,e,a,l,s){var f=l;if((e&1)===0&&(e&2)===0&&l!==null)t:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var g=l.stateNode.containerInfo;if(g===s)break;if(y===4)for(y=l.return;y!==null;){var U=y.tag;if((U===3||U===4)&&y.stateNode.containerInfo===s)return;y=y.return}for(;g!==null;){if(y=Wi(g),y===null)return;if(U=y.tag,U===5||U===6||U===26||U===27){l=f=y;continue t}g=g.parentNode}}l=l.return}bo(function(){var M=f,j=Dr(a),V=[];t:{var L=Zo.get(t);if(L!==void 0){var N=ul,ft=t;switch(t){case"keypress":if(rl(a)===0)break t;case"keydown":case"keyup":N=dp;break;case"focusin":ft="focus",N=Gr;break;case"focusout":ft="blur",N=Gr;break;case"beforeblur":case"afterblur":N=Gr;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":N=Eo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":N=ep;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":N=yp;break;case Vo:case Xo:case Po:N=ap;break;case Qo:N=gp;break;case"scroll":case"scrollend":N=Wd;break;case"wheel":N=Sp;break;case"copy":case"cut":case"paste":N=rp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":N=To;break;case"toggle":case"beforetoggle":N=xp}var ut=(e&4)!==0,zt=!ut&&(t==="scroll"||t==="scrollend"),z=ut?L!==null?L+"Capture":null:L;ut=[];for(var T=M,R;T!==null;){var I=T;if(R=I.stateNode,I=I.tag,I!==5&&I!==26&&I!==27||R===null||z===null||(I=Pn(T,z),I!=null&&ut.push(za(T,I,R))),zt)break;T=T.return}0<ut.length&&(L=new N(L,ft,null,a,j),V.push({event:L,listeners:ut}))}}if((e&7)===0){t:{if(L=t==="mouseover"||t==="pointerover",N=t==="mouseout"||t==="pointerout",L&&a!==Rr&&(ft=a.relatedTarget||a.fromElement)&&(Wi(ft)||ft[$i]))break t;if((N||L)&&(L=j.window===j?j:(L=j.ownerDocument)?L.defaultView||L.parentWindow:window,N?(ft=a.relatedTarget||a.toElement,N=M,ft=ft?Wi(ft):null,ft!==null&&(zt=x(ft),ut=ft.tag,ft!==zt||ut!==5&&ut!==27&&ut!==6)&&(ft=null)):(N=null,ft=M),N!==ft)){if(ut=Eo,I="onMouseLeave",z="onMouseEnter",T="mouse",(t==="pointerout"||t==="pointerover")&&(ut=To,I="onPointerLeave",z="onPointerEnter",T="pointer"),zt=N==null?L:Xn(N),R=ft==null?L:Xn(ft),L=new ut(I,T+"leave",N,a,j),L.target=zt,L.relatedTarget=R,I=null,Wi(j)===M&&(ut=new ut(z,T+"enter",ft,a,j),ut.target=R,ut.relatedTarget=zt,I=ut),zt=I,N&&ft)e:{for(ut=N,z=ft,T=0,R=ut;R;R=Mn(R))T++;for(R=0,I=z;I;I=Mn(I))R++;for(;0<T-R;)ut=Mn(ut),T--;for(;0<R-T;)z=Mn(z),R--;for(;T--;){if(ut===z||z!==null&&ut===z.alternate)break e;ut=Mn(ut),z=Mn(z)}ut=null}else ut=null;N!==null&&yh(V,L,N,ut,!1),ft!==null&&zt!==null&&yh(V,zt,ft,ut,!0)}}t:{if(L=M?Xn(M):window,N=L.nodeName&&L.nodeName.toLowerCase(),N==="select"||N==="input"&&L.type==="file")var nt=Mo;else if(Do(L))if(Lo)nt=Dp;else{nt=Cp;var mt=zp}else N=L.nodeName,!N||N.toLowerCase()!=="input"||L.type!=="checkbox"&&L.type!=="radio"?M&&Cr(M.elementType)&&(nt=Mo):nt=Rp;if(nt&&(nt=nt(t,M))){Oo(V,nt,a,j);break t}mt&&mt(t,L,M),t==="focusout"&&M&&L.type==="number"&&M.memoizedProps.value!=null&&zr(L,"number",L.value)}switch(mt=M?Xn(M):window,t){case"focusin":(Do(mt)||mt.contentEditable==="true")&&(fn=mt,Ir=M,ea=null);break;case"focusout":ea=Ir=fn=null;break;case"mousedown":Vr=!0;break;case"contextmenu":case"mouseup":case"dragend":Vr=!1,qo(V,a,j);break;case"selectionchange":if(Mp)break;case"keydown":case"keyup":qo(V,a,j)}var st;if(Yr)t:{switch(t){case"compositionstart":var ot="onCompositionStart";break t;case"compositionend":ot="onCompositionEnd";break t;case"compositionupdate":ot="onCompositionUpdate";break t}ot=void 0}else on?Co(t,a)&&(ot="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ot="onCompositionStart");ot&&(wo&&a.locale!=="ko"&&(on||ot!=="onCompositionStart"?ot==="onCompositionEnd"&&on&&(st=xo()):(si=j,Lr="value"in si?si.value:si.textContent,on=!0)),mt=Zl(M,ot),0<mt.length&&(ot=new Ao(ot,t,null,a,j),V.push({event:ot,listeners:mt}),st?ot.data=st:(st=Ro(a),st!==null&&(ot.data=st)))),(st=Ep?Ap(t,a):Tp(t,a))&&(ot=Zl(M,"onBeforeInput"),0<ot.length&&(mt=new Ao("onBeforeInput","beforeinput",null,a,j),V.push({event:mt,listeners:ot}),mt.data=st)),y_(V,t,M,a,j)}ph(V,e)})}function za(t,e,a){return{instance:t,listener:e,currentTarget:a}}function Zl(t,e){for(var a=e+"Capture",l=[];t!==null;){var s=t,f=s.stateNode;if(s=s.tag,s!==5&&s!==26&&s!==27||f===null||(s=Pn(t,a),s!=null&&l.unshift(za(t,s,f)),s=Pn(t,e),s!=null&&l.push(za(t,s,f))),t.tag===3)return l;t=t.return}return[]}function Mn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function yh(t,e,a,l,s){for(var f=e._reactName,y=[];a!==null&&a!==l;){var g=a,U=g.alternate,M=g.stateNode;if(g=g.tag,U!==null&&U===l)break;g!==5&&g!==26&&g!==27||M===null||(U=M,s?(M=Pn(a,f),M!=null&&y.unshift(za(a,M,U))):s||(M=Pn(a,f),M!=null&&y.push(za(a,M,U)))),a=a.return}y.length!==0&&t.push({event:e,listeners:y})}var S_=/\r\n?/g,b_=/\u0000|\uFFFD/g;function mh(t){return(typeof t=="string"?t:""+t).replace(S_,`
`).replace(b_,"")}function gh(t,e){return e=mh(e),mh(t)===e}function Kl(){}function Bt(t,e,a,l,s,f){switch(a){case"children":typeof l=="string"?e==="body"||e==="textarea"&&l===""||rn(t,l):(typeof l=="number"||typeof l=="bigint")&&e!=="body"&&rn(t,""+l);break;case"className":el(t,"class",l);break;case"tabIndex":el(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":el(t,a,l);break;case"style":vo(t,l,f);break;case"data":if(e!=="object"){el(t,"data",l);break}case"src":case"href":if(l===""&&(e!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=al(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(e!=="input"&&Bt(t,e,"name",s.name,s,null),Bt(t,e,"formEncType",s.formEncType,s,null),Bt(t,e,"formMethod",s.formMethod,s,null),Bt(t,e,"formTarget",s.formTarget,s,null)):(Bt(t,e,"encType",s.encType,s,null),Bt(t,e,"method",s.method,s,null),Bt(t,e,"target",s.target,s,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=al(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Kl);break;case"onScroll":l!=null&&vt("scroll",t);break;case"onScrollEnd":l!=null&&vt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(d(61));if(a=l.__html,a!=null){if(s.children!=null)throw Error(d(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=al(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":vt("beforetoggle",t),vt("toggle",t),tl(t,"popover",l);break;case"xlinkActuate":Fe(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Fe(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Fe(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Fe(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Fe(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Fe(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Fe(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Fe(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Fe(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":tl(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Jd.get(a)||a,tl(t,a,l))}}function pu(t,e,a,l,s,f){switch(a){case"style":vo(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(d(61));if(a=l.__html,a!=null){if(s.children!=null)throw Error(d(60));t.innerHTML=a}}break;case"children":typeof l=="string"?rn(t,l):(typeof l=="number"||typeof l=="bigint")&&rn(t,""+l);break;case"onScroll":l!=null&&vt("scroll",t);break;case"onScrollEnd":l!=null&&vt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Kl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!so.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(s=a.endsWith("Capture"),e=a.slice(2,s?a.length-7:void 0),f=t[ne]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(e,f,s),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(e,l,s);break t}a in t?t[a]=l:l===!0?t.setAttribute(a,""):tl(t,a,l)}}}function Kt(t,e,a){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":vt("error",t),vt("load",t);var l=!1,s=!1,f;for(f in a)if(a.hasOwnProperty(f)){var y=a[f];if(y!=null)switch(f){case"src":l=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(d(137,e));default:Bt(t,e,f,y,a,null)}}s&&Bt(t,e,"srcSet",a.srcSet,a,null),l&&Bt(t,e,"src",a.src,a,null);return;case"input":vt("invalid",t);var g=f=y=s=null,U=null,M=null;for(l in a)if(a.hasOwnProperty(l)){var j=a[l];if(j!=null)switch(l){case"name":s=j;break;case"type":y=j;break;case"checked":U=j;break;case"defaultChecked":M=j;break;case"value":f=j;break;case"defaultValue":g=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(d(137,e));break;default:Bt(t,e,l,j,a,null)}}_o(t,f,g,U,M,y,s,!1),il(t);return;case"select":vt("invalid",t),l=y=f=null;for(s in a)if(a.hasOwnProperty(s)&&(g=a[s],g!=null))switch(s){case"value":f=g;break;case"defaultValue":y=g;break;case"multiple":l=g;default:Bt(t,e,s,g,a,null)}e=f,a=y,t.multiple=!!l,e!=null?ln(t,!!l,e,!1):a!=null&&ln(t,!!l,a,!0);return;case"textarea":vt("invalid",t),f=s=l=null;for(y in a)if(a.hasOwnProperty(y)&&(g=a[y],g!=null))switch(y){case"value":l=g;break;case"defaultValue":s=g;break;case"children":f=g;break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(d(91));break;default:Bt(t,e,y,g,a,null)}mo(t,l,s,f),il(t);return;case"option":for(U in a)if(a.hasOwnProperty(U)&&(l=a[U],l!=null))switch(U){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Bt(t,e,U,l,a,null)}return;case"dialog":vt("beforetoggle",t),vt("toggle",t),vt("cancel",t),vt("close",t);break;case"iframe":case"object":vt("load",t);break;case"video":case"audio":for(l=0;l<Ba.length;l++)vt(Ba[l],t);break;case"image":vt("error",t),vt("load",t);break;case"details":vt("toggle",t);break;case"embed":case"source":case"link":vt("error",t),vt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(M in a)if(a.hasOwnProperty(M)&&(l=a[M],l!=null))switch(M){case"children":case"dangerouslySetInnerHTML":throw Error(d(137,e));default:Bt(t,e,M,l,a,null)}return;default:if(Cr(e)){for(j in a)a.hasOwnProperty(j)&&(l=a[j],l!==void 0&&pu(t,e,j,l,a,void 0));return}}for(g in a)a.hasOwnProperty(g)&&(l=a[g],l!=null&&Bt(t,e,g,l,a,null))}function x_(t,e,a,l){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,f=null,y=null,g=null,U=null,M=null,j=null;for(N in a){var V=a[N];if(a.hasOwnProperty(N)&&V!=null)switch(N){case"checked":break;case"value":break;case"defaultValue":U=V;default:l.hasOwnProperty(N)||Bt(t,e,N,null,l,V)}}for(var L in l){var N=l[L];if(V=a[L],l.hasOwnProperty(L)&&(N!=null||V!=null))switch(L){case"type":f=N;break;case"name":s=N;break;case"checked":M=N;break;case"defaultChecked":j=N;break;case"value":y=N;break;case"defaultValue":g=N;break;case"children":case"dangerouslySetInnerHTML":if(N!=null)throw Error(d(137,e));break;default:N!==V&&Bt(t,e,L,N,l,V)}}Br(t,y,g,U,M,j,f,s);return;case"select":N=y=g=L=null;for(f in a)if(U=a[f],a.hasOwnProperty(f)&&U!=null)switch(f){case"value":break;case"multiple":N=U;default:l.hasOwnProperty(f)||Bt(t,e,f,null,l,U)}for(s in l)if(f=l[s],U=a[s],l.hasOwnProperty(s)&&(f!=null||U!=null))switch(s){case"value":L=f;break;case"defaultValue":g=f;break;case"multiple":y=f;default:f!==U&&Bt(t,e,s,f,l,U)}e=g,a=y,l=N,L!=null?ln(t,!!a,L,!1):!!l!=!!a&&(e!=null?ln(t,!!a,e,!0):ln(t,!!a,a?[]:"",!1));return;case"textarea":N=L=null;for(g in a)if(s=a[g],a.hasOwnProperty(g)&&s!=null&&!l.hasOwnProperty(g))switch(g){case"value":break;case"children":break;default:Bt(t,e,g,null,l,s)}for(y in l)if(s=l[y],f=a[y],l.hasOwnProperty(y)&&(s!=null||f!=null))switch(y){case"value":L=s;break;case"defaultValue":N=s;break;case"children":break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(d(91));break;default:s!==f&&Bt(t,e,y,s,l,f)}yo(t,L,N);return;case"option":for(var ft in a)if(L=a[ft],a.hasOwnProperty(ft)&&L!=null&&!l.hasOwnProperty(ft))switch(ft){case"selected":t.selected=!1;break;default:Bt(t,e,ft,null,l,L)}for(U in l)if(L=l[U],N=a[U],l.hasOwnProperty(U)&&L!==N&&(L!=null||N!=null))switch(U){case"selected":t.selected=L&&typeof L!="function"&&typeof L!="symbol";break;default:Bt(t,e,U,L,l,N)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ut in a)L=a[ut],a.hasOwnProperty(ut)&&L!=null&&!l.hasOwnProperty(ut)&&Bt(t,e,ut,null,l,L);for(M in l)if(L=l[M],N=a[M],l.hasOwnProperty(M)&&L!==N&&(L!=null||N!=null))switch(M){case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(d(137,e));break;default:Bt(t,e,M,L,l,N)}return;default:if(Cr(e)){for(var zt in a)L=a[zt],a.hasOwnProperty(zt)&&L!==void 0&&!l.hasOwnProperty(zt)&&pu(t,e,zt,void 0,l,L);for(j in l)L=l[j],N=a[j],!l.hasOwnProperty(j)||L===N||L===void 0&&N===void 0||pu(t,e,j,L,l,N);return}}for(var z in a)L=a[z],a.hasOwnProperty(z)&&L!=null&&!l.hasOwnProperty(z)&&Bt(t,e,z,null,l,L);for(V in l)L=l[V],N=a[V],!l.hasOwnProperty(V)||L===N||L==null&&N==null||Bt(t,e,V,L,l,N)}var _u=null,yu=null;function Jl(t){return t.nodeType===9?t:t.ownerDocument}function vh(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Sh(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function mu(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var gu=null;function U_(){var t=window.event;return t&&t.type==="popstate"?t===gu?!1:(gu=t,!0):(gu=null,!1)}var bh=typeof setTimeout=="function"?setTimeout:void 0,E_=typeof clearTimeout=="function"?clearTimeout:void 0,xh=typeof Promise=="function"?Promise:void 0,A_=typeof queueMicrotask=="function"?queueMicrotask:typeof xh<"u"?function(t){return xh.resolve(null).then(t).catch(T_)}:bh;function T_(t){setTimeout(function(){throw t})}function Ui(t){return t==="head"}function Uh(t,e){var a=e,l=0,s=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(0<l&&8>l){a=l;var y=t.ownerDocument;if(a&1&&Ca(y.documentElement),a&2&&Ca(y.body),a&4)for(a=y.head,Ca(a),y=a.firstChild;y;){var g=y.nextSibling,U=y.nodeName;y[Vn]||U==="SCRIPT"||U==="STYLE"||U==="LINK"&&y.rel.toLowerCase()==="stylesheet"||a.removeChild(y),y=g}}if(s===0){t.removeChild(f),Ga(e);return}s--}else a==="$"||a==="$?"||a==="$!"?s++:l=a.charCodeAt(0)-48;else l=0;a=f}while(a);Ga(e)}function vu(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var a=e;switch(e=e.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":vu(a),Er(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function w_(t,e,a,l){for(;t.nodeType===1;){var s=a;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Vn])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==s.rel||t.getAttribute("href")!==(s.href==null||s.href===""?null:s.href)||t.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin)||t.getAttribute("title")!==(s.title==null?null:s.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(s.src==null?null:s.src)||t.getAttribute("type")!==(s.type==null?null:s.type)||t.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var f=s.name==null?null:""+s.name;if(s.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Ce(t.nextSibling),t===null)break}return null}function B_(t,e,a){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Ce(t.nextSibling),t===null))return null;return t}function Su(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function z_(t,e){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")e();else{var l=function(){e(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Ce(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="F!"||e==="F")break;if(e==="/$")return null}}return t}var bu=null;function Eh(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(e===0)return t;e--}else a==="/$"&&e++}t=t.previousSibling}return null}function Ah(t,e,a){switch(e=Jl(a),t){case"html":if(t=e.documentElement,!t)throw Error(d(452));return t;case"head":if(t=e.head,!t)throw Error(d(453));return t;case"body":if(t=e.body,!t)throw Error(d(454));return t;default:throw Error(d(451))}}function Ca(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);Er(t)}var we=new Map,Th=new Set;function $l(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var We=J.d;J.d={f:C_,r:R_,D:D_,C:O_,L:M_,m:L_,X:H_,S:N_,M:G_};function C_(){var t=We.f(),e=ql();return t||e}function R_(t){var e=tn(t);e!==null&&e.tag===5&&e.type==="form"?Xf(e):We.r(t)}var Ln=typeof document>"u"?null:document;function wh(t,e,a){var l=Ln;if(l&&typeof e=="string"&&e){var s=Se(e);s='link[rel="'+t+'"][href="'+s+'"]',typeof a=="string"&&(s+='[crossorigin="'+a+'"]'),Th.has(s)||(Th.add(s),t={rel:t,crossOrigin:a,href:e},l.querySelector(s)===null&&(e=l.createElement("link"),Kt(e,"link",t),It(e),l.head.appendChild(e)))}}function D_(t){We.D(t),wh("dns-prefetch",t,null)}function O_(t,e){We.C(t,e),wh("preconnect",t,e)}function M_(t,e,a){We.L(t,e,a);var l=Ln;if(l&&t&&e){var s='link[rel="preload"][as="'+Se(e)+'"]';e==="image"&&a&&a.imageSrcSet?(s+='[imagesrcset="'+Se(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(s+='[imagesizes="'+Se(a.imageSizes)+'"]')):s+='[href="'+Se(t)+'"]';var f=s;switch(e){case"style":f=Nn(t);break;case"script":f=Hn(t)}we.has(f)||(t=D({rel:"preload",href:e==="image"&&a&&a.imageSrcSet?void 0:t,as:e},a),we.set(f,t),l.querySelector(s)!==null||e==="style"&&l.querySelector(Ra(f))||e==="script"&&l.querySelector(Da(f))||(e=l.createElement("link"),Kt(e,"link",t),It(e),l.head.appendChild(e)))}}function L_(t,e){We.m(t,e);var a=Ln;if(a&&t){var l=e&&typeof e.as=="string"?e.as:"script",s='link[rel="modulepreload"][as="'+Se(l)+'"][href="'+Se(t)+'"]',f=s;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Hn(t)}if(!we.has(f)&&(t=D({rel:"modulepreload",href:t},e),we.set(f,t),a.querySelector(s)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Da(f)))return}l=a.createElement("link"),Kt(l,"link",t),It(l),a.head.appendChild(l)}}}function N_(t,e,a){We.S(t,e,a);var l=Ln;if(l&&t){var s=en(l).hoistableStyles,f=Nn(t);e=e||"default";var y=s.get(f);if(!y){var g={loading:0,preload:null};if(y=l.querySelector(Ra(f)))g.loading=5;else{t=D({rel:"stylesheet",href:t,"data-precedence":e},a),(a=we.get(f))&&xu(t,a);var U=y=l.createElement("link");It(U),Kt(U,"link",t),U._p=new Promise(function(M,j){U.onload=M,U.onerror=j}),U.addEventListener("load",function(){g.loading|=1}),U.addEventListener("error",function(){g.loading|=2}),g.loading|=4,Wl(y,e,l)}y={type:"stylesheet",instance:y,count:1,state:g},s.set(f,y)}}}function H_(t,e){We.X(t,e);var a=Ln;if(a&&t){var l=en(a).hoistableScripts,s=Hn(t),f=l.get(s);f||(f=a.querySelector(Da(s)),f||(t=D({src:t,async:!0},e),(e=we.get(s))&&Uu(t,e),f=a.createElement("script"),It(f),Kt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(s,f))}}function G_(t,e){We.M(t,e);var a=Ln;if(a&&t){var l=en(a).hoistableScripts,s=Hn(t),f=l.get(s);f||(f=a.querySelector(Da(s)),f||(t=D({src:t,async:!0,type:"module"},e),(e=we.get(s))&&Uu(t,e),f=a.createElement("script"),It(f),Kt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(s,f))}}function Bh(t,e,a,l){var s=(s=ct.current)?$l(s):null;if(!s)throw Error(d(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(e=Nn(a.href),a=en(s).hoistableStyles,l=a.get(e),l||(l={type:"style",instance:null,count:0,state:null},a.set(e,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Nn(a.href);var f=en(s).hoistableStyles,y=f.get(t);if(y||(s=s.ownerDocument||s,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=s.querySelector(Ra(t)))&&!f._p&&(y.instance=f,y.state.loading=5),we.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},we.set(t,a),f||F_(s,t,a,y.state))),e&&l===null)throw Error(d(528,""));return y}if(e&&l!==null)throw Error(d(529,""));return null;case"script":return e=a.async,a=a.src,typeof a=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=Hn(a),a=en(s).hoistableScripts,l=a.get(e),l||(l={type:"script",instance:null,count:0,state:null},a.set(e,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(d(444,t))}}function Nn(t){return'href="'+Se(t)+'"'}function Ra(t){return'link[rel="stylesheet"]['+t+"]"}function zh(t){return D({},t,{"data-precedence":t.precedence,precedence:null})}function F_(t,e,a,l){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?l.loading=1:(e=t.createElement("link"),l.preload=e,e.addEventListener("load",function(){return l.loading|=1}),e.addEventListener("error",function(){return l.loading|=2}),Kt(e,"link",a),It(e),t.head.appendChild(e))}function Hn(t){return'[src="'+Se(t)+'"]'}function Da(t){return"script[async]"+t}function Ch(t,e,a){if(e.count++,e.instance===null)switch(e.type){case"style":var l=t.querySelector('style[data-href~="'+Se(a.href)+'"]');if(l)return e.instance=l,It(l),l;var s=D({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),It(l),Kt(l,"style",s),Wl(l,a.precedence,t),e.instance=l;case"stylesheet":s=Nn(a.href);var f=t.querySelector(Ra(s));if(f)return e.state.loading|=4,e.instance=f,It(f),f;l=zh(a),(s=we.get(s))&&xu(l,s),f=(t.ownerDocument||t).createElement("link"),It(f);var y=f;return y._p=new Promise(function(g,U){y.onload=g,y.onerror=U}),Kt(f,"link",l),e.state.loading|=4,Wl(f,a.precedence,t),e.instance=f;case"script":return f=Hn(a.src),(s=t.querySelector(Da(f)))?(e.instance=s,It(s),s):(l=a,(s=we.get(f))&&(l=D({},a),Uu(l,s)),t=t.ownerDocument||t,s=t.createElement("script"),It(s),Kt(s,"link",l),t.head.appendChild(s),e.instance=s);case"void":return null;default:throw Error(d(443,e.type))}else e.type==="stylesheet"&&(e.state.loading&4)===0&&(l=e.instance,e.state.loading|=4,Wl(l,a.precedence,t));return e.instance}function Wl(t,e,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=l.length?l[l.length-1]:null,f=s,y=0;y<l.length;y++){var g=l[y];if(g.dataset.precedence===e)f=g;else if(f!==s)break}f?f.parentNode.insertBefore(t,f.nextSibling):(e=a.nodeType===9?a.head:a,e.insertBefore(t,e.firstChild))}function xu(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function Uu(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var tr=null;function Rh(t,e,a){if(tr===null){var l=new Map,s=tr=new Map;s.set(a,l)}else s=tr,l=s.get(a),l||(l=new Map,s.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),s=0;s<a.length;s++){var f=a[s];if(!(f[Vn]||f[Jt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(e)||"";y=t+y;var g=l.get(y);g?g.push(f):l.set(y,[f])}}return l}function Dh(t,e,a){t=t.ownerDocument||t,t.head.insertBefore(a,e==="title"?t.querySelector("head > title"):null)}function Y_(t,e,a){if(a===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function Oh(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Oa=null;function k_(){}function j_(t,e,a){if(Oa===null)throw Error(d(475));var l=Oa;if(e.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(e.state.loading&4)===0){if(e.instance===null){var s=Nn(a.href),f=t.querySelector(Ra(s));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=er.bind(l),t.then(l,l)),e.state.loading|=4,e.instance=f,It(f);return}f=t.ownerDocument||t,a=zh(a),(s=we.get(s))&&xu(a,s),f=f.createElement("link"),It(f);var y=f;y._p=new Promise(function(g,U){y.onload=g,y.onerror=U}),Kt(f,"link",a),e.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(e,t),(t=e.state.preload)&&(e.state.loading&3)===0&&(l.count++,e=er.bind(l),t.addEventListener("load",e),t.addEventListener("error",e))}}function q_(){if(Oa===null)throw Error(d(475));var t=Oa;return t.stylesheets&&t.count===0&&Eu(t,t.stylesheets),0<t.count?function(e){var a=setTimeout(function(){if(t.stylesheets&&Eu(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=e,function(){t.unsuspend=null,clearTimeout(a)}}:null}function er(){if(this.count--,this.count===0){if(this.stylesheets)Eu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var ir=null;function Eu(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,ir=new Map,e.forEach(I_,t),ir=null,er.call(t))}function I_(t,e){if(!(e.state.loading&4)){var a=ir.get(t);if(a)var l=a.get(null);else{a=new Map,ir.set(t,a);for(var s=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<s.length;f++){var y=s[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(a.set(y.dataset.precedence,y),l=y)}l&&a.set(null,l)}s=e.instance,y=s.getAttribute("data-precedence"),f=a.get(y)||l,f===l&&a.set(null,s),a.set(y,s),this.count++,l=er.bind(this),s.addEventListener("load",l),s.addEventListener("error",l),f?f.parentNode.insertBefore(s,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(s,t.firstChild)),e.state.loading|=4}}var Ma={$$typeof:c,Provider:null,Consumer:null,_currentValue:lt,_currentValue2:lt,_threadCount:0};function V_(t,e,a,l,s,f,y,g){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Sr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Sr(0),this.hiddenUpdates=Sr(null),this.identifierPrefix=l,this.onUncaughtError=s,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=g,this.incompleteTransitions=new Map}function Mh(t,e,a,l,s,f,y,g,U,M,j,V){return t=new V_(t,e,a,y,g,U,M,V),e=1,f===!0&&(e|=24),f=he(3,null,null,e),t.current=f,f.stateNode=t,e=ls(),e.refCount++,t.pooledCache=e,e.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:e},os(f),t}function Lh(t){return t?(t=pn,t):pn}function Nh(t,e,a,l,s,f){s=Lh(s),l.context===null?l.context=s:l.pendingContext=s,l=fi(e),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=ci(t,l,e),a!==null&&(me(a,t,e),fa(a,t,e))}function Hh(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<e?a:e}}function Au(t,e){Hh(t,e),(t=t.alternate)&&Hh(t,e)}function Gh(t){if(t.tag===13){var e=dn(t,67108864);e!==null&&me(e,t,67108864),Au(t,67108864)}}var nr=!0;function X_(t,e,a,l){var s=F.T;F.T=null;var f=J.p;try{J.p=2,Tu(t,e,a,l)}finally{J.p=f,F.T=s}}function P_(t,e,a,l){var s=F.T;F.T=null;var f=J.p;try{J.p=8,Tu(t,e,a,l)}finally{J.p=f,F.T=s}}function Tu(t,e,a,l){if(nr){var s=wu(l);if(s===null)du(t,e,l,ar,a),Yh(t,l);else if(Z_(s,t,e,a,l))l.stopPropagation();else if(Yh(t,l),e&4&&-1<Q_.indexOf(t)){for(;s!==null;){var f=tn(s);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=Di(f.pendingLanes);if(y!==0){var g=f;for(g.pendingLanes|=2,g.entangledLanes|=2;y;){var U=1<<31-fe(y);g.entanglements[1]|=U,y&=~U}Ne(f),(Et&6)===0&&(kl=Re()+500,wa(0))}}break;case 13:g=dn(f,2),g!==null&&me(g,f,2),ql(),Au(f,2)}if(f=wu(l),f===null&&du(t,e,l,ar,a),f===s)break;s=f}s!==null&&l.stopPropagation()}else du(t,e,l,null,a)}}function wu(t){return t=Dr(t),Bu(t)}var ar=null;function Bu(t){if(ar=null,t=Wi(t),t!==null){var e=x(t);if(e===null)t=null;else{var a=e.tag;if(a===13){if(t=B(e),t!==null)return t;t=null}else if(a===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return ar=t,null}function Fh(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Od()){case Ju:return 2;case $u:return 8;case Ka:case Md:return 32;case Wu:return 268435456;default:return 32}default:return 32}}var zu=!1,Ei=null,Ai=null,Ti=null,La=new Map,Na=new Map,wi=[],Q_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Yh(t,e){switch(t){case"focusin":case"focusout":Ei=null;break;case"dragenter":case"dragleave":Ai=null;break;case"mouseover":case"mouseout":Ti=null;break;case"pointerover":case"pointerout":La.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Na.delete(e.pointerId)}}function Ha(t,e,a,l,s,f){return t===null||t.nativeEvent!==f?(t={blockedOn:e,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[s]},e!==null&&(e=tn(e),e!==null&&Gh(e)),t):(t.eventSystemFlags|=l,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Z_(t,e,a,l,s){switch(e){case"focusin":return Ei=Ha(Ei,t,e,a,l,s),!0;case"dragenter":return Ai=Ha(Ai,t,e,a,l,s),!0;case"mouseover":return Ti=Ha(Ti,t,e,a,l,s),!0;case"pointerover":var f=s.pointerId;return La.set(f,Ha(La.get(f)||null,t,e,a,l,s)),!0;case"gotpointercapture":return f=s.pointerId,Na.set(f,Ha(Na.get(f)||null,t,e,a,l,s)),!0}return!1}function kh(t){var e=Wi(t.target);if(e!==null){var a=x(e);if(a!==null){if(e=a.tag,e===13){if(e=B(a),e!==null){t.blockedOn=e,jd(t.priority,function(){if(a.tag===13){var l=ye();l=br(l);var s=dn(a,l);s!==null&&me(s,a,l),Au(a,l)}});return}}else if(e===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function lr(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var a=wu(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Rr=l,a.target.dispatchEvent(l),Rr=null}else return e=tn(a),e!==null&&Gh(e),t.blockedOn=a,!1;e.shift()}return!0}function jh(t,e,a){lr(t)&&a.delete(e)}function K_(){zu=!1,Ei!==null&&lr(Ei)&&(Ei=null),Ai!==null&&lr(Ai)&&(Ai=null),Ti!==null&&lr(Ti)&&(Ti=null),La.forEach(jh),Na.forEach(jh)}function rr(t,e){t.blockedOn===e&&(t.blockedOn=null,zu||(zu=!0,h.unstable_scheduleCallback(h.unstable_NormalPriority,K_)))}var sr=null;function qh(t){sr!==t&&(sr=t,h.unstable_scheduleCallback(h.unstable_NormalPriority,function(){sr===t&&(sr=null);for(var e=0;e<t.length;e+=3){var a=t[e],l=t[e+1],s=t[e+2];if(typeof l!="function"){if(Bu(l||a)===null)continue;break}var f=tn(a);f!==null&&(t.splice(e,3),e-=3,Bs(f,{pending:!0,data:s,method:a.method,action:l},l,s))}}))}function Ga(t){function e(U){return rr(U,t)}Ei!==null&&rr(Ei,t),Ai!==null&&rr(Ai,t),Ti!==null&&rr(Ti,t),La.forEach(e),Na.forEach(e);for(var a=0;a<wi.length;a++){var l=wi[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<wi.length&&(a=wi[0],a.blockedOn===null);)kh(a),a.blockedOn===null&&wi.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var s=a[l],f=a[l+1],y=s[ne]||null;if(typeof f=="function")y||qh(a);else if(y){var g=null;if(f&&f.hasAttribute("formAction")){if(s=f,y=f[ne]||null)g=y.formAction;else if(Bu(s)!==null)continue}else g=y.action;typeof g=="function"?a[l+1]=g:(a.splice(l,3),l-=3),qh(a)}}}function Cu(t){this._internalRoot=t}ur.prototype.render=Cu.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(d(409));var a=e.current,l=ye();Nh(a,l,t,e,null,null)},ur.prototype.unmount=Cu.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Nh(t.current,2,null,t,null,null),ql(),e[$i]=null}};function ur(t){this._internalRoot=t}ur.prototype.unstable_scheduleHydration=function(t){if(t){var e=ao();t={blockedOn:null,target:t,priority:e};for(var a=0;a<wi.length&&e!==0&&e<wi[a].priority;a++);wi.splice(a,0,t),a===0&&kh(t)}};var Ih=_.version;if(Ih!=="19.1.1")throw Error(d(527,Ih,"19.1.1"));J.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(d(188)):(t=Object.keys(t).join(","),Error(d(268,t)));return t=w(e),t=t!==null?b(t):null,t=t===null?null:t.stateNode,t};var J_={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var or=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!or.isDisabled&&or.supportsFiber)try{jn=or.inject(J_),oe=or}catch{}}return ka.createRoot=function(t,e){if(!S(t))throw Error(d(299));var a=!1,l="",s=rc,f=sc,y=uc,g=null;return e!=null&&(e.unstable_strictMode===!0&&(a=!0),e.identifierPrefix!==void 0&&(l=e.identifierPrefix),e.onUncaughtError!==void 0&&(s=e.onUncaughtError),e.onCaughtError!==void 0&&(f=e.onCaughtError),e.onRecoverableError!==void 0&&(y=e.onRecoverableError),e.unstable_transitionCallbacks!==void 0&&(g=e.unstable_transitionCallbacks)),e=Mh(t,1,!1,null,null,a,l,s,f,y,g,null),t[$i]=e.current,hu(t),new Cu(e)},ka.hydrateRoot=function(t,e,a){if(!S(t))throw Error(d(299));var l=!1,s="",f=rc,y=sc,g=uc,U=null,M=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(s=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(g=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(U=a.unstable_transitionCallbacks),a.formState!==void 0&&(M=a.formState)),e=Mh(t,1,!0,e,a??null,l,s,f,y,g,U,M),e.context=Lh(null),a=e.current,l=ye(),l=br(l),s=fi(l),s.callback=null,ci(a,s,l),a=l,e.current.lanes=a,In(e,a),Ne(e),t[$i]=e.current,hu(t),new ur(e)},ka.version="19.1.1",ka}var id;function cy(){if(id)return Ou.exports;id=1;function h(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(h)}catch(_){console.error(_)}}return h(),Ou.exports=fy(),Ou.exports}var hy=cy();/**
 * react-router v7.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var nd="popstate";function dy(h={}){function _(d,S){let{pathname:x,search:B,hash:o}=d.location;return Yu("",{pathname:x,search:B,hash:o},S.state&&S.state.usr||null,S.state&&S.state.key||"default")}function m(d,S){return typeof S=="string"?S:Ia(S)}return _y(_,m,null,h)}function Mt(h,_){if(h===!1||h===null||typeof h>"u")throw new Error(_)}function He(h,_){if(!h){typeof console<"u"&&console.warn(_);try{throw new Error(_)}catch{}}}function py(){return Math.random().toString(36).substring(2,10)}function ad(h,_){return{usr:h.state,key:h.key,idx:_}}function Yu(h,_,m=null,d){return{pathname:typeof h=="string"?h:h.pathname,search:"",hash:"",...typeof _=="string"?Fn(_):_,state:m,key:_&&_.key||d||py()}}function Ia({pathname:h="/",search:_="",hash:m=""}){return _&&_!=="?"&&(h+=_.charAt(0)==="?"?_:"?"+_),m&&m!=="#"&&(h+=m.charAt(0)==="#"?m:"#"+m),h}function Fn(h){let _={};if(h){let m=h.indexOf("#");m>=0&&(_.hash=h.substring(m),h=h.substring(0,m));let d=h.indexOf("?");d>=0&&(_.search=h.substring(d),h=h.substring(0,d)),h&&(_.pathname=h)}return _}function _y(h,_,m,d={}){let{window:S=document.defaultView,v5Compat:x=!1}=d,B=S.history,o="POP",w=null,b=D();b==null&&(b=0,B.replaceState({...B.state,idx:b},""));function D(){return(B.state||{idx:null}).idx}function q(){o="POP";let n=D(),r=n==null?null:n-b;b=n,w&&w({action:o,location:et.location,delta:r})}function Q(n,r){o="PUSH";let u=Yu(et.location,n,r);b=D()+1;let c=ad(u,b),p=et.createHref(u);try{B.pushState(c,"",p)}catch(v){if(v instanceof DOMException&&v.name==="DataCloneError")throw v;S.location.assign(p)}x&&w&&w({action:o,location:et.location,delta:1})}function W(n,r){o="REPLACE";let u=Yu(et.location,n,r);b=D();let c=ad(u,b),p=et.createHref(u);B.replaceState(c,"",p),x&&w&&w({action:o,location:et.location,delta:0})}function O(n){return yy(n)}let et={get action(){return o},get location(){return h(S,B)},listen(n){if(w)throw new Error("A history only accepts one active listener");return S.addEventListener(nd,q),w=n,()=>{S.removeEventListener(nd,q),w=null}},createHref(n){return _(S,n)},createURL:O,encodeLocation(n){let r=O(n);return{pathname:r.pathname,search:r.search,hash:r.hash}},push:Q,replace:W,go(n){return B.go(n)}};return et}function yy(h,_=!1){let m="http://localhost";typeof window<"u"&&(m=window.location.origin!=="null"?window.location.origin:window.location.href),Mt(m,"No window.location.(origin|href) available to create URL");let d=typeof h=="string"?h:Ia(h);return d=d.replace(/ $/,"%20"),!_&&d.startsWith("//")&&(d=m+d),new URL(d,m)}function dd(h,_,m="/"){return my(h,_,m,!1)}function my(h,_,m,d){let S=typeof _=="string"?Fn(_):_,x=ii(S.pathname||"/",m);if(x==null)return null;let B=pd(h);gy(B);let o=null;for(let w=0;o==null&&w<B.length;++w){let b=yd(x);o=wy(B[w],b,d)}return o}function pd(h,_=[],m=[],d="",S=!1){let x=(B,o,w=S,b)=>{let D={relativePath:b===void 0?B.path||"":b,caseSensitive:B.caseSensitive===!0,childrenIndex:o,route:B};if(D.relativePath.startsWith("/")){if(!D.relativePath.startsWith(d)&&w)return;Mt(D.relativePath.startsWith(d),`Absolute route path "${D.relativePath}" nested under path "${d}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),D.relativePath=D.relativePath.slice(d.length)}let q=ei([d,D.relativePath]),Q=m.concat(D);B.children&&B.children.length>0&&(Mt(B.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${q}".`),pd(B.children,_,Q,q,w)),!(B.path==null&&!B.index)&&_.push({path:q,score:Ay(q,B.index),routesMeta:Q})};return h.forEach((B,o)=>{var w;if(B.path===""||!((w=B.path)!=null&&w.includes("?")))x(B,o);else for(let b of _d(B.path))x(B,o,!0,b)}),_}function _d(h){let _=h.split("/");if(_.length===0)return[];let[m,...d]=_,S=m.endsWith("?"),x=m.replace(/\?$/,"");if(d.length===0)return S?[x,""]:[x];let B=_d(d.join("/")),o=[];return o.push(...B.map(w=>w===""?x:[x,w].join("/"))),S&&o.push(...B),o.map(w=>h.startsWith("/")&&w===""?"/":w)}function gy(h){h.sort((_,m)=>_.score!==m.score?m.score-_.score:Ty(_.routesMeta.map(d=>d.childrenIndex),m.routesMeta.map(d=>d.childrenIndex)))}var vy=/^:[\w-]+$/,Sy=3,by=2,xy=1,Uy=10,Ey=-2,ld=h=>h==="*";function Ay(h,_){let m=h.split("/"),d=m.length;return m.some(ld)&&(d+=Ey),_&&(d+=by),m.filter(S=>!ld(S)).reduce((S,x)=>S+(vy.test(x)?Sy:x===""?xy:Uy),d)}function Ty(h,_){return h.length===_.length&&h.slice(0,-1).every((d,S)=>d===_[S])?h[h.length-1]-_[_.length-1]:0}function wy(h,_,m=!1){let{routesMeta:d}=h,S={},x="/",B=[];for(let o=0;o<d.length;++o){let w=d[o],b=o===d.length-1,D=x==="/"?_:_.slice(x.length)||"/",q=Va({path:w.relativePath,caseSensitive:w.caseSensitive,end:b},D),Q=w.route;if(!q&&b&&m&&!d[d.length-1].route.index&&(q=Va({path:w.relativePath,caseSensitive:w.caseSensitive,end:!1},D)),!q)return null;Object.assign(S,q.params),B.push({params:S,pathname:ei([x,q.pathname]),pathnameBase:Dy(ei([x,q.pathnameBase])),route:Q}),q.pathnameBase!=="/"&&(x=ei([x,q.pathnameBase]))}return B}function Va(h,_){typeof h=="string"&&(h={path:h,caseSensitive:!1,end:!0});let[m,d]=By(h.path,h.caseSensitive,h.end),S=_.match(m);if(!S)return null;let x=S[0],B=x.replace(/(.)\/+$/,"$1"),o=S.slice(1);return{params:d.reduce((b,{paramName:D,isOptional:q},Q)=>{if(D==="*"){let O=o[Q]||"";B=x.slice(0,x.length-O.length).replace(/(.)\/+$/,"$1")}const W=o[Q];return q&&!W?b[D]=void 0:b[D]=(W||"").replace(/%2F/g,"/"),b},{}),pathname:x,pathnameBase:B,pattern:h}}function By(h,_=!1,m=!0){He(h==="*"||!h.endsWith("*")||h.endsWith("/*"),`Route path "${h}" will be treated as if it were "${h.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${h.replace(/\*$/,"/*")}".`);let d=[],S="^"+h.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(B,o,w)=>(d.push({paramName:o,isOptional:w!=null}),w?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return h.endsWith("*")?(d.push({paramName:"*"}),S+=h==="*"||h==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):m?S+="\\/*$":h!==""&&h!=="/"&&(S+="(?:(?=\\/|$))"),[new RegExp(S,_?void 0:"i"),d]}function yd(h){try{return h.split("/").map(_=>decodeURIComponent(_).replace(/\//g,"%2F")).join("/")}catch(_){return He(!1,`The URL path "${h}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${_}).`),h}}function ii(h,_){if(_==="/")return h;if(!h.toLowerCase().startsWith(_.toLowerCase()))return null;let m=_.endsWith("/")?_.length-1:_.length,d=h.charAt(m);return d&&d!=="/"?null:h.slice(m)||"/"}function zy(h,_="/"){let{pathname:m,search:d="",hash:S=""}=typeof h=="string"?Fn(h):h;return{pathname:m?m.startsWith("/")?m:Cy(m,_):_,search:Oy(d),hash:My(S)}}function Cy(h,_){let m=_.replace(/\/+$/,"").split("/");return h.split("/").forEach(S=>{S===".."?m.length>1&&m.pop():S!=="."&&m.push(S)}),m.length>1?m.join("/"):"/"}function Hu(h,_,m,d){return`Cannot include a '${h}' character in a manually specified \`to.${_}\` field [${JSON.stringify(d)}].  Please separate it out to the \`to.${m}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Ry(h){return h.filter((_,m)=>m===0||_.route.path&&_.route.path.length>0)}function md(h){let _=Ry(h);return _.map((m,d)=>d===_.length-1?m.pathname:m.pathnameBase)}function gd(h,_,m,d=!1){let S;typeof h=="string"?S=Fn(h):(S={...h},Mt(!S.pathname||!S.pathname.includes("?"),Hu("?","pathname","search",S)),Mt(!S.pathname||!S.pathname.includes("#"),Hu("#","pathname","hash",S)),Mt(!S.search||!S.search.includes("#"),Hu("#","search","hash",S)));let x=h===""||S.pathname==="",B=x?"/":S.pathname,o;if(B==null)o=m;else{let q=_.length-1;if(!d&&B.startsWith("..")){let Q=B.split("/");for(;Q[0]==="..";)Q.shift(),q-=1;S.pathname=Q.join("/")}o=q>=0?_[q]:"/"}let w=zy(S,o),b=B&&B!=="/"&&B.endsWith("/"),D=(x||B===".")&&m.endsWith("/");return!w.pathname.endsWith("/")&&(b||D)&&(w.pathname+="/"),w}var ei=h=>h.join("/").replace(/\/\/+/g,"/"),Dy=h=>h.replace(/\/+$/,"").replace(/^\/*/,"/"),Oy=h=>!h||h==="?"?"":h.startsWith("?")?h:"?"+h,My=h=>!h||h==="#"?"":h.startsWith("#")?h:"#"+h;function Ly(h){return h!=null&&typeof h.status=="number"&&typeof h.statusText=="string"&&typeof h.internal=="boolean"&&"data"in h}var vd=["POST","PUT","PATCH","DELETE"];new Set(vd);var Ny=["GET",...vd];new Set(Ny);var Yn=G.createContext(null);Yn.displayName="DataRouter";var pr=G.createContext(null);pr.displayName="DataRouterState";G.createContext(!1);var Sd=G.createContext({isTransitioning:!1});Sd.displayName="ViewTransition";var Hy=G.createContext(new Map);Hy.displayName="Fetchers";var Gy=G.createContext(null);Gy.displayName="Await";var Ge=G.createContext(null);Ge.displayName="Navigation";var Pa=G.createContext(null);Pa.displayName="Location";var ni=G.createContext({outlet:null,matches:[],isDataRoute:!1});ni.displayName="Route";var Vu=G.createContext(null);Vu.displayName="RouteError";function Fy(h,{relative:_}={}){Mt(kn(),"useHref() may be used only in the context of a <Router> component.");let{basename:m,navigator:d}=G.useContext(Ge),{hash:S,pathname:x,search:B}=Qa(h,{relative:_}),o=x;return m!=="/"&&(o=x==="/"?m:ei([m,x])),d.createHref({pathname:o,search:B,hash:S})}function kn(){return G.useContext(Pa)!=null}function Ri(){return Mt(kn(),"useLocation() may be used only in the context of a <Router> component."),G.useContext(Pa).location}function Yy(h){Mt(kn(),"useMatch() may be used only in the context of a <Router> component.");let{pathname:_}=Ri();return G.useMemo(()=>Va(h,yd(_)),[_,h])}var bd="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function xd(h){G.useContext(Ge).static||G.useLayoutEffect(h)}function ky(){let{isDataRoute:h}=G.useContext(ni);return h?tm():jy()}function jy(){Mt(kn(),"useNavigate() may be used only in the context of a <Router> component.");let h=G.useContext(Yn),{basename:_,navigator:m}=G.useContext(Ge),{matches:d}=G.useContext(ni),{pathname:S}=Ri(),x=JSON.stringify(md(d)),B=G.useRef(!1);return xd(()=>{B.current=!0}),G.useCallback((w,b={})=>{if(He(B.current,bd),!B.current)return;if(typeof w=="number"){m.go(w);return}let D=gd(w,JSON.parse(x),S,b.relative==="path");h==null&&_!=="/"&&(D.pathname=D.pathname==="/"?_:ei([_,D.pathname])),(b.replace?m.replace:m.push)(D,b.state,b)},[_,m,x,S,h])}G.createContext(null);function Qa(h,{relative:_}={}){let{matches:m}=G.useContext(ni),{pathname:d}=Ri(),S=JSON.stringify(md(m));return G.useMemo(()=>gd(h,JSON.parse(S),d,_==="path"),[h,S,d,_])}function qy(h,_){return Ud(h,_)}function Ud(h,_,m,d){var r;Mt(kn(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:S}=G.useContext(Ge),{matches:x}=G.useContext(ni),B=x[x.length-1],o=B?B.params:{},w=B?B.pathname:"/",b=B?B.pathnameBase:"/",D=B&&B.route;{let u=D&&D.path||"";Ed(w,!D||u.endsWith("*")||u.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${w}" (under <Route path="${u}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${u}"> to <Route path="${u==="/"?"*":`${u}/*`}">.`)}let q=Ri(),Q;if(_){let u=typeof _=="string"?Fn(_):_;Mt(b==="/"||((r=u.pathname)==null?void 0:r.startsWith(b)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${b}" but pathname "${u.pathname}" was given in the \`location\` prop.`),Q=u}else Q=q;let W=Q.pathname||"/",O=W;if(b!=="/"){let u=b.replace(/^\//,"").split("/");O="/"+W.replace(/^\//,"").split("/").slice(u.length).join("/")}let et=dd(h,{pathname:O});He(D||et!=null,`No routes matched location "${Q.pathname}${Q.search}${Q.hash}" `),He(et==null||et[et.length-1].route.element!==void 0||et[et.length-1].route.Component!==void 0||et[et.length-1].route.lazy!==void 0,`Matched leaf route at location "${Q.pathname}${Q.search}${Q.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let n=Qy(et&&et.map(u=>Object.assign({},u,{params:Object.assign({},o,u.params),pathname:ei([b,S.encodeLocation?S.encodeLocation(u.pathname).pathname:u.pathname]),pathnameBase:u.pathnameBase==="/"?b:ei([b,S.encodeLocation?S.encodeLocation(u.pathnameBase).pathname:u.pathnameBase])})),x,m,d);return _&&n?G.createElement(Pa.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...Q},navigationType:"POP"}},n):n}function Iy(){let h=Wy(),_=Ly(h)?`${h.status} ${h.statusText}`:h instanceof Error?h.message:JSON.stringify(h),m=h instanceof Error?h.stack:null,d="rgba(200,200,200, 0.5)",S={padding:"0.5rem",backgroundColor:d},x={padding:"2px 4px",backgroundColor:d},B=null;return console.error("Error handled by React Router default ErrorBoundary:",h),B=G.createElement(G.Fragment,null,G.createElement("p",null," Hey developer "),G.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",G.createElement("code",{style:x},"ErrorBoundary")," or"," ",G.createElement("code",{style:x},"errorElement")," prop on your route.")),G.createElement(G.Fragment,null,G.createElement("h2",null,"Unexpected Application Error!"),G.createElement("h3",{style:{fontStyle:"italic"}},_),m?G.createElement("pre",{style:S},m):null,B)}var Vy=G.createElement(Iy,null),Xy=class extends G.Component{constructor(h){super(h),this.state={location:h.location,revalidation:h.revalidation,error:h.error}}static getDerivedStateFromError(h){return{error:h}}static getDerivedStateFromProps(h,_){return _.location!==h.location||_.revalidation!=="idle"&&h.revalidation==="idle"?{error:h.error,location:h.location,revalidation:h.revalidation}:{error:h.error!==void 0?h.error:_.error,location:_.location,revalidation:h.revalidation||_.revalidation}}componentDidCatch(h,_){console.error("React Router caught the following error during render",h,_)}render(){return this.state.error!==void 0?G.createElement(ni.Provider,{value:this.props.routeContext},G.createElement(Vu.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Py({routeContext:h,match:_,children:m}){let d=G.useContext(Yn);return d&&d.static&&d.staticContext&&(_.route.errorElement||_.route.ErrorBoundary)&&(d.staticContext._deepestRenderedBoundaryId=_.route.id),G.createElement(ni.Provider,{value:h},m)}function Qy(h,_=[],m=null,d=null){if(h==null){if(!m)return null;if(m.errors)h=m.matches;else if(_.length===0&&!m.initialized&&m.matches.length>0)h=m.matches;else return null}let S=h,x=m==null?void 0:m.errors;if(x!=null){let w=S.findIndex(b=>b.route.id&&(x==null?void 0:x[b.route.id])!==void 0);Mt(w>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(x).join(",")}`),S=S.slice(0,Math.min(S.length,w+1))}let B=!1,o=-1;if(m)for(let w=0;w<S.length;w++){let b=S[w];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(o=w),b.route.id){let{loaderData:D,errors:q}=m,Q=b.route.loader&&!D.hasOwnProperty(b.route.id)&&(!q||q[b.route.id]===void 0);if(b.route.lazy||Q){B=!0,o>=0?S=S.slice(0,o+1):S=[S[0]];break}}}return S.reduceRight((w,b,D)=>{let q,Q=!1,W=null,O=null;m&&(q=x&&b.route.id?x[b.route.id]:void 0,W=b.route.errorElement||Vy,B&&(o<0&&D===0?(Ed("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),Q=!0,O=null):o===D&&(Q=!0,O=b.route.hydrateFallbackElement||null)));let et=_.concat(S.slice(0,D+1)),n=()=>{let r;return q?r=W:Q?r=O:b.route.Component?r=G.createElement(b.route.Component,null):b.route.element?r=b.route.element:r=w,G.createElement(Py,{match:b,routeContext:{outlet:w,matches:et,isDataRoute:m!=null},children:r})};return m&&(b.route.ErrorBoundary||b.route.errorElement||D===0)?G.createElement(Xy,{location:m.location,revalidation:m.revalidation,component:W,error:q,children:n(),routeContext:{outlet:null,matches:et,isDataRoute:!0}}):n()},null)}function Xu(h){return`${h} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Zy(h){let _=G.useContext(Yn);return Mt(_,Xu(h)),_}function Ky(h){let _=G.useContext(pr);return Mt(_,Xu(h)),_}function Jy(h){let _=G.useContext(ni);return Mt(_,Xu(h)),_}function Pu(h){let _=Jy(h),m=_.matches[_.matches.length-1];return Mt(m.route.id,`${h} can only be used on routes that contain a unique "id"`),m.route.id}function $y(){return Pu("useRouteId")}function Wy(){var d;let h=G.useContext(Vu),_=Ky("useRouteError"),m=Pu("useRouteError");return h!==void 0?h:(d=_.errors)==null?void 0:d[m]}function tm(){let{router:h}=Zy("useNavigate"),_=Pu("useNavigate"),m=G.useRef(!1);return xd(()=>{m.current=!0}),G.useCallback(async(S,x={})=>{He(m.current,bd),m.current&&(typeof S=="number"?h.navigate(S):await h.navigate(S,{fromRouteId:_,...x}))},[h,_])}var rd={};function Ed(h,_,m){!_&&!rd[h]&&(rd[h]=!0,He(!1,m))}G.memo(em);function em({routes:h,future:_,state:m}){return Ud(h,void 0,m,_)}function ku(h){Mt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function im({basename:h="/",children:_=null,location:m,navigationType:d="POP",navigator:S,static:x=!1}){Mt(!kn(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let B=h.replace(/^\/*/,"/"),o=G.useMemo(()=>({basename:B,navigator:S,static:x,future:{}}),[B,S,x]);typeof m=="string"&&(m=Fn(m));let{pathname:w="/",search:b="",hash:D="",state:q=null,key:Q="default"}=m,W=G.useMemo(()=>{let O=ii(w,B);return O==null?null:{location:{pathname:O,search:b,hash:D,state:q,key:Q},navigationType:d}},[B,w,b,D,q,Q,d]);return He(W!=null,`<Router basename="${B}"> is not able to match the URL "${w}${b}${D}" because it does not start with the basename, so the <Router> won't render anything.`),W==null?null:G.createElement(Ge.Provider,{value:o},G.createElement(Pa.Provider,{children:_,value:W}))}function nm({children:h,location:_}){return qy(ju(h),_)}function ju(h,_=[]){let m=[];return G.Children.forEach(h,(d,S)=>{if(!G.isValidElement(d))return;let x=[..._,S];if(d.type===G.Fragment){m.push.apply(m,ju(d.props.children,x));return}Mt(d.type===ku,`[${typeof d.type=="string"?d.type:d.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Mt(!d.props.index||!d.props.children,"An index route cannot have child routes.");let B={id:d.props.id||x.join("-"),caseSensitive:d.props.caseSensitive,element:d.props.element,Component:d.props.Component,index:d.props.index,path:d.props.path,loader:d.props.loader,action:d.props.action,hydrateFallbackElement:d.props.hydrateFallbackElement,HydrateFallback:d.props.HydrateFallback,errorElement:d.props.errorElement,ErrorBoundary:d.props.ErrorBoundary,hasErrorBoundary:d.props.hasErrorBoundary===!0||d.props.ErrorBoundary!=null||d.props.errorElement!=null,shouldRevalidate:d.props.shouldRevalidate,handle:d.props.handle,lazy:d.props.lazy};d.props.children&&(B.children=ju(d.props.children,x)),m.push(B)}),m}var cr="get",hr="application/x-www-form-urlencoded";function _r(h){return h!=null&&typeof h.tagName=="string"}function am(h){return _r(h)&&h.tagName.toLowerCase()==="button"}function lm(h){return _r(h)&&h.tagName.toLowerCase()==="form"}function rm(h){return _r(h)&&h.tagName.toLowerCase()==="input"}function sm(h){return!!(h.metaKey||h.altKey||h.ctrlKey||h.shiftKey)}function um(h,_){return h.button===0&&(!_||_==="_self")&&!sm(h)}var fr=null;function om(){if(fr===null)try{new FormData(document.createElement("form"),0),fr=!1}catch{fr=!0}return fr}var fm=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Gu(h){return h!=null&&!fm.has(h)?(He(!1,`"${h}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${hr}"`),null):h}function cm(h,_){let m,d,S,x,B;if(lm(h)){let o=h.getAttribute("action");d=o?ii(o,_):null,m=h.getAttribute("method")||cr,S=Gu(h.getAttribute("enctype"))||hr,x=new FormData(h)}else if(am(h)||rm(h)&&(h.type==="submit"||h.type==="image")){let o=h.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let w=h.getAttribute("formaction")||o.getAttribute("action");if(d=w?ii(w,_):null,m=h.getAttribute("formmethod")||o.getAttribute("method")||cr,S=Gu(h.getAttribute("formenctype"))||Gu(o.getAttribute("enctype"))||hr,x=new FormData(o,h),!om()){let{name:b,type:D,value:q}=h;if(D==="image"){let Q=b?`${b}.`:"";x.append(`${Q}x`,"0"),x.append(`${Q}y`,"0")}else b&&x.append(b,q)}}else{if(_r(h))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');m=cr,d=null,S=hr,B=h}return x&&S==="text/plain"&&(B=x,x=void 0),{action:d,method:m.toLowerCase(),encType:S,formData:x,body:B}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Qu(h,_){if(h===!1||h===null||typeof h>"u")throw new Error(_)}function hm(h,_,m){let d=typeof h=="string"?new URL(h,typeof window>"u"?"server://singlefetch/":window.location.origin):h;return d.pathname==="/"?d.pathname=`_root.${m}`:_&&ii(d.pathname,_)==="/"?d.pathname=`${_.replace(/\/$/,"")}/_root.${m}`:d.pathname=`${d.pathname.replace(/\/$/,"")}.${m}`,d}async function dm(h,_){if(h.id in _)return _[h.id];try{let m=await import(h.module);return _[h.id]=m,m}catch(m){return console.error(`Error loading route module \`${h.module}\`, reloading page...`),console.error(m),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function pm(h){return h==null?!1:h.href==null?h.rel==="preload"&&typeof h.imageSrcSet=="string"&&typeof h.imageSizes=="string":typeof h.rel=="string"&&typeof h.href=="string"}async function _m(h,_,m){let d=await Promise.all(h.map(async S=>{let x=_.routes[S.route.id];if(x){let B=await dm(x,m);return B.links?B.links():[]}return[]}));return vm(d.flat(1).filter(pm).filter(S=>S.rel==="stylesheet"||S.rel==="preload").map(S=>S.rel==="stylesheet"?{...S,rel:"prefetch",as:"style"}:{...S,rel:"prefetch"}))}function sd(h,_,m,d,S,x){let B=(w,b)=>m[b]?w.route.id!==m[b].route.id:!0,o=(w,b)=>{var D;return m[b].pathname!==w.pathname||((D=m[b].route.path)==null?void 0:D.endsWith("*"))&&m[b].params["*"]!==w.params["*"]};return x==="assets"?_.filter((w,b)=>B(w,b)||o(w,b)):x==="data"?_.filter((w,b)=>{var q;let D=d.routes[w.route.id];if(!D||!D.hasLoader)return!1;if(B(w,b)||o(w,b))return!0;if(w.route.shouldRevalidate){let Q=w.route.shouldRevalidate({currentUrl:new URL(S.pathname+S.search+S.hash,window.origin),currentParams:((q=m[0])==null?void 0:q.params)||{},nextUrl:new URL(h,window.origin),nextParams:w.params,defaultShouldRevalidate:!0});if(typeof Q=="boolean")return Q}return!0}):[]}function ym(h,_,{includeHydrateFallback:m}={}){return mm(h.map(d=>{let S=_.routes[d.route.id];if(!S)return[];let x=[S.module];return S.clientActionModule&&(x=x.concat(S.clientActionModule)),S.clientLoaderModule&&(x=x.concat(S.clientLoaderModule)),m&&S.hydrateFallbackModule&&(x=x.concat(S.hydrateFallbackModule)),S.imports&&(x=x.concat(S.imports)),x}).flat(1))}function mm(h){return[...new Set(h)]}function gm(h){let _={},m=Object.keys(h).sort();for(let d of m)_[d]=h[d];return _}function vm(h,_){let m=new Set;return new Set(_),h.reduce((d,S)=>{let x=JSON.stringify(gm(S));return m.has(x)||(m.add(x),d.push({key:x,link:S})),d},[])}function Ad(){let h=G.useContext(Yn);return Qu(h,"You must render this element inside a <DataRouterContext.Provider> element"),h}function Sm(){let h=G.useContext(pr);return Qu(h,"You must render this element inside a <DataRouterStateContext.Provider> element"),h}var Zu=G.createContext(void 0);Zu.displayName="FrameworkContext";function Td(){let h=G.useContext(Zu);return Qu(h,"You must render this element inside a <HydratedRouter> element"),h}function bm(h,_){let m=G.useContext(Zu),[d,S]=G.useState(!1),[x,B]=G.useState(!1),{onFocus:o,onBlur:w,onMouseEnter:b,onMouseLeave:D,onTouchStart:q}=_,Q=G.useRef(null);G.useEffect(()=>{if(h==="render"&&B(!0),h==="viewport"){let et=r=>{r.forEach(u=>{B(u.isIntersecting)})},n=new IntersectionObserver(et,{threshold:.5});return Q.current&&n.observe(Q.current),()=>{n.disconnect()}}},[h]),G.useEffect(()=>{if(d){let et=setTimeout(()=>{B(!0)},100);return()=>{clearTimeout(et)}}},[d]);let W=()=>{S(!0)},O=()=>{S(!1),B(!1)};return m?h!=="intent"?[x,Q,{}]:[x,Q,{onFocus:ja(o,W),onBlur:ja(w,O),onMouseEnter:ja(b,W),onMouseLeave:ja(D,O),onTouchStart:ja(q,W)}]:[!1,Q,{}]}function ja(h,_){return m=>{h&&h(m),m.defaultPrevented||_(m)}}function xm({page:h,..._}){let{router:m}=Ad(),d=G.useMemo(()=>dd(m.routes,h,m.basename),[m.routes,h,m.basename]);return d?G.createElement(Em,{page:h,matches:d,..._}):null}function Um(h){let{manifest:_,routeModules:m}=Td(),[d,S]=G.useState([]);return G.useEffect(()=>{let x=!1;return _m(h,_,m).then(B=>{x||S(B)}),()=>{x=!0}},[h,_,m]),d}function Em({page:h,matches:_,...m}){let d=Ri(),{manifest:S,routeModules:x}=Td(),{basename:B}=Ad(),{loaderData:o,matches:w}=Sm(),b=G.useMemo(()=>sd(h,_,w,S,d,"data"),[h,_,w,S,d]),D=G.useMemo(()=>sd(h,_,w,S,d,"assets"),[h,_,w,S,d]),q=G.useMemo(()=>{if(h===d.pathname+d.search+d.hash)return[];let O=new Set,et=!1;if(_.forEach(r=>{var c;let u=S.routes[r.route.id];!u||!u.hasLoader||(!b.some(p=>p.route.id===r.route.id)&&r.route.id in o&&((c=x[r.route.id])!=null&&c.shouldRevalidate)||u.hasClientLoader?et=!0:O.add(r.route.id))}),O.size===0)return[];let n=hm(h,B,"data");return et&&O.size>0&&n.searchParams.set("_routes",_.filter(r=>O.has(r.route.id)).map(r=>r.route.id).join(",")),[n.pathname+n.search]},[B,o,d,S,b,_,h,x]),Q=G.useMemo(()=>ym(D,S),[D,S]),W=Um(D);return G.createElement(G.Fragment,null,q.map(O=>G.createElement("link",{key:O,rel:"prefetch",as:"fetch",href:O,...m})),Q.map(O=>G.createElement("link",{key:O,rel:"modulepreload",href:O,...m})),W.map(({key:O,link:et})=>G.createElement("link",{key:O,nonce:m.nonce,...et})))}function Am(...h){return _=>{h.forEach(m=>{typeof m=="function"?m(_):m!=null&&(m.current=_)})}}var wd=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{wd&&(window.__reactRouterVersion="7.8.1")}catch{}function Tm({basename:h,children:_,window:m}){let d=G.useRef();d.current==null&&(d.current=dy({window:m,v5Compat:!0}));let S=d.current,[x,B]=G.useState({action:S.action,location:S.location}),o=G.useCallback(w=>{G.startTransition(()=>B(w))},[B]);return G.useLayoutEffect(()=>S.listen(o),[S,o]),G.createElement(im,{basename:h,children:_,location:x.location,navigationType:x.action,navigator:S})}var Bd=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Xa=G.forwardRef(function({onClick:_,discover:m="render",prefetch:d="none",relative:S,reloadDocument:x,replace:B,state:o,target:w,to:b,preventScrollReset:D,viewTransition:q,...Q},W){let{basename:O}=G.useContext(Ge),et=typeof b=="string"&&Bd.test(b),n,r=!1;if(typeof b=="string"&&et&&(n=b,wd))try{let Y=new URL(window.location.href),P=b.startsWith("//")?new URL(Y.protocol+b):new URL(b),Z=ii(P.pathname,O);P.origin===Y.origin&&Z!=null?b=Z+P.search+P.hash:r=!0}catch{He(!1,`<Link to="${b}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let u=Fy(b,{relative:S}),[c,p,v]=bm(d,Q),E=Cm(b,{replace:B,state:o,target:w,preventScrollReset:D,relative:S,viewTransition:q});function C(Y){_&&_(Y),Y.defaultPrevented||E(Y)}let H=G.createElement("a",{...Q,...v,href:n||u,onClick:r||x?_:C,ref:Am(W,p),target:w,"data-discover":!et&&m==="render"?"true":void 0});return c&&!et?G.createElement(G.Fragment,null,H,G.createElement(xm,{page:u})):H});Xa.displayName="Link";var wm=G.forwardRef(function({"aria-current":_="page",caseSensitive:m=!1,className:d="",end:S=!1,style:x,to:B,viewTransition:o,children:w,...b},D){let q=Qa(B,{relative:b.relative}),Q=Ri(),W=G.useContext(pr),{navigator:O,basename:et}=G.useContext(Ge),n=W!=null&&Lm(q)&&o===!0,r=O.encodeLocation?O.encodeLocation(q).pathname:q.pathname,u=Q.pathname,c=W&&W.navigation&&W.navigation.location?W.navigation.location.pathname:null;m||(u=u.toLowerCase(),c=c?c.toLowerCase():null,r=r.toLowerCase()),c&&et&&(c=ii(c,et)||c);const p=r!=="/"&&r.endsWith("/")?r.length-1:r.length;let v=u===r||!S&&u.startsWith(r)&&u.charAt(p)==="/",E=c!=null&&(c===r||!S&&c.startsWith(r)&&c.charAt(r.length)==="/"),C={isActive:v,isPending:E,isTransitioning:n},H=v?_:void 0,Y;typeof d=="function"?Y=d(C):Y=[d,v?"active":null,E?"pending":null,n?"transitioning":null].filter(Boolean).join(" ");let P=typeof x=="function"?x(C):x;return G.createElement(Xa,{...b,"aria-current":H,className:Y,ref:D,style:P,to:B,viewTransition:o},typeof w=="function"?w(C):w)});wm.displayName="NavLink";var Bm=G.forwardRef(({discover:h="render",fetcherKey:_,navigate:m,reloadDocument:d,replace:S,state:x,method:B=cr,action:o,onSubmit:w,relative:b,preventScrollReset:D,viewTransition:q,...Q},W)=>{let O=Om(),et=Mm(o,{relative:b}),n=B.toLowerCase()==="get"?"get":"post",r=typeof o=="string"&&Bd.test(o),u=c=>{if(w&&w(c),c.defaultPrevented)return;c.preventDefault();let p=c.nativeEvent.submitter,v=(p==null?void 0:p.getAttribute("formmethod"))||B;O(p||c.currentTarget,{fetcherKey:_,method:v,navigate:m,replace:S,state:x,relative:b,preventScrollReset:D,viewTransition:q})};return G.createElement("form",{ref:W,method:n,action:et,onSubmit:d?w:u,...Q,"data-discover":!r&&h==="render"?"true":void 0})});Bm.displayName="Form";function zm(h){return`${h} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function zd(h){let _=G.useContext(Yn);return Mt(_,zm(h)),_}function Cm(h,{target:_,replace:m,state:d,preventScrollReset:S,relative:x,viewTransition:B}={}){let o=ky(),w=Ri(),b=Qa(h,{relative:x});return G.useCallback(D=>{if(um(D,_)){D.preventDefault();let q=m!==void 0?m:Ia(w)===Ia(b);o(h,{replace:q,state:d,preventScrollReset:S,relative:x,viewTransition:B})}},[w,o,b,m,d,_,h,S,x,B])}var Rm=0,Dm=()=>`__${String(++Rm)}__`;function Om(){let{router:h}=zd("useSubmit"),{basename:_}=G.useContext(Ge),m=$y();return G.useCallback(async(d,S={})=>{let{action:x,method:B,encType:o,formData:w,body:b}=cm(d,_);if(S.navigate===!1){let D=S.fetcherKey||Dm();await h.fetch(D,m,S.action||x,{preventScrollReset:S.preventScrollReset,formData:w,body:b,formMethod:S.method||B,formEncType:S.encType||o,flushSync:S.flushSync})}else await h.navigate(S.action||x,{preventScrollReset:S.preventScrollReset,formData:w,body:b,formMethod:S.method||B,formEncType:S.encType||o,replace:S.replace,state:S.state,fromRouteId:m,flushSync:S.flushSync,viewTransition:S.viewTransition})},[h,_,m])}function Mm(h,{relative:_}={}){let{basename:m}=G.useContext(Ge),d=G.useContext(ni);Mt(d,"useFormAction must be used inside a RouteContext");let[S]=d.matches.slice(-1),x={...Qa(h||".",{relative:_})},B=Ri();if(h==null){x.search=B.search;let o=new URLSearchParams(x.search),w=o.getAll("index");if(w.some(D=>D==="")){o.delete("index"),w.filter(q=>q).forEach(q=>o.append("index",q));let D=o.toString();x.search=D?`?${D}`:""}}return(!h||h===".")&&S.route.index&&(x.search=x.search?x.search.replace(/^\?/,"?index&"):"?index"),m!=="/"&&(x.pathname=x.pathname==="/"?m:ei([m,x.pathname])),Ia(x)}function Lm(h,{relative:_}={}){let m=G.useContext(Sd);Mt(m!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:d}=zd("useViewTransitionState"),S=Qa(h,{relative:_});if(!m.isTransitioning)return!1;let x=ii(m.currentLocation.pathname,d)||m.currentLocation.pathname,B=ii(m.nextLocation.pathname,d)||m.nextLocation.pathname;return Va(S.pathname,B)!=null||Va(S.pathname,x)!=null}const Gn=({name:h})=>k.jsx("span",{className:"material-symbols-outlined",children:h}),Nm=()=>k.jsxs("main",{className:"Home",children:[k.jsx("video",{crossOrigin:"anonymous",src:"https://supermosh.s3.eu-west-3.amazonaws.com/cover.mp4",muted:!0,autoPlay:!0,loop:!0,playsInline:!0}),k.jsxs("header",{children:[k.jsx("h1",{children:"The first browser-based datamosh editor"}),k.jsx("p",{children:"Datamoshing is one of the most sought-after video glitch effect, but demands complex technical expertise to achieve."}),k.jsx("p",{children:"Supermosh brings datamoshing capabilities to everyone through a free web-based editor, allowing anyone to glitch their images and videos."}),k.jsxs("p",{className:"button-row",children:[k.jsxs(Xa,{to:"/studio",className:"link-button",children:[k.jsx(Gn,{name:"movie"})," Start glitching"]}),k.jsxs("a",{href:"https://youtu.be/M1OCjF-aJyo",className:"link-button",children:[k.jsx(Gn,{name:"info"})," Watch the tutorial"]})]}),k.jsxs("p",{children:["Made with <3 by ",k.jsx("a",{href:"https://ninofiliu.com",children:"Nino Filiu"}),"."]})]}),k.jsxs("div",{className:"faq",children:[k.jsx("video",{crossOrigin:"anonymous",src:"https://supermosh.s3.eu-west-3.amazonaws.com/1.mp4",muted:!0,autoPlay:!0,loop:!0,playsInline:!0}),k.jsxs("div",{className:"q",children:[k.jsx("h1",{children:"What is datamoshing?"}),k.jsx("p",{children:"It's a process in which video compression algorithms like the ones used in mp4 files are hacked: by playing frames not in the order they are supposed to be played at, we can make the video glitch out."})]}),k.jsx("video",{crossOrigin:"anonymous",src:"https://supermosh.s3.eu-west-3.amazonaws.com/4.mp4",muted:!0,autoPlay:!0,loop:!0,playsInline:!0}),k.jsxs("div",{className:"q",children:[k.jsx("h1",{children:"How does Supermosh compares to alternatives?"}),k.jsx("p",{children:"There are two traditional datamoshing techniques:"}),k.jsx("p",{children:"The buggy, technical way: using ffmpeg on the command line to pre-process videos, then using avidemux, a 20-year-old software, to manually edit video frames"}),k.jsx("p",{children:"The expensive way: pay for overpriced plugins for video editing softwares that are already quite pricey"}),k.jsx("p",{children:"Supermosh aims at empowering non-technical artists to glitch out their footage by providing a powerful yet free datamosh editor."})]}),k.jsx("video",{crossOrigin:"anonymous",src:"https://supermosh.s3.eu-west-3.amazonaws.com/3.mp4",muted:!0,autoPlay:!0,loop:!0,playsInline:!0}),k.jsxs("div",{className:"q",children:[k.jsx("h1",{children:"How does Supermosh even works?"}),k.jsxs("p",{children:["It uses"," ",k.jsx("a",{href:"https://ffmpegwasm.netlify.app/",children:"the web assembly port"})," of"," ",k.jsx("a",{href:"https://www.ffmpeg.org/",children:"ffmpeg"})," to pre-process videos (resize, remove key frames), then uses"," ",k.jsx("a",{href:"https://developer.mozilla.org/en-US/docs/Web/API/WebCodecs_API",children:"web codecs"})," ","to reconstruct a video based on the timeline defined by the user in the Supermosh Studio."]})]}),k.jsx("video",{crossOrigin:"anonymous",src:"https://supermosh.s3.eu-west-3.amazonaws.com/5.mp4",muted:!0,autoPlay:!0,loop:!0,playsInline:!0}),k.jsxs("div",{className:"q",children:[k.jsx("h1",{children:"How free is Supermosh?"}),k.jsx("p",{children:"As free as I could make it:"}),k.jsx("p",{children:"There's no account required, and no usage limits."}),k.jsx("p",{children:"There's no tracking whatsoever, and computation happens in the browser, so footage is not sent to anyone - even me."}),k.jsxs("p",{children:["Obviously, it's"," ",k.jsx("a",{href:"https://github.com/supermosh/supermosh.github.io",children:"open source"}),"."]}),k.jsxs("p",{children:["Videos are not watermarked and you can do whatever you want with them. That being said, I always like when supermoshers send me their creations! All my socials and contact links are on"," ",k.jsx("a",{href:"https://ninofiliu.com",children:"my website"}),"."]})]}),k.jsx("video",{crossOrigin:"anonymous",src:"https://supermosh.s3.eu-west-3.amazonaws.com/2.mp4",muted:!0,autoPlay:!0,loop:!0,playsInline:!0})]})]});var Tt;(function(h){h.LOAD="LOAD",h.EXEC="EXEC",h.FFPROBE="FFPROBE",h.WRITE_FILE="WRITE_FILE",h.READ_FILE="READ_FILE",h.DELETE_FILE="DELETE_FILE",h.RENAME="RENAME",h.CREATE_DIR="CREATE_DIR",h.LIST_DIR="LIST_DIR",h.DELETE_DIR="DELETE_DIR",h.ERROR="ERROR",h.DOWNLOAD="DOWNLOAD",h.PROGRESS="PROGRESS",h.LOG="LOG",h.MOUNT="MOUNT",h.UNMOUNT="UNMOUNT"})(Tt||(Tt={}));const Hm=(()=>{let h=0;return()=>h++})(),Gm=new Error("ffmpeg is not loaded, call `await ffmpeg.load()` first"),Fm=new Error("called FFmpeg.terminate()");var ge,Ci,ti,Ki,Ji,dr,ie;class Ym{constructor(){zi(this,ge,null);zi(this,Ci,{});zi(this,ti,{});zi(this,Ki,[]);zi(this,Ji,[]);ee(this,"loaded",!1);zi(this,dr,()=>{yt(this,ge)&&(yt(this,ge).onmessage=({data:{id:_,type:m,data:d}})=>{switch(m){case Tt.LOAD:this.loaded=!0,yt(this,Ci)[_](d);break;case Tt.MOUNT:case Tt.UNMOUNT:case Tt.EXEC:case Tt.FFPROBE:case Tt.WRITE_FILE:case Tt.READ_FILE:case Tt.DELETE_FILE:case Tt.RENAME:case Tt.CREATE_DIR:case Tt.LIST_DIR:case Tt.DELETE_DIR:yt(this,Ci)[_](d);break;case Tt.LOG:yt(this,Ki).forEach(S=>S(d));break;case Tt.PROGRESS:yt(this,Ji).forEach(S=>S(d));break;case Tt.ERROR:yt(this,ti)[_](d);break}delete yt(this,Ci)[_],delete yt(this,ti)[_]})});zi(this,ie,({type:_,data:m},d=[],S)=>yt(this,ge)?new Promise((x,B)=>{const o=Hm();yt(this,ge)&&yt(this,ge).postMessage({id:o,type:_,data:m},d),yt(this,Ci)[o]=x,yt(this,ti)[o]=B,S==null||S.addEventListener("abort",()=>{B(new DOMException(`Message # ${o} was aborted`,"AbortError"))},{once:!0})}):Promise.reject(Gm));ee(this,"load",({classWorkerURL:_,...m}={},{signal:d}={})=>(yt(this,ge)||(Fa(this,ge,_?new Worker(new URL(_,import.meta.url),{type:"module"}):new Worker(new URL("/assets/worker-BAOIWoxA.js",import.meta.url),{type:"module"})),yt(this,dr).call(this)),yt(this,ie).call(this,{type:Tt.LOAD,data:m},void 0,d)));ee(this,"exec",(_,m=-1,{signal:d}={})=>yt(this,ie).call(this,{type:Tt.EXEC,data:{args:_,timeout:m}},void 0,d));ee(this,"ffprobe",(_,m=-1,{signal:d}={})=>yt(this,ie).call(this,{type:Tt.FFPROBE,data:{args:_,timeout:m}},void 0,d));ee(this,"terminate",()=>{const _=Object.keys(yt(this,ti));for(const m of _)yt(this,ti)[m](Fm),delete yt(this,ti)[m],delete yt(this,Ci)[m];yt(this,ge)&&(yt(this,ge).terminate(),Fa(this,ge,null),this.loaded=!1)});ee(this,"writeFile",(_,m,{signal:d}={})=>{const S=[];return m instanceof Uint8Array&&S.push(m.buffer),yt(this,ie).call(this,{type:Tt.WRITE_FILE,data:{path:_,data:m}},S,d)});ee(this,"mount",(_,m,d)=>{const S=[];return yt(this,ie).call(this,{type:Tt.MOUNT,data:{fsType:_,options:m,mountPoint:d}},S)});ee(this,"unmount",_=>{const m=[];return yt(this,ie).call(this,{type:Tt.UNMOUNT,data:{mountPoint:_}},m)});ee(this,"readFile",(_,m="binary",{signal:d}={})=>yt(this,ie).call(this,{type:Tt.READ_FILE,data:{path:_,encoding:m}},void 0,d));ee(this,"deleteFile",(_,{signal:m}={})=>yt(this,ie).call(this,{type:Tt.DELETE_FILE,data:{path:_}},void 0,m));ee(this,"rename",(_,m,{signal:d}={})=>yt(this,ie).call(this,{type:Tt.RENAME,data:{oldPath:_,newPath:m}},void 0,d));ee(this,"createDir",(_,{signal:m}={})=>yt(this,ie).call(this,{type:Tt.CREATE_DIR,data:{path:_}},void 0,m));ee(this,"listDir",(_,{signal:m}={})=>yt(this,ie).call(this,{type:Tt.LIST_DIR,data:{path:_}},void 0,m));ee(this,"deleteDir",(_,{signal:m}={})=>yt(this,ie).call(this,{type:Tt.DELETE_DIR,data:{path:_}},void 0,m))}on(_,m){_==="log"?yt(this,Ki).push(m):_==="progress"&&yt(this,Ji).push(m)}off(_,m){_==="log"?Fa(this,Ki,yt(this,Ki).filter(d=>d!==m)):_==="progress"&&Fa(this,Ji,yt(this,Ji).filter(d=>d!==m))}}ge=new WeakMap,Ci=new WeakMap,ti=new WeakMap,Ki=new WeakMap,Ji=new WeakMap,dr=new WeakMap,ie=new WeakMap;var ud;(function(h){h.MEMFS="MEMFS",h.NODEFS="NODEFS",h.NODERAWFS="NODERAWFS",h.IDBFS="IDBFS",h.WORKERFS="WORKERFS",h.PROXYFS="PROXYFS"})(ud||(ud={}));const km=new Error("failed to get response body reader"),jm=new Error("failed to complete download"),qm="Content-Length",Im=h=>new Promise((_,m)=>{const d=new FileReader;d.onload=()=>{const{result:S}=d;S instanceof ArrayBuffer?_(new Uint8Array(S)):_(new Uint8Array)},d.onerror=S=>{var x,B;m(Error(`File could not be read! Code=${((B=(x=S==null?void 0:S.target)==null?void 0:x.error)==null?void 0:B.code)||-1}`))},d.readAsArrayBuffer(h)}),Vm=async h=>{let _;if(typeof h=="string")/data:_data\/([a-zA-Z]*);base64,([^"]*)/.test(h)?_=atob(h.split(",")[1]).split("").map(m=>m.charCodeAt(0)):_=await(await fetch(h)).arrayBuffer();else if(h instanceof URL)_=await(await fetch(h)).arrayBuffer();else if(h instanceof File||h instanceof Blob)_=await Im(h);else return new Uint8Array;return new Uint8Array(_)},Xm=async(h,_)=>{var S;const m=await fetch(h);let d;try{const x=parseInt(m.headers.get(qm)||"-1"),B=(S=m.body)==null?void 0:S.getReader();if(!B)throw km;const o=[];let w=0;for(;;){const{done:q,value:Q}=await B.read(),W=Q?Q.length:0;if(q){if(x!=-1&&x!==w)throw jm;_&&_({url:h,total:x,received:w,delta:W,done:q});break}o.push(Q),w+=W,_&&_({url:h,total:x,received:w,delta:W,done:q})}const b=new Uint8Array(w);let D=0;for(const q of o)b.set(q,D),D+=q.length;d=b.buffer}catch(x){console.log("failed to send download progress event: ",x),d=await m.arrayBuffer()}return d},od=async(h,_,m=!1,d)=>{const S=m?await Xm(h,d):await(await fetch(h)).arrayBuffer(),x=new Blob([S],{type:_});return URL.createObjectURL(x)},Ku=({name:h,children:_})=>k.jsxs("div",{className:"Section",children:[k.jsx("h1",{children:h}),k.jsx("div",{children:_})]});var Fu={},fd;function Pm(){return fd||(fd=1,(function(h){var _=(function(){var n=new Date,r=4,u=3,c=2,p=1,v=r,E={setLogLevel:function(C){C==this.debug?v=p:C==this.info?v=c:C==this.warn?v=u:(C==this.error,v=r)},debug:function(C,H){console.debug===void 0&&(console.debug=console.log),p>=v&&console.debug("["+_.getDurationString(new Date-n,1e3)+"]","["+C+"]",H)},log:function(C,H){this.debug(C.msg)},info:function(C,H){c>=v&&console.info("["+_.getDurationString(new Date-n,1e3)+"]","["+C+"]",H)},warn:function(C,H){u>=v&&console.warn("["+_.getDurationString(new Date-n,1e3)+"]","["+C+"]",H)},error:function(C,H){r>=v&&console.error("["+_.getDurationString(new Date-n,1e3)+"]","["+C+"]",H)}};return E})();_.getDurationString=function(n,r){var u;function c(Y,P){for(var Z=""+Y,at=Z.split(".");at[0].length<P;)at[0]="0"+at[0];return at.join(".")}n<0?(u=!0,n=-n):u=!1;var p=r||1,v=n/p,E=Math.floor(v/3600);v-=E*3600;var C=Math.floor(v/60);v-=C*60;var H=v*1e3;return v=Math.floor(v),H-=v*1e3,H=Math.floor(H),(u?"-":"")+E+":"+c(C,2)+":"+c(v,2)+"."+c(H,3)},_.printRanges=function(n){var r=n.length;if(r>0){for(var u="",c=0;c<r;c++)c>0&&(u+=","),u+="["+_.getDurationString(n.start(c))+","+_.getDurationString(n.end(c))+"]";return u}else return"(empty)"},h.Log=_;var m=function(n){if(n instanceof ArrayBuffer)this.buffer=n,this.dataview=new DataView(n);else throw"Needs an array buffer";this.position=0};m.prototype.getPosition=function(){return this.position},m.prototype.getEndPosition=function(){return this.buffer.byteLength},m.prototype.getLength=function(){return this.buffer.byteLength},m.prototype.seek=function(n){var r=Math.max(0,Math.min(this.buffer.byteLength,n));return this.position=isNaN(r)||!isFinite(r)?0:r,!0},m.prototype.isEos=function(){return this.getPosition()>=this.getEndPosition()},m.prototype.readAnyInt=function(n,r){var u=0;if(this.position+n<=this.buffer.byteLength){switch(n){case 1:r?u=this.dataview.getInt8(this.position):u=this.dataview.getUint8(this.position);break;case 2:r?u=this.dataview.getInt16(this.position):u=this.dataview.getUint16(this.position);break;case 3:if(r)throw"No method for reading signed 24 bits values";u=this.dataview.getUint8(this.position)<<16,u|=this.dataview.getUint8(this.position+1)<<8,u|=this.dataview.getUint8(this.position+2);break;case 4:r?u=this.dataview.getInt32(this.position):u=this.dataview.getUint32(this.position);break;case 8:if(r)throw"No method for reading signed 64 bits values";u=this.dataview.getUint32(this.position)<<32,u|=this.dataview.getUint32(this.position+4);break;default:throw"readInt method not implemented for size: "+n}return this.position+=n,u}else throw"Not enough bytes in buffer"},m.prototype.readUint8=function(){return this.readAnyInt(1,!1)},m.prototype.readUint16=function(){return this.readAnyInt(2,!1)},m.prototype.readUint24=function(){return this.readAnyInt(3,!1)},m.prototype.readUint32=function(){return this.readAnyInt(4,!1)},m.prototype.readUint64=function(){return this.readAnyInt(8,!1)},m.prototype.readString=function(n){if(this.position+n<=this.buffer.byteLength){for(var r="",u=0;u<n;u++)r+=String.fromCharCode(this.readUint8());return r}else throw"Not enough bytes in buffer"},m.prototype.readCString=function(){for(var n=[];;){var r=this.readUint8();if(r!==0)n.push(r);else break}return String.fromCharCode.apply(null,n)},m.prototype.readInt8=function(){return this.readAnyInt(1,!0)},m.prototype.readInt16=function(){return this.readAnyInt(2,!0)},m.prototype.readInt32=function(){return this.readAnyInt(4,!0)},m.prototype.readInt64=function(){return this.readAnyInt(8,!1)},m.prototype.readUint8Array=function(n){for(var r=new Uint8Array(n),u=0;u<n;u++)r[u]=this.readUint8();return r},m.prototype.readInt16Array=function(n){for(var r=new Int16Array(n),u=0;u<n;u++)r[u]=this.readInt16();return r},m.prototype.readUint16Array=function(n){for(var r=new Int16Array(n),u=0;u<n;u++)r[u]=this.readUint16();return r},m.prototype.readUint32Array=function(n){for(var r=new Uint32Array(n),u=0;u<n;u++)r[u]=this.readUint32();return r},m.prototype.readInt32Array=function(n){for(var r=new Int32Array(n),u=0;u<n;u++)r[u]=this.readInt32();return r},h.MP4BoxStream=m;var d=function(n,r,u){this._byteOffset=r||0,n instanceof ArrayBuffer?this.buffer=n:typeof n=="object"?(this.dataView=n,r&&(this._byteOffset+=r)):this.buffer=new ArrayBuffer(n||0),this.position=0,this.endianness=u??d.LITTLE_ENDIAN};d.prototype={},d.prototype.getPosition=function(){return this.position},d.prototype._realloc=function(n){if(this._dynamicSize){var r=this._byteOffset+this.position+n,u=this._buffer.byteLength;if(r<=u){r>this._byteLength&&(this._byteLength=r);return}for(u<1&&(u=1);r>u;)u*=2;var c=new ArrayBuffer(u),p=new Uint8Array(this._buffer),v=new Uint8Array(c,0,p.length);v.set(p),this.buffer=c,this._byteLength=r}},d.prototype._trimAlloc=function(){if(this._byteLength!=this._buffer.byteLength){var n=new ArrayBuffer(this._byteLength),r=new Uint8Array(n),u=new Uint8Array(this._buffer,0,r.length);r.set(u),this.buffer=n}},d.BIG_ENDIAN=!1,d.LITTLE_ENDIAN=!0,d.prototype._byteLength=0,Object.defineProperty(d.prototype,"byteLength",{get:function(){return this._byteLength-this._byteOffset}}),Object.defineProperty(d.prototype,"buffer",{get:function(){return this._trimAlloc(),this._buffer},set:function(n){this._buffer=n,this._dataView=new DataView(this._buffer,this._byteOffset),this._byteLength=this._buffer.byteLength}}),Object.defineProperty(d.prototype,"byteOffset",{get:function(){return this._byteOffset},set:function(n){this._byteOffset=n,this._dataView=new DataView(this._buffer,this._byteOffset),this._byteLength=this._buffer.byteLength}}),Object.defineProperty(d.prototype,"dataView",{get:function(){return this._dataView},set:function(n){this._byteOffset=n.byteOffset,this._buffer=n.buffer,this._dataView=new DataView(this._buffer,this._byteOffset),this._byteLength=this._byteOffset+n.byteLength}}),d.prototype.seek=function(n){var r=Math.max(0,Math.min(this.byteLength,n));this.position=isNaN(r)||!isFinite(r)?0:r},d.prototype.isEof=function(){return this.position>=this._byteLength},d.prototype.mapUint8Array=function(n){this._realloc(n*1);var r=new Uint8Array(this._buffer,this.byteOffset+this.position,n);return this.position+=n*1,r},d.prototype.readInt32Array=function(n,r){n=n??this.byteLength-this.position/4;var u=new Int32Array(n);return d.memcpy(u.buffer,0,this.buffer,this.byteOffset+this.position,n*u.BYTES_PER_ELEMENT),d.arrayToNative(u,r??this.endianness),this.position+=u.byteLength,u},d.prototype.readInt16Array=function(n,r){n=n??this.byteLength-this.position/2;var u=new Int16Array(n);return d.memcpy(u.buffer,0,this.buffer,this.byteOffset+this.position,n*u.BYTES_PER_ELEMENT),d.arrayToNative(u,r??this.endianness),this.position+=u.byteLength,u},d.prototype.readInt8Array=function(n){n=n??this.byteLength-this.position;var r=new Int8Array(n);return d.memcpy(r.buffer,0,this.buffer,this.byteOffset+this.position,n*r.BYTES_PER_ELEMENT),this.position+=r.byteLength,r},d.prototype.readUint32Array=function(n,r){n=n??this.byteLength-this.position/4;var u=new Uint32Array(n);return d.memcpy(u.buffer,0,this.buffer,this.byteOffset+this.position,n*u.BYTES_PER_ELEMENT),d.arrayToNative(u,r??this.endianness),this.position+=u.byteLength,u},d.prototype.readUint16Array=function(n,r){n=n??this.byteLength-this.position/2;var u=new Uint16Array(n);return d.memcpy(u.buffer,0,this.buffer,this.byteOffset+this.position,n*u.BYTES_PER_ELEMENT),d.arrayToNative(u,r??this.endianness),this.position+=u.byteLength,u},d.prototype.readUint8Array=function(n){n=n??this.byteLength-this.position;var r=new Uint8Array(n);return d.memcpy(r.buffer,0,this.buffer,this.byteOffset+this.position,n*r.BYTES_PER_ELEMENT),this.position+=r.byteLength,r},d.prototype.readFloat64Array=function(n,r){n=n??this.byteLength-this.position/8;var u=new Float64Array(n);return d.memcpy(u.buffer,0,this.buffer,this.byteOffset+this.position,n*u.BYTES_PER_ELEMENT),d.arrayToNative(u,r??this.endianness),this.position+=u.byteLength,u},d.prototype.readFloat32Array=function(n,r){n=n??this.byteLength-this.position/4;var u=new Float32Array(n);return d.memcpy(u.buffer,0,this.buffer,this.byteOffset+this.position,n*u.BYTES_PER_ELEMENT),d.arrayToNative(u,r??this.endianness),this.position+=u.byteLength,u},d.prototype.readInt32=function(n){var r=this._dataView.getInt32(this.position,n??this.endianness);return this.position+=4,r},d.prototype.readInt16=function(n){var r=this._dataView.getInt16(this.position,n??this.endianness);return this.position+=2,r},d.prototype.readInt8=function(){var n=this._dataView.getInt8(this.position);return this.position+=1,n},d.prototype.readUint32=function(n){var r=this._dataView.getUint32(this.position,n??this.endianness);return this.position+=4,r},d.prototype.readUint16=function(n){var r=this._dataView.getUint16(this.position,n??this.endianness);return this.position+=2,r},d.prototype.readUint8=function(){var n=this._dataView.getUint8(this.position);return this.position+=1,n},d.prototype.readFloat32=function(n){var r=this._dataView.getFloat32(this.position,n??this.endianness);return this.position+=4,r},d.prototype.readFloat64=function(n){var r=this._dataView.getFloat64(this.position,n??this.endianness);return this.position+=8,r},d.endianness=new Int8Array(new Int16Array([1]).buffer)[0]>0,d.memcpy=function(n,r,u,c,p){var v=new Uint8Array(n,r,p),E=new Uint8Array(u,c,p);v.set(E)},d.arrayToNative=function(n,r){return r==this.endianness?n:this.flipArrayEndianness(n)},d.nativeToEndian=function(n,r){return this.endianness==r?n:this.flipArrayEndianness(n)},d.flipArrayEndianness=function(n){for(var r=new Uint8Array(n.buffer,n.byteOffset,n.byteLength),u=0;u<n.byteLength;u+=n.BYTES_PER_ELEMENT)for(var c=u+n.BYTES_PER_ELEMENT-1,p=u;c>p;c--,p++){var v=r[p];r[p]=r[c],r[c]=v}return n},d.prototype.failurePosition=0,String.fromCharCodeUint8=function(n){for(var r=[],u=0;u<n.length;u++)r[u]=n[u];return String.fromCharCode.apply(null,r)},d.prototype.readString=function(n,r){return r==null||r=="ASCII"?String.fromCharCodeUint8.apply(null,[this.mapUint8Array(n??this.byteLength-this.position)]):new TextDecoder(r).decode(this.mapUint8Array(n))},d.prototype.readCString=function(n){var r=this.byteLength-this.position,u=new Uint8Array(this._buffer,this._byteOffset+this.position),c=r;n!=null&&(c=Math.min(n,r));for(var p=0;p<c&&u[p]!==0;p++);var v=String.fromCharCodeUint8.apply(null,[this.mapUint8Array(p)]);return n!=null?this.position+=c-p:p!=r&&(this.position+=1),v};var S=Math.pow(2,32);d.prototype.readInt64=function(){return this.readInt32()*S+this.readUint32()},d.prototype.readUint64=function(){return this.readUint32()*S+this.readUint32()},d.prototype.readInt64=function(){return this.readUint32()*S+this.readUint32()},d.prototype.readUint24=function(){return(this.readUint8()<<16)+(this.readUint8()<<8)+this.readUint8()},h.DataStream=d,d.prototype.save=function(n){var r=new Blob([this.buffer]);if(window.URL&&URL.createObjectURL){var u=window.URL.createObjectURL(r),c=document.createElement("a");document.body.appendChild(c),c.setAttribute("href",u),c.setAttribute("download",n),c.setAttribute("target","_self"),c.click(),window.URL.revokeObjectURL(u)}else throw"DataStream.save: Can't create object URL."},d.prototype._dynamicSize=!0,Object.defineProperty(d.prototype,"dynamicSize",{get:function(){return this._dynamicSize},set:function(n){n||this._trimAlloc(),this._dynamicSize=n}}),d.prototype.shift=function(n){var r=new ArrayBuffer(this._byteLength-n),u=new Uint8Array(r),c=new Uint8Array(this._buffer,n,u.length);u.set(c),this.buffer=r,this.position-=n},d.prototype.writeInt32Array=function(n,r){if(this._realloc(n.length*4),n instanceof Int32Array&&this.byteOffset+this.position%n.BYTES_PER_ELEMENT===0)d.memcpy(this._buffer,this.byteOffset+this.position,n.buffer,0,n.byteLength),this.mapInt32Array(n.length,r);else for(var u=0;u<n.length;u++)this.writeInt32(n[u],r)},d.prototype.writeInt16Array=function(n,r){if(this._realloc(n.length*2),n instanceof Int16Array&&this.byteOffset+this.position%n.BYTES_PER_ELEMENT===0)d.memcpy(this._buffer,this.byteOffset+this.position,n.buffer,0,n.byteLength),this.mapInt16Array(n.length,r);else for(var u=0;u<n.length;u++)this.writeInt16(n[u],r)},d.prototype.writeInt8Array=function(n){if(this._realloc(n.length*1),n instanceof Int8Array&&this.byteOffset+this.position%n.BYTES_PER_ELEMENT===0)d.memcpy(this._buffer,this.byteOffset+this.position,n.buffer,0,n.byteLength),this.mapInt8Array(n.length);else for(var r=0;r<n.length;r++)this.writeInt8(n[r])},d.prototype.writeUint32Array=function(n,r){if(this._realloc(n.length*4),n instanceof Uint32Array&&this.byteOffset+this.position%n.BYTES_PER_ELEMENT===0)d.memcpy(this._buffer,this.byteOffset+this.position,n.buffer,0,n.byteLength),this.mapUint32Array(n.length,r);else for(var u=0;u<n.length;u++)this.writeUint32(n[u],r)},d.prototype.writeUint16Array=function(n,r){if(this._realloc(n.length*2),n instanceof Uint16Array&&this.byteOffset+this.position%n.BYTES_PER_ELEMENT===0)d.memcpy(this._buffer,this.byteOffset+this.position,n.buffer,0,n.byteLength),this.mapUint16Array(n.length,r);else for(var u=0;u<n.length;u++)this.writeUint16(n[u],r)},d.prototype.writeUint8Array=function(n){if(this._realloc(n.length*1),n instanceof Uint8Array&&this.byteOffset+this.position%n.BYTES_PER_ELEMENT===0)d.memcpy(this._buffer,this.byteOffset+this.position,n.buffer,0,n.byteLength),this.mapUint8Array(n.length);else for(var r=0;r<n.length;r++)this.writeUint8(n[r])},d.prototype.writeFloat64Array=function(n,r){if(this._realloc(n.length*8),n instanceof Float64Array&&this.byteOffset+this.position%n.BYTES_PER_ELEMENT===0)d.memcpy(this._buffer,this.byteOffset+this.position,n.buffer,0,n.byteLength),this.mapFloat64Array(n.length,r);else for(var u=0;u<n.length;u++)this.writeFloat64(n[u],r)},d.prototype.writeFloat32Array=function(n,r){if(this._realloc(n.length*4),n instanceof Float32Array&&this.byteOffset+this.position%n.BYTES_PER_ELEMENT===0)d.memcpy(this._buffer,this.byteOffset+this.position,n.buffer,0,n.byteLength),this.mapFloat32Array(n.length,r);else for(var u=0;u<n.length;u++)this.writeFloat32(n[u],r)},d.prototype.writeInt32=function(n,r){this._realloc(4),this._dataView.setInt32(this.position,n,r??this.endianness),this.position+=4},d.prototype.writeInt16=function(n,r){this._realloc(2),this._dataView.setInt16(this.position,n,r??this.endianness),this.position+=2},d.prototype.writeInt8=function(n){this._realloc(1),this._dataView.setInt8(this.position,n),this.position+=1},d.prototype.writeUint32=function(n,r){this._realloc(4),this._dataView.setUint32(this.position,n,r??this.endianness),this.position+=4},d.prototype.writeUint16=function(n,r){this._realloc(2),this._dataView.setUint16(this.position,n,r??this.endianness),this.position+=2},d.prototype.writeUint8=function(n){this._realloc(1),this._dataView.setUint8(this.position,n),this.position+=1},d.prototype.writeFloat32=function(n,r){this._realloc(4),this._dataView.setFloat32(this.position,n,r??this.endianness),this.position+=4},d.prototype.writeFloat64=function(n,r){this._realloc(8),this._dataView.setFloat64(this.position,n,r??this.endianness),this.position+=8},d.prototype.writeUCS2String=function(n,r,u){u==null&&(u=n.length);for(var c=0;c<n.length&&c<u;c++)this.writeUint16(n.charCodeAt(c),r);for(;c<u;c++)this.writeUint16(0)},d.prototype.writeString=function(n,r,u){var c=0;if(r==null||r=="ASCII")if(u!=null){var p=Math.min(n.length,u);for(c=0;c<p;c++)this.writeUint8(n.charCodeAt(c));for(;c<u;c++)this.writeUint8(0)}else for(c=0;c<n.length;c++)this.writeUint8(n.charCodeAt(c));else this.writeUint8Array(new TextEncoder(r).encode(n.substring(0,u)))},d.prototype.writeCString=function(n,r){var u=0;if(r!=null){var c=Math.min(n.length,r);for(u=0;u<c;u++)this.writeUint8(n.charCodeAt(u));for(;u<r;u++)this.writeUint8(0)}else{for(u=0;u<n.length;u++)this.writeUint8(n.charCodeAt(u));this.writeUint8(0)}},d.prototype.writeStruct=function(n,r){for(var u=0;u<n.length;u+=2){var c=n[u+1];this.writeType(c,r[n[u]],r)}},d.prototype.writeType=function(n,r,u){var c;if(typeof n=="function")return n(this,r);if(typeof n=="object"&&!(n instanceof Array))return n.set(this,r,u);var p=null,v="ASCII",E=this.position;switch(typeof n=="string"&&/:/.test(n)&&(c=n.split(":"),n=c[0],p=parseInt(c[1])),typeof n=="string"&&/,/.test(n)&&(c=n.split(","),n=c[0],v=parseInt(c[1])),n){case"uint8":this.writeUint8(r);break;case"int8":this.writeInt8(r);break;case"uint16":this.writeUint16(r,this.endianness);break;case"int16":this.writeInt16(r,this.endianness);break;case"uint32":this.writeUint32(r,this.endianness);break;case"int32":this.writeInt32(r,this.endianness);break;case"float32":this.writeFloat32(r,this.endianness);break;case"float64":this.writeFloat64(r,this.endianness);break;case"uint16be":this.writeUint16(r,d.BIG_ENDIAN);break;case"int16be":this.writeInt16(r,d.BIG_ENDIAN);break;case"uint32be":this.writeUint32(r,d.BIG_ENDIAN);break;case"int32be":this.writeInt32(r,d.BIG_ENDIAN);break;case"float32be":this.writeFloat32(r,d.BIG_ENDIAN);break;case"float64be":this.writeFloat64(r,d.BIG_ENDIAN);break;case"uint16le":this.writeUint16(r,d.LITTLE_ENDIAN);break;case"int16le":this.writeInt16(r,d.LITTLE_ENDIAN);break;case"uint32le":this.writeUint32(r,d.LITTLE_ENDIAN);break;case"int32le":this.writeInt32(r,d.LITTLE_ENDIAN);break;case"float32le":this.writeFloat32(r,d.LITTLE_ENDIAN);break;case"float64le":this.writeFloat64(r,d.LITTLE_ENDIAN);break;case"cstring":this.writeCString(r,p);break;case"string":this.writeString(r,v,p);break;case"u16string":this.writeUCS2String(r,this.endianness,p);break;case"u16stringle":this.writeUCS2String(r,d.LITTLE_ENDIAN,p);break;case"u16stringbe":this.writeUCS2String(r,d.BIG_ENDIAN,p);break;default:if(n.length==3){for(var C=n[1],H=0;H<r.length;H++)this.writeType(C,r[H]);break}else{this.writeStruct(n,r);break}}p!=null&&(this.position=E,this._realloc(p),this.position=E+p)},d.prototype.writeUint64=function(n){var r=Math.floor(n/S);this.writeUint32(r),this.writeUint32(n&4294967295)},d.prototype.writeUint24=function(n){this.writeUint8((n&16711680)>>16),this.writeUint8((n&65280)>>8),this.writeUint8(n&255)},d.prototype.adjustUint32=function(n,r){var u=this.position;this.seek(n),this.writeUint32(r),this.seek(u)},d.prototype.mapInt32Array=function(n,r){this._realloc(n*4);var u=new Int32Array(this._buffer,this.byteOffset+this.position,n);return d.arrayToNative(u,r??this.endianness),this.position+=n*4,u},d.prototype.mapInt16Array=function(n,r){this._realloc(n*2);var u=new Int16Array(this._buffer,this.byteOffset+this.position,n);return d.arrayToNative(u,r??this.endianness),this.position+=n*2,u},d.prototype.mapInt8Array=function(n){this._realloc(n*1);var r=new Int8Array(this._buffer,this.byteOffset+this.position,n);return this.position+=n*1,r},d.prototype.mapUint32Array=function(n,r){this._realloc(n*4);var u=new Uint32Array(this._buffer,this.byteOffset+this.position,n);return d.arrayToNative(u,r??this.endianness),this.position+=n*4,u},d.prototype.mapUint16Array=function(n,r){this._realloc(n*2);var u=new Uint16Array(this._buffer,this.byteOffset+this.position,n);return d.arrayToNative(u,r??this.endianness),this.position+=n*2,u},d.prototype.mapFloat64Array=function(n,r){this._realloc(n*8);var u=new Float64Array(this._buffer,this.byteOffset+this.position,n);return d.arrayToNative(u,r??this.endianness),this.position+=n*8,u},d.prototype.mapFloat32Array=function(n,r){this._realloc(n*4);var u=new Float32Array(this._buffer,this.byteOffset+this.position,n);return d.arrayToNative(u,r??this.endianness),this.position+=n*4,u};var x=function(n){this.buffers=[],this.bufferIndex=-1,n&&(this.insertBuffer(n),this.bufferIndex=0)};x.prototype=new d(new ArrayBuffer,0,d.BIG_ENDIAN),x.prototype.initialized=function(){var n;return this.bufferIndex>-1?!0:this.buffers.length>0?(n=this.buffers[0],n.fileStart===0?(this.buffer=n,this.bufferIndex=0,_.debug("MultiBufferStream","Stream ready for parsing"),!0):(_.warn("MultiBufferStream","The first buffer should have a fileStart of 0"),this.logBufferLevel(),!1)):(_.warn("MultiBufferStream","No buffer to start parsing from"),this.logBufferLevel(),!1)},ArrayBuffer.concat=function(n,r){_.debug("ArrayBuffer","Trying to create a new buffer of size: "+(n.byteLength+r.byteLength));var u=new Uint8Array(n.byteLength+r.byteLength);return u.set(new Uint8Array(n),0),u.set(new Uint8Array(r),n.byteLength),u.buffer},x.prototype.reduceBuffer=function(n,r,u){var c;return c=new Uint8Array(u),c.set(new Uint8Array(n,r,u)),c.buffer.fileStart=n.fileStart+r,c.buffer.usedBytes=0,c.buffer},x.prototype.insertBuffer=function(n){for(var r=!0,u=0;u<this.buffers.length;u++){var c=this.buffers[u];if(n.fileStart<=c.fileStart){if(n.fileStart===c.fileStart)if(n.byteLength>c.byteLength){this.buffers.splice(u,1),u--;continue}else _.warn("MultiBufferStream","Buffer (fileStart: "+n.fileStart+" - Length: "+n.byteLength+") already appended, ignoring");else n.fileStart+n.byteLength<=c.fileStart||(n=this.reduceBuffer(n,0,c.fileStart-n.fileStart)),_.debug("MultiBufferStream","Appending new buffer (fileStart: "+n.fileStart+" - Length: "+n.byteLength+")"),this.buffers.splice(u,0,n),u===0&&(this.buffer=n);r=!1;break}else if(n.fileStart<c.fileStart+c.byteLength){var p=c.fileStart+c.byteLength-n.fileStart,v=n.byteLength-p;if(v>0)n=this.reduceBuffer(n,p,v);else{r=!1;break}}}r&&(_.debug("MultiBufferStream","Appending new buffer (fileStart: "+n.fileStart+" - Length: "+n.byteLength+")"),this.buffers.push(n),u===0&&(this.buffer=n))},x.prototype.logBufferLevel=function(n){var r,u,c,p,v=[],E,C="";for(c=0,p=0,r=0;r<this.buffers.length;r++)u=this.buffers[r],r===0?(E={},v.push(E),E.start=u.fileStart,E.end=u.fileStart+u.byteLength,C+="["+E.start+"-"):E.end===u.fileStart?E.end=u.fileStart+u.byteLength:(E={},E.start=u.fileStart,C+=v[v.length-1].end-1+"], ["+E.start+"-",E.end=u.fileStart+u.byteLength,v.push(E)),c+=u.usedBytes,p+=u.byteLength;v.length>0&&(C+=E.end-1+"]");var H=n?_.info:_.debug;this.buffers.length===0?H("MultiBufferStream","No more buffer in memory"):H("MultiBufferStream",""+this.buffers.length+" stored buffer(s) ("+c+"/"+p+" bytes), continuous ranges: "+C)},x.prototype.cleanBuffers=function(){var n,r;for(n=0;n<this.buffers.length;n++)r=this.buffers[n],r.usedBytes===r.byteLength&&(_.debug("MultiBufferStream","Removing buffer #"+n),this.buffers.splice(n,1),n--)},x.prototype.mergeNextBuffer=function(){var n;if(this.bufferIndex+1<this.buffers.length)if(n=this.buffers[this.bufferIndex+1],n.fileStart===this.buffer.fileStart+this.buffer.byteLength){var r=this.buffer.byteLength,u=this.buffer.usedBytes,c=this.buffer.fileStart;return this.buffers[this.bufferIndex]=ArrayBuffer.concat(this.buffer,n),this.buffer=this.buffers[this.bufferIndex],this.buffers.splice(this.bufferIndex+1,1),this.buffer.usedBytes=u,this.buffer.fileStart=c,_.debug("ISOFile","Concatenating buffer for box parsing (length: "+r+"->"+this.buffer.byteLength+")"),!0}else return!1;else return!1},x.prototype.findPosition=function(n,r,u){var c,p=null,v=-1;for(n===!0?c=0:c=this.bufferIndex;c<this.buffers.length&&(p=this.buffers[c],p.fileStart<=r);){v=c,u&&(p.fileStart+p.byteLength<=r?p.usedBytes=p.byteLength:p.usedBytes=r-p.fileStart,this.logBufferLevel());c++}return v!==-1?(p=this.buffers[v],p.fileStart+p.byteLength>=r?(_.debug("MultiBufferStream","Found position in existing buffer #"+v),v):-1):-1},x.prototype.findEndContiguousBuf=function(n){var r,u,c,p=n!==void 0?n:this.bufferIndex;if(u=this.buffers[p],this.buffers.length>p+1)for(r=p+1;r<this.buffers.length&&(c=this.buffers[r],c.fileStart===u.fileStart+u.byteLength);r++)u=c;return u.fileStart+u.byteLength},x.prototype.getEndFilePositionAfter=function(n){var r=this.findPosition(!0,n,!1);return r!==-1?this.findEndContiguousBuf(r):n},x.prototype.addUsedBytes=function(n){this.buffer.usedBytes+=n,this.logBufferLevel()},x.prototype.setAllUsedBytes=function(){this.buffer.usedBytes=this.buffer.byteLength,this.logBufferLevel()},x.prototype.seek=function(n,r,u){var c;return c=this.findPosition(r,n,u),c!==-1?(this.buffer=this.buffers[c],this.bufferIndex=c,this.position=n-this.buffer.fileStart,_.debug("MultiBufferStream","Repositioning parser at buffer position: "+this.position),!0):(_.debug("MultiBufferStream","Position "+n+" not found in buffered data"),!1)},x.prototype.getPosition=function(){if(this.bufferIndex===-1||this.buffers[this.bufferIndex]===null)throw"Error accessing position in the MultiBufferStream";return this.buffers[this.bufferIndex].fileStart+this.position},x.prototype.getLength=function(){return this.byteLength},x.prototype.getEndPosition=function(){if(this.bufferIndex===-1||this.buffers[this.bufferIndex]===null)throw"Error accessing position in the MultiBufferStream";return this.buffers[this.bufferIndex].fileStart+this.byteLength},h.MultiBufferStream=x;var B=function(){var n=3,r=4,u=5,c=6,p=[];p[n]="ES_Descriptor",p[r]="DecoderConfigDescriptor",p[u]="DecoderSpecificInfo",p[c]="SLConfigDescriptor",this.getDescriptorName=function(C){return p[C]};var v=this,E={};return this.parseOneDescriptor=function(C){var H=0,Y,P,Z;for(Y=C.readUint8(),Z=C.readUint8();Z&128;)H=(H<<7)+(Z&127),Z=C.readUint8();return H=(H<<7)+(Z&127),_.debug("MPEG4DescriptorParser","Found "+(p[Y]||"Descriptor "+Y)+", size "+H+" at position "+C.getPosition()),p[Y]?P=new E[p[Y]](H):P=new E.Descriptor(H),P.parse(C),P},E.Descriptor=function(C,H){this.tag=C,this.size=H,this.descs=[]},E.Descriptor.prototype.parse=function(C){this.data=C.readUint8Array(this.size)},E.Descriptor.prototype.findDescriptor=function(C){for(var H=0;H<this.descs.length;H++)if(this.descs[H].tag==C)return this.descs[H];return null},E.Descriptor.prototype.parseRemainingDescriptors=function(C){for(var H=C.position;C.position<H+this.size;){var Y=v.parseOneDescriptor(C);this.descs.push(Y)}},E.ES_Descriptor=function(C){E.Descriptor.call(this,n,C)},E.ES_Descriptor.prototype=new E.Descriptor,E.ES_Descriptor.prototype.parse=function(C){if(this.ES_ID=C.readUint16(),this.flags=C.readUint8(),this.size-=3,this.flags&128?(this.dependsOn_ES_ID=C.readUint16(),this.size-=2):this.dependsOn_ES_ID=0,this.flags&64){var H=C.readUint8();this.URL=C.readString(H),this.size-=H+1}else this.URL="";this.flags&32?(this.OCR_ES_ID=C.readUint16(),this.size-=2):this.OCR_ES_ID=0,this.parseRemainingDescriptors(C)},E.ES_Descriptor.prototype.getOTI=function(C){var H=this.findDescriptor(r);return H?H.oti:0},E.ES_Descriptor.prototype.getAudioConfig=function(C){var H=this.findDescriptor(r);if(!H)return null;var Y=H.findDescriptor(u);if(Y&&Y.data){var P=(Y.data[0]&248)>>3;return P===31&&Y.data.length>=2&&(P=32+((Y.data[0]&7)<<3)+((Y.data[1]&224)>>5)),P}else return null},E.DecoderConfigDescriptor=function(C){E.Descriptor.call(this,r,C)},E.DecoderConfigDescriptor.prototype=new E.Descriptor,E.DecoderConfigDescriptor.prototype.parse=function(C){this.oti=C.readUint8(),this.streamType=C.readUint8(),this.upStream=(this.streamType>>1&1)!==0,this.streamType=this.streamType>>>2,this.bufferSize=C.readUint24(),this.maxBitrate=C.readUint32(),this.avgBitrate=C.readUint32(),this.size-=13,this.parseRemainingDescriptors(C)},E.DecoderSpecificInfo=function(C){E.Descriptor.call(this,u,C)},E.DecoderSpecificInfo.prototype=new E.Descriptor,E.SLConfigDescriptor=function(C){E.Descriptor.call(this,c,C)},E.SLConfigDescriptor.prototype=new E.Descriptor,this};h.MPEG4DescriptorParser=B;var o={ERR_INVALID_DATA:-1,ERR_NOT_ENOUGH_DATA:0,OK:1,BASIC_BOXES:[{type:"mdat",name:"MediaDataBox"},{type:"idat",name:"ItemDataBox"},{type:"free",name:"FreeSpaceBox"},{type:"skip",name:"FreeSpaceBox"},{type:"meco",name:"AdditionalMetadataContainerBox"},{type:"strk",name:"SubTrackBox"}],FULL_BOXES:[{type:"hmhd",name:"HintMediaHeaderBox"},{type:"nmhd",name:"NullMediaHeaderBox"},{type:"iods",name:"ObjectDescriptorBox"},{type:"xml ",name:"XMLBox"},{type:"bxml",name:"BinaryXMLBox"},{type:"ipro",name:"ItemProtectionBox"},{type:"mere",name:"MetaboxRelationBox"}],CONTAINER_BOXES:[[{type:"moov",name:"CompressedMovieBox"},["trak","pssh"]],[{type:"trak",name:"TrackBox"}],[{type:"edts",name:"EditBox"}],[{type:"mdia",name:"MediaBox"}],[{type:"minf",name:"MediaInformationBox"}],[{type:"dinf",name:"DataInformationBox"}],[{type:"stbl",name:"SampleTableBox"},["sgpd","sbgp"]],[{type:"mvex",name:"MovieExtendsBox"},["trex"]],[{type:"moof",name:"CompressedMovieFragmentBox"},["traf"]],[{type:"traf",name:"TrackFragmentBox"},["trun","sgpd","sbgp"]],[{type:"vttc",name:"VTTCueBox"}],[{type:"tref",name:"TrackReferenceBox"}],[{type:"iref",name:"ItemReferenceBox"}],[{type:"mfra",name:"MovieFragmentRandomAccessBox"},["tfra"]],[{type:"meco",name:"AdditionalMetadataContainerBox"}],[{type:"hnti",name:"trackhintinformation"}],[{type:"hinf",name:"hintstatisticsbox"}],[{type:"strk",name:"SubTrackBox"}],[{type:"strd",name:"SubTrackDefinitionBox"}],[{type:"sinf",name:"ProtectionSchemeInfoBox"}],[{type:"rinf",name:"RestrictedSchemeInfoBox"}],[{type:"schi",name:"SchemeInformationBox"}],[{type:"trgr",name:"TrackGroupBox"}],[{type:"udta",name:"UserDataBox"},["kind"]],[{type:"iprp",name:"ItemPropertiesBox"},["ipma"]],[{type:"ipco",name:"ItemPropertyContainerBox"}],[{type:"grpl",name:"GroupsListBox"}],[{type:"j2kH",name:"J2KHeaderInfoBox"}],[{type:"etyp",name:"ExtendedTypeBox"},["tyco"]]],boxCodes:[],fullBoxCodes:[],containerBoxCodes:[],sampleEntryCodes:{},sampleGroupEntryCodes:[],trackGroupTypes:[],UUIDBoxes:{},UUIDs:[],initialize:function(){o.FullBox.prototype=new o.Box,o.ContainerBox.prototype=new o.Box,o.SampleEntry.prototype=new o.Box,o.TrackGroupTypeBox.prototype=new o.FullBox,o.BASIC_BOXES.forEach(function(n){o.createBoxCtor(n.type,n.name)}),o.FULL_BOXES.forEach(function(n){o.createFullBoxCtor(n.type,n.name)}),o.CONTAINER_BOXES.forEach(function(n){o.createContainerBoxCtor(n[0].type,n[0].name,null,n[1])})},Box:function(n,r,u,c){this.type=n,this.box_name=u,this.size=r,this.uuid=c},FullBox:function(n,r,u,c){o.Box.call(this,n,r,u,c),this.flags=0,this.version=0},ContainerBox:function(n,r,u,c){o.Box.call(this,n,r,u,c),this.boxes=[]},SampleEntry:function(n,r,u,c){o.ContainerBox.call(this,n,r),this.hdr_size=u,this.start=c},SampleGroupEntry:function(n){this.grouping_type=n},TrackGroupTypeBox:function(n,r){o.FullBox.call(this,n,r)},createBoxCtor:function(n,r,u){o.boxCodes.push(n),o[n+"Box"]=function(c){o.Box.call(this,n,c,r)},o[n+"Box"].prototype=new o.Box,u&&(o[n+"Box"].prototype.parse=u)},createFullBoxCtor:function(n,r,u){o[n+"Box"]=function(c){o.FullBox.call(this,n,c,r)},o[n+"Box"].prototype=new o.FullBox,o[n+"Box"].prototype.parse=function(c){this.parseFullHeader(c),u&&u.call(this,c)}},addSubBoxArrays:function(n){if(n){this.subBoxNames=n;for(var r=n.length,u=0;u<r;u++)this[n[u]+"s"]=[]}},createContainerBoxCtor:function(n,r,u,c){o[n+"Box"]=function(p){o.ContainerBox.call(this,n,p,r),o.addSubBoxArrays.call(this,c)},o[n+"Box"].prototype=new o.ContainerBox,u&&(o[n+"Box"].prototype.parse=u)},createMediaSampleEntryCtor:function(n,r,u){o.sampleEntryCodes[n]=[],o[n+"SampleEntry"]=function(c,p){o.SampleEntry.call(this,c,p),o.addSubBoxArrays.call(this,u)},o[n+"SampleEntry"].prototype=new o.SampleEntry,r&&(o[n+"SampleEntry"].prototype.parse=r)},createSampleEntryCtor:function(n,r,u,c){o.sampleEntryCodes[n].push(r),o[r+"SampleEntry"]=function(p){o[n+"SampleEntry"].call(this,r,p),o.addSubBoxArrays.call(this,c)},o[r+"SampleEntry"].prototype=new o[n+"SampleEntry"],u&&(o[r+"SampleEntry"].prototype.parse=u)},createEncryptedSampleEntryCtor:function(n,r,u){o.createSampleEntryCtor.call(this,n,r,u,["sinf"])},createSampleGroupCtor:function(n,r){o[n+"SampleGroupEntry"]=function(u){o.SampleGroupEntry.call(this,n,u)},o[n+"SampleGroupEntry"].prototype=new o.SampleGroupEntry,r&&(o[n+"SampleGroupEntry"].prototype.parse=r)},createTrackGroupCtor:function(n,r){o[n+"TrackGroupTypeBox"]=function(u){o.TrackGroupTypeBox.call(this,n,u)},o[n+"TrackGroupTypeBox"].prototype=new o.TrackGroupTypeBox,r&&(o[n+"TrackGroupTypeBox"].prototype.parse=r)},createUUIDBox:function(n,r,u,c,p){o.UUIDs.push(n),o.UUIDBoxes[n]=function(v){u?o.FullBox.call(this,"uuid",v,r,n):c?o.ContainerBox.call(this,"uuid",v,r,n):o.Box.call(this,"uuid",v,r,n)},o.UUIDBoxes[n].prototype=u?new o.FullBox:c?new o.ContainerBox:new o.Box,p&&(u?o.UUIDBoxes[n].prototype.parse=function(v){this.parseFullHeader(v),p&&p.call(this,v)}:o.UUIDBoxes[n].prototype.parse=p)}};o.initialize(),o.TKHD_FLAG_ENABLED=1,o.TKHD_FLAG_IN_MOVIE=2,o.TKHD_FLAG_IN_PREVIEW=4,o.TFHD_FLAG_BASE_DATA_OFFSET=1,o.TFHD_FLAG_SAMPLE_DESC=2,o.TFHD_FLAG_SAMPLE_DUR=8,o.TFHD_FLAG_SAMPLE_SIZE=16,o.TFHD_FLAG_SAMPLE_FLAGS=32,o.TFHD_FLAG_DUR_EMPTY=65536,o.TFHD_FLAG_DEFAULT_BASE_IS_MOOF=131072,o.TRUN_FLAGS_DATA_OFFSET=1,o.TRUN_FLAGS_FIRST_FLAG=4,o.TRUN_FLAGS_DURATION=256,o.TRUN_FLAGS_SIZE=512,o.TRUN_FLAGS_FLAGS=1024,o.TRUN_FLAGS_CTS_OFFSET=2048,o.Box.prototype.add=function(n){return this.addBox(new o[n+"Box"])},o.Box.prototype.addBox=function(n){return this.boxes.push(n),this[n.type+"s"]?this[n.type+"s"].push(n):this[n.type]=n,n},o.Box.prototype.set=function(n,r){return this[n]=r,this},o.Box.prototype.addEntry=function(n,r){var u=r||"entries";return this[u]||(this[u]=[]),this[u].push(n),this},h.BoxParser=o,o.parseUUID=function(n){return o.parseHex16(n)},o.parseHex16=function(n){for(var r="",u=0;u<16;u++){var c=n.readUint8().toString(16);r+=c.length===1?"0"+c:c}return r},o.parseOneBox=function(n,r,u){var c,p=n.getPosition(),v=0,E,C;if(n.getEndPosition()-p<8)return _.debug("BoxParser","Not enough data in stream to parse the type and size of the box"),{code:o.ERR_NOT_ENOUGH_DATA};if(u&&u<8)return _.debug("BoxParser","Not enough bytes left in the parent box to parse a new box"),{code:o.ERR_NOT_ENOUGH_DATA};var H=n.readUint32(),Y=n.readString(4),P=Y;if(_.debug("BoxParser","Found box of type '"+Y+"' and size "+H+" at position "+p),v=8,Y=="uuid"){if(n.getEndPosition()-n.getPosition()<16||u-v<16)return n.seek(p),_.debug("BoxParser","Not enough bytes left in the parent box to parse a UUID box"),{code:o.ERR_NOT_ENOUGH_DATA};C=o.parseUUID(n),v+=16,P=C}if(H==1){if(n.getEndPosition()-n.getPosition()<8||u&&u-v<8)return n.seek(p),_.warn("BoxParser",'Not enough data in stream to parse the extended size of the "'+Y+'" box'),{code:o.ERR_NOT_ENOUGH_DATA};H=n.readUint64(),v+=8}else if(H===0){if(u)H=u;else if(Y!=="mdat")return _.error("BoxParser","Unlimited box size not supported for type: '"+Y+"'"),c=new o.Box(Y,H),{code:o.OK,box:c,size:c.size}}return H!==0&&H<v?(_.error("BoxParser","Box of type "+Y+" has an invalid size "+H+" (too small to be a box)"),{code:o.ERR_NOT_ENOUGH_DATA,type:Y,size:H,hdr_size:v,start:p}):H!==0&&u&&H>u?(_.error("BoxParser","Box of type '"+Y+"' has a size "+H+" greater than its container size "+u),{code:o.ERR_NOT_ENOUGH_DATA,type:Y,size:H,hdr_size:v,start:p}):H!==0&&p+H>n.getEndPosition()?(n.seek(p),_.info("BoxParser","Not enough data in stream to parse the entire '"+Y+"' box"),{code:o.ERR_NOT_ENOUGH_DATA,type:Y,size:H,hdr_size:v,start:p}):r?{code:o.OK,type:Y,size:H,hdr_size:v,start:p}:(o[Y+"Box"]?c=new o[Y+"Box"](H):Y!=="uuid"?(_.warn("BoxParser","Unknown box type: '"+Y+"'"),c=new o.Box(Y,H),c.has_unparsed_data=!0):o.UUIDBoxes[C]?c=new o.UUIDBoxes[C](H):(_.warn("BoxParser","Unknown uuid type: '"+C+"'"),c=new o.Box(Y,H),c.uuid=C,c.has_unparsed_data=!0),c.hdr_size=v,c.start=p,c.write===o.Box.prototype.write&&c.type!=="mdat"&&(_.info("BoxParser","'"+P+"' box writing not yet implemented, keeping unparsed data in memory for later write"),c.parseDataAndRewind(n)),c.parse(n),E=n.getPosition()-(c.start+c.size),E<0?(_.warn("BoxParser","Parsing of box '"+P+"' did not read the entire indicated box data size (missing "+-E+" bytes), seeking forward"),n.seek(c.start+c.size)):E>0&&(_.error("BoxParser","Parsing of box '"+P+"' read "+E+" more bytes than the indicated box data size, seeking backwards"),c.size!==0&&n.seek(c.start+c.size)),{code:o.OK,box:c,size:c.size})},o.Box.prototype.parse=function(n){this.type!="mdat"?this.data=n.readUint8Array(this.size-this.hdr_size):this.size===0?n.seek(n.getEndPosition()):n.seek(this.start+this.size)},o.Box.prototype.parseDataAndRewind=function(n){this.data=n.readUint8Array(this.size-this.hdr_size),n.position-=this.size-this.hdr_size},o.FullBox.prototype.parseDataAndRewind=function(n){this.parseFullHeader(n),this.data=n.readUint8Array(this.size-this.hdr_size),this.hdr_size-=4,n.position-=this.size-this.hdr_size},o.FullBox.prototype.parseFullHeader=function(n){this.version=n.readUint8(),this.flags=n.readUint24(),this.hdr_size+=4},o.FullBox.prototype.parse=function(n){this.parseFullHeader(n),this.data=n.readUint8Array(this.size-this.hdr_size)},o.ContainerBox.prototype.parse=function(n){for(var r,u;n.getPosition()<this.start+this.size;)if(r=o.parseOneBox(n,!1,this.size-(n.getPosition()-this.start)),r.code===o.OK)if(u=r.box,this.boxes.push(u),this.subBoxNames&&this.subBoxNames.indexOf(u.type)!=-1)this[this.subBoxNames[this.subBoxNames.indexOf(u.type)]+"s"].push(u);else{var c=u.type!=="uuid"?u.type:u.uuid;this[c]?_.warn("Box of type "+c+" already stored in field of this type"):this[c]=u}else return},o.Box.prototype.parseLanguage=function(n){this.language=n.readUint16();var r=[];r[0]=this.language>>10&31,r[1]=this.language>>5&31,r[2]=this.language&31,this.languageString=String.fromCharCode(r[0]+96,r[1]+96,r[2]+96)},o.SAMPLE_ENTRY_TYPE_VISUAL="Visual",o.SAMPLE_ENTRY_TYPE_AUDIO="Audio",o.SAMPLE_ENTRY_TYPE_HINT="Hint",o.SAMPLE_ENTRY_TYPE_METADATA="Metadata",o.SAMPLE_ENTRY_TYPE_SUBTITLE="Subtitle",o.SAMPLE_ENTRY_TYPE_SYSTEM="System",o.SAMPLE_ENTRY_TYPE_TEXT="Text",o.SampleEntry.prototype.parseHeader=function(n){n.readUint8Array(6),this.data_reference_index=n.readUint16(),this.hdr_size+=8},o.SampleEntry.prototype.parse=function(n){this.parseHeader(n),this.data=n.readUint8Array(this.size-this.hdr_size)},o.SampleEntry.prototype.parseDataAndRewind=function(n){this.parseHeader(n),this.data=n.readUint8Array(this.size-this.hdr_size),this.hdr_size-=8,n.position-=this.size-this.hdr_size},o.SampleEntry.prototype.parseFooter=function(n){o.ContainerBox.prototype.parse.call(this,n)},o.createMediaSampleEntryCtor(o.SAMPLE_ENTRY_TYPE_HINT),o.createMediaSampleEntryCtor(o.SAMPLE_ENTRY_TYPE_METADATA),o.createMediaSampleEntryCtor(o.SAMPLE_ENTRY_TYPE_SUBTITLE),o.createMediaSampleEntryCtor(o.SAMPLE_ENTRY_TYPE_SYSTEM),o.createMediaSampleEntryCtor(o.SAMPLE_ENTRY_TYPE_TEXT),o.createMediaSampleEntryCtor(o.SAMPLE_ENTRY_TYPE_VISUAL,function(n){var r;this.parseHeader(n),n.readUint16(),n.readUint16(),n.readUint32Array(3),this.width=n.readUint16(),this.height=n.readUint16(),this.horizresolution=n.readUint32(),this.vertresolution=n.readUint32(),n.readUint32(),this.frame_count=n.readUint16(),r=Math.min(31,n.readUint8()),this.compressorname=n.readString(r),r<31&&n.readString(31-r),this.depth=n.readUint16(),n.readUint16(),this.parseFooter(n)}),o.createMediaSampleEntryCtor(o.SAMPLE_ENTRY_TYPE_AUDIO,function(n){this.parseHeader(n),n.readUint32Array(2),this.channel_count=n.readUint16(),this.samplesize=n.readUint16(),n.readUint16(),n.readUint16(),this.samplerate=n.readUint32()/65536,this.parseFooter(n)}),o.createSampleEntryCtor(o.SAMPLE_ENTRY_TYPE_VISUAL,"avc1"),o.createSampleEntryCtor(o.SAMPLE_ENTRY_TYPE_VISUAL,"avc2"),o.createSampleEntryCtor(o.SAMPLE_ENTRY_TYPE_VISUAL,"avc3"),o.createSampleEntryCtor(o.SAMPLE_ENTRY_TYPE_VISUAL,"avc4"),o.createSampleEntryCtor(o.SAMPLE_ENTRY_TYPE_VISUAL,"av01"),o.createSampleEntryCtor(o.SAMPLE_ENTRY_TYPE_VISUAL,"dav1"),o.createSampleEntryCtor(o.SAMPLE_ENTRY_TYPE_VISUAL,"hvc1"),o.createSampleEntryCtor(o.SAMPLE_ENTRY_TYPE_VISUAL,"hev1"),o.createSampleEntryCtor(o.SAMPLE_ENTRY_TYPE_VISUAL,"hvt1"),o.createSampleEntryCtor(o.SAMPLE_ENTRY_TYPE_VISUAL,"lhe1"),o.createSampleEntryCtor(o.SAMPLE_ENTRY_TYPE_VISUAL,"dvh1"),o.createSampleEntryCtor(o.SAMPLE_ENTRY_TYPE_VISUAL,"dvhe"),o.createSampleEntryCtor(o.SAMPLE_ENTRY_TYPE_VISUAL,"vvc1"),o.createSampleEntryCtor(o.SAMPLE_ENTRY_TYPE_VISUAL,"vvi1"),o.createSampleEntryCtor(o.SAMPLE_ENTRY_TYPE_VISUAL,"vvs1"),o.createSampleEntryCtor(o.SAMPLE_ENTRY_TYPE_VISUAL,"vvcN"),o.createSampleEntryCtor(o.SAMPLE_ENTRY_TYPE_VISUAL,"vp08"),o.createSampleEntryCtor(o.SAMPLE_ENTRY_TYPE_VISUAL,"vp09"),o.createSampleEntryCtor(o.SAMPLE_ENTRY_TYPE_VISUAL,"avs3"),o.createSampleEntryCtor(o.SAMPLE_ENTRY_TYPE_VISUAL,"j2ki"),o.createSampleEntryCtor(o.SAMPLE_ENTRY_TYPE_VISUAL,"mjp2"),o.createSampleEntryCtor(o.SAMPLE_ENTRY_TYPE_VISUAL,"mjpg"),o.createSampleEntryCtor(o.SAMPLE_ENTRY_TYPE_VISUAL,"uncv"),o.createSampleEntryCtor(o.SAMPLE_ENTRY_TYPE_AUDIO,"mp4a"),o.createSampleEntryCtor(o.SAMPLE_ENTRY_TYPE_AUDIO,"ac-3"),o.createSampleEntryCtor(o.SAMPLE_ENTRY_TYPE_AUDIO,"ac-4"),o.createSampleEntryCtor(o.SAMPLE_ENTRY_TYPE_AUDIO,"ec-3"),o.createSampleEntryCtor(o.SAMPLE_ENTRY_TYPE_AUDIO,"Opus"),o.createSampleEntryCtor(o.SAMPLE_ENTRY_TYPE_AUDIO,"mha1"),o.createSampleEntryCtor(o.SAMPLE_ENTRY_TYPE_AUDIO,"mha2"),o.createSampleEntryCtor(o.SAMPLE_ENTRY_TYPE_AUDIO,"mhm1"),o.createSampleEntryCtor(o.SAMPLE_ENTRY_TYPE_AUDIO,"mhm2"),o.createSampleEntryCtor(o.SAMPLE_ENTRY_TYPE_AUDIO,"fLaC"),o.createEncryptedSampleEntryCtor(o.SAMPLE_ENTRY_TYPE_VISUAL,"encv"),o.createEncryptedSampleEntryCtor(o.SAMPLE_ENTRY_TYPE_AUDIO,"enca"),o.createEncryptedSampleEntryCtor(o.SAMPLE_ENTRY_TYPE_SUBTITLE,"encu"),o.createEncryptedSampleEntryCtor(o.SAMPLE_ENTRY_TYPE_SYSTEM,"encs"),o.createEncryptedSampleEntryCtor(o.SAMPLE_ENTRY_TYPE_TEXT,"enct"),o.createEncryptedSampleEntryCtor(o.SAMPLE_ENTRY_TYPE_METADATA,"encm"),o.createBoxCtor("a1lx","AV1LayeredImageIndexingProperty",function(n){var r=n.readUint8()&1,u=((r&1)+1)*16;this.layer_size=[];for(var c=0;c<3;c++)u==16?this.layer_size[c]=n.readUint16():this.layer_size[c]=n.readUint32()}),o.createBoxCtor("a1op","OperatingPointSelectorProperty",function(n){this.op_index=n.readUint8()}),o.createFullBoxCtor("auxC","AuxiliaryTypeProperty",function(n){this.aux_type=n.readCString();var r=this.size-this.hdr_size-(this.aux_type.length+1);this.aux_subtype=n.readUint8Array(r)}),o.createBoxCtor("av1C","AV1CodecConfigurationBox",function(n){var r=n.readUint8();if((r>>7&1)!==1){_.error("av1C marker problem");return}if(this.version=r&127,this.version!==1){_.error("av1C version "+this.version+" not supported");return}if(r=n.readUint8(),this.seq_profile=r>>5&7,this.seq_level_idx_0=r&31,r=n.readUint8(),this.seq_tier_0=r>>7&1,this.high_bitdepth=r>>6&1,this.twelve_bit=r>>5&1,this.monochrome=r>>4&1,this.chroma_subsampling_x=r>>3&1,this.chroma_subsampling_y=r>>2&1,this.chroma_sample_position=r&3,r=n.readUint8(),this.reserved_1=r>>5&7,this.reserved_1!==0){_.error("av1C reserved_1 parsing problem");return}if(this.initial_presentation_delay_present=r>>4&1,this.initial_presentation_delay_present===1)this.initial_presentation_delay_minus_one=r&15;else if(this.reserved_2=r&15,this.reserved_2!==0){_.error("av1C reserved_2 parsing problem");return}var u=this.size-this.hdr_size-4;this.configOBUs=n.readUint8Array(u)});function w(n){var r="<table class='inner-table'>";r+="<thead><tr><th>length</th><th>nalu_data</th></tr></thead>",r+="<tbody>";for(var u=0;u<n.length;u++){var c=n[u];r+="<tr>",r+="<td>"+c.length+"</td>",r+="<td>",r+=c.nalu.reduce(function(p,v){return p+v.toString(16).padStart(2,"0")},"0x"),r+="</td></tr>"}return r+="</tbody></table>",r}o.createBoxCtor("avcC","AVCConfigurationBox",function(n){var r,u;for(this.configurationVersion=n.readUint8(),this.AVCProfileIndication=n.readUint8(),this.profile_compatibility=n.readUint8(),this.AVCLevelIndication=n.readUint8(),this.lengthSizeMinusOne=n.readUint8()&3,this.nb_SPS_nalus=n.readUint8()&31,u=this.size-this.hdr_size-6,this.SPS=[],this.SPS.toString=function(){return w(this)},r=0;r<this.nb_SPS_nalus;r++)this.SPS[r]={},this.SPS[r].length=n.readUint16(),this.SPS[r].nalu=n.readUint8Array(this.SPS[r].length),u-=2+this.SPS[r].length;for(this.nb_PPS_nalus=n.readUint8(),u--,this.PPS=[],this.PPS.toString=function(){return w(this)},r=0;r<this.nb_PPS_nalus;r++)this.PPS[r]={},this.PPS[r].length=n.readUint16(),this.PPS[r].nalu=n.readUint8Array(this.PPS[r].length),u-=2+this.PPS[r].length;u>0&&(this.ext=n.readUint8Array(u))}),o.createBoxCtor("btrt","BitRateBox",function(n){this.bufferSizeDB=n.readUint32(),this.maxBitrate=n.readUint32(),this.avgBitrate=n.readUint32()}),o.createFullBoxCtor("ccst","CodingConstraintsBox",function(n){var r=n.readUint8();this.all_ref_pics_intra=(r&128)==128,this.intra_pred_used=(r&64)==64,this.max_ref_per_pic=(r&63)>>2,n.readUint24()}),o.createBoxCtor("cdef","ComponentDefinitionBox",function(n){var r;for(this.channel_count=n.readUint16(),this.channel_indexes=[],this.channel_types=[],this.channel_associations=[],r=0;r<this.channel_count;r++)this.channel_indexes.push(n.readUint16()),this.channel_types.push(n.readUint16()),this.channel_associations.push(n.readUint16())}),o.createBoxCtor("clap","CleanApertureBox",function(n){this.cleanApertureWidthN=n.readUint32(),this.cleanApertureWidthD=n.readUint32(),this.cleanApertureHeightN=n.readUint32(),this.cleanApertureHeightD=n.readUint32(),this.horizOffN=n.readUint32(),this.horizOffD=n.readUint32(),this.vertOffN=n.readUint32(),this.vertOffD=n.readUint32()}),o.createBoxCtor("clli","ContentLightLevelBox",function(n){this.max_content_light_level=n.readUint16(),this.max_pic_average_light_level=n.readUint16()}),o.createFullBoxCtor("cmex","CameraExtrinsicMatrixProperty",function(n){this.flags&1&&(this.pos_x=n.readInt32()),this.flags&2&&(this.pos_y=n.readInt32()),this.flags&4&&(this.pos_z=n.readInt32()),this.flags&8&&(this.version==0?this.flags&16?(this.quat_x=n.readInt32(),this.quat_y=n.readInt32(),this.quat_z=n.readInt32()):(this.quat_x=n.readInt16(),this.quat_y=n.readInt16(),this.quat_z=n.readInt16()):this.version==1),this.flags&32&&(this.id=n.readUint32())}),o.createFullBoxCtor("cmin","CameraIntrinsicMatrixProperty",function(n){this.focal_length_x=n.readInt32(),this.principal_point_x=n.readInt32(),this.principal_point_y=n.readInt32(),this.flags&1&&(this.focal_length_y=n.readInt32(),this.skew_factor=n.readInt32())}),o.createBoxCtor("cmpd","ComponentDefinitionBox",function(n){for(this.component_count=n.readUint32(),this.component_types=[],this.component_type_urls=[],i=0;i<this.component_count;i++){var r=n.readUint16();this.component_types.push(r),r>=32768&&this.component_type_urls.push(n.readCString())}}),o.createFullBoxCtor("co64","ChunkLargeOffsetBox",function(n){var r,u;if(r=n.readUint32(),this.chunk_offsets=[],this.version===0)for(u=0;u<r;u++)this.chunk_offsets.push(n.readUint64())}),o.createFullBoxCtor("CoLL","ContentLightLevelBox",function(n){this.maxCLL=n.readUint16(),this.maxFALL=n.readUint16()}),o.createBoxCtor("colr","ColourInformationBox",function(n){if(this.colour_type=n.readString(4),this.colour_type==="nclx"){this.colour_primaries=n.readUint16(),this.transfer_characteristics=n.readUint16(),this.matrix_coefficients=n.readUint16();var r=n.readUint8();this.full_range_flag=r>>7}else this.colour_type==="rICC"?this.ICC_profile=n.readUint8Array(this.size-4):this.colour_type==="prof"&&(this.ICC_profile=n.readUint8Array(this.size-4))}),o.createFullBoxCtor("cprt","CopyrightBox",function(n){this.parseLanguage(n),this.notice=n.readCString()}),o.createFullBoxCtor("cslg","CompositionToDecodeBox",function(n){this.version===0&&(this.compositionToDTSShift=n.readInt32(),this.leastDecodeToDisplayDelta=n.readInt32(),this.greatestDecodeToDisplayDelta=n.readInt32(),this.compositionStartTime=n.readInt32(),this.compositionEndTime=n.readInt32())}),o.createFullBoxCtor("ctts","CompositionOffsetBox",function(n){var r,u;if(r=n.readUint32(),this.sample_counts=[],this.sample_offsets=[],this.version===0)for(u=0;u<r;u++){this.sample_counts.push(n.readUint32());var c=n.readInt32();c<0&&_.warn("BoxParser","ctts box uses negative values without using version 1"),this.sample_offsets.push(c)}else if(this.version==1)for(u=0;u<r;u++)this.sample_counts.push(n.readUint32()),this.sample_offsets.push(n.readInt32())}),o.createBoxCtor("dac3","AC3SpecificBox",function(n){var r=n.readUint8(),u=n.readUint8(),c=n.readUint8();this.fscod=r>>6,this.bsid=r>>1&31,this.bsmod=(r&1)<<2|u>>6&3,this.acmod=u>>3&7,this.lfeon=u>>2&1,this.bit_rate_code=u&3|c>>5&7}),o.createBoxCtor("dec3","EC3SpecificBox",function(n){var r=n.readUint16();this.data_rate=r>>3,this.num_ind_sub=r&7,this.ind_subs=[];for(var u=0;u<this.num_ind_sub+1;u++){var c={};this.ind_subs.push(c);var p=n.readUint8(),v=n.readUint8(),E=n.readUint8();c.fscod=p>>6,c.bsid=p>>1&31,c.bsmod=(p&1)<<4|v>>4&15,c.acmod=v>>1&7,c.lfeon=v&1,c.num_dep_sub=E>>1&15,c.num_dep_sub>0&&(c.chan_loc=(E&1)<<8|n.readUint8())}}),o.createFullBoxCtor("dfLa","FLACSpecificBox",function(n){var r=127,u=128,c=[],p=["STREAMINFO","PADDING","APPLICATION","SEEKTABLE","VORBIS_COMMENT","CUESHEET","PICTURE","RESERVED"];do{var v=n.readUint8(),E=Math.min(v&r,p.length-1);if(E?n.readUint8Array(n.readUint24()):(n.readUint8Array(13),this.samplerate=n.readUint32()>>12,n.readUint8Array(20)),c.push(p[E]),v&u)break}while(!0);this.numMetadataBlocks=c.length+" ("+c.join(", ")+")"}),o.createBoxCtor("dimm","hintimmediateBytesSent",function(n){this.bytessent=n.readUint64()}),o.createBoxCtor("dmax","hintlongestpacket",function(n){this.time=n.readUint32()}),o.createBoxCtor("dmed","hintmediaBytesSent",function(n){this.bytessent=n.readUint64()}),o.createBoxCtor("dOps","OpusSpecificBox",function(n){if(this.Version=n.readUint8(),this.OutputChannelCount=n.readUint8(),this.PreSkip=n.readUint16(),this.InputSampleRate=n.readUint32(),this.OutputGain=n.readInt16(),this.ChannelMappingFamily=n.readUint8(),this.ChannelMappingFamily!==0){this.StreamCount=n.readUint8(),this.CoupledCount=n.readUint8(),this.ChannelMapping=[];for(var r=0;r<this.OutputChannelCount;r++)this.ChannelMapping[r]=n.readUint8()}}),o.createFullBoxCtor("dref","DataReferenceBox",function(n){var r,u;this.entries=[];for(var c=n.readUint32(),p=0;p<c;p++)if(r=o.parseOneBox(n,!1,this.size-(n.getPosition()-this.start)),r.code===o.OK)u=r.box,this.entries.push(u);else return}),o.createBoxCtor("drep","hintrepeatedBytesSent",function(n){this.bytessent=n.readUint64()}),o.createFullBoxCtor("elng","ExtendedLanguageBox",function(n){this.extended_language=n.readString(this.size-this.hdr_size)}),o.createFullBoxCtor("elst","EditListBox",function(n){this.entries=[];for(var r=n.readUint32(),u=0;u<r;u++){var c={};this.entries.push(c),this.version===1?(c.segment_duration=n.readUint64(),c.media_time=n.readInt64()):(c.segment_duration=n.readUint32(),c.media_time=n.readInt32()),c.media_rate_integer=n.readInt16(),c.media_rate_fraction=n.readInt16()}}),o.createFullBoxCtor("emsg","EventMessageBox",function(n){this.version==1?(this.timescale=n.readUint32(),this.presentation_time=n.readUint64(),this.event_duration=n.readUint32(),this.id=n.readUint32(),this.scheme_id_uri=n.readCString(),this.value=n.readCString()):(this.scheme_id_uri=n.readCString(),this.value=n.readCString(),this.timescale=n.readUint32(),this.presentation_time_delta=n.readUint32(),this.event_duration=n.readUint32(),this.id=n.readUint32());var r=this.size-this.hdr_size-(16+(this.scheme_id_uri.length+1)+(this.value.length+1));this.version==1&&(r-=4),this.message_data=n.readUint8Array(r)}),o.createEntityToGroupCtor=function(n,r){o[n+"Box"]=function(u){o.FullBox.call(this,n,u)},o[n+"Box"].prototype=new o.FullBox,o[n+"Box"].prototype.parse=function(u){if(this.parseFullHeader(u),r)r.call(this,u);else for(this.group_id=u.readUint32(),this.num_entities_in_group=u.readUint32(),this.entity_ids=[],i=0;i<this.num_entities_in_group;i++){var c=u.readUint32();this.entity_ids.push(c)}}},o.createEntityToGroupCtor("aebr"),o.createEntityToGroupCtor("afbr"),o.createEntityToGroupCtor("albc"),o.createEntityToGroupCtor("altr"),o.createEntityToGroupCtor("brst"),o.createEntityToGroupCtor("dobr"),o.createEntityToGroupCtor("eqiv"),o.createEntityToGroupCtor("favc"),o.createEntityToGroupCtor("fobr"),o.createEntityToGroupCtor("iaug"),o.createEntityToGroupCtor("pano"),o.createEntityToGroupCtor("slid"),o.createEntityToGroupCtor("ster"),o.createEntityToGroupCtor("tsyn"),o.createEntityToGroupCtor("wbbr"),o.createEntityToGroupCtor("prgr"),o.createEntityToGroupCtor("pymd",function(n){this.group_id=n.readUint32(),this.num_entities_in_group=n.readUint32(),this.entity_ids=[];for(var r=0;r<this.num_entities_in_group;r++){var u=n.readUint32();this.entity_ids.push(u)}for(this.tile_size_x=n.readUint16(),this.tile_size_y=n.readUint16(),this.layer_binning=[],this.tiles_in_layer_column_minus1=[],this.tiles_in_layer_row_minus1=[],r=0;r<this.num_entities_in_group;r++)this.layer_binning[r]=n.readUint16(),this.tiles_in_layer_row_minus1[r]=n.readUint16(),this.tiles_in_layer_column_minus1[r]=n.readUint16()}),o.createFullBoxCtor("esds","ElementaryStreamDescriptorBox",function(n){var r=n.readUint8Array(this.size-this.hdr_size);if(typeof B<"u"){var u=new B;this.esd=u.parseOneDescriptor(new d(r.buffer,0,d.BIG_ENDIAN))}}),o.createBoxCtor("fiel","FieldHandlingBox",function(n){this.fieldCount=n.readUint8(),this.fieldOrdering=n.readUint8()}),o.createBoxCtor("frma","OriginalFormatBox",function(n){this.data_format=n.readString(4)}),o.createBoxCtor("ftyp","FileTypeBox",function(n){var r=this.size-this.hdr_size;this.major_brand=n.readString(4),this.minor_version=n.readUint32(),r-=8,this.compatible_brands=[];for(var u=0;r>=4;)this.compatible_brands[u]=n.readString(4),r-=4,u++}),o.createFullBoxCtor("hdlr","HandlerBox",function(n){this.version===0&&(n.readUint32(),this.handler=n.readString(4),n.readUint32Array(3),this.name=n.readString(this.size-this.hdr_size-20),this.name[this.name.length-1]==="\0"&&(this.name=this.name.slice(0,-1)))}),o.createBoxCtor("hvcC","HEVCConfigurationBox",function(n){var r,u,c,p;this.configurationVersion=n.readUint8(),p=n.readUint8(),this.general_profile_space=p>>6,this.general_tier_flag=(p&32)>>5,this.general_profile_idc=p&31,this.general_profile_compatibility=n.readUint32(),this.general_constraint_indicator=n.readUint8Array(6),this.general_level_idc=n.readUint8(),this.min_spatial_segmentation_idc=n.readUint16()&4095,this.parallelismType=n.readUint8()&3,this.chroma_format_idc=n.readUint8()&3,this.bit_depth_luma_minus8=n.readUint8()&7,this.bit_depth_chroma_minus8=n.readUint8()&7,this.avgFrameRate=n.readUint16(),p=n.readUint8(),this.constantFrameRate=p>>6,this.numTemporalLayers=(p&13)>>3,this.temporalIdNested=(p&4)>>2,this.lengthSizeMinusOne=p&3,this.nalu_arrays=[],this.nalu_arrays.toString=function(){var Y="<table class='inner-table'>";Y+="<thead><tr><th>completeness</th><th>nalu_type</th><th>nalu_data</th></tr></thead>",Y+="<tbody>";for(var P=0;P<this.length;P++){var Z=this[P];Y+="<tr>",Y+="<td rowspan='"+Z.length+"'>"+Z.completeness+"</td>",Y+="<td rowspan='"+Z.length+"'>"+Z.nalu_type+"</td>";for(var at=0;at<Z.length;at++){var $=Z[at];at!==0&&(Y+="<tr>"),Y+="<td>",Y+=$.data.reduce(function(Ut,dt){return Ut+dt.toString(16).padStart(2,"0")},"0x"),Y+="</td></tr>"}}return Y+="</tbody></table>",Y};var v=n.readUint8();for(r=0;r<v;r++){var E=[];this.nalu_arrays.push(E),p=n.readUint8(),E.completeness=(p&128)>>7,E.nalu_type=p&63;var C=n.readUint16();for(u=0;u<C;u++){var H={};E.push(H),c=n.readUint16(),H.data=n.readUint8Array(c)}}}),o.createFullBoxCtor("iinf","ItemInfoBox",function(n){var r;this.version===0?this.entry_count=n.readUint16():this.entry_count=n.readUint32(),this.item_infos=[];for(var u=0;u<this.entry_count;u++)if(r=o.parseOneBox(n,!1,this.size-(n.getPosition()-this.start)),r.code===o.OK)r.box.type!=="infe"&&_.error("BoxParser","Expected 'infe' box, got "+r.box.type),this.item_infos[u]=r.box;else return}),o.createFullBoxCtor("iloc","ItemLocationBox",function(n){var r;r=n.readUint8(),this.offset_size=r>>4&15,this.length_size=r&15,r=n.readUint8(),this.base_offset_size=r>>4&15,this.version===1||this.version===2?this.index_size=r&15:this.index_size=0,this.items=[];var u=0;if(this.version<2)u=n.readUint16();else if(this.version===2)u=n.readUint32();else throw"version of iloc box not supported";for(var c=0;c<u;c++){var p={};if(this.items.push(p),this.version<2)p.item_ID=n.readUint16();else if(this.version===2)p.item_ID=n.readUint32();else throw"version of iloc box not supported";switch(this.version===1||this.version===2?p.construction_method=n.readUint16()&15:p.construction_method=0,p.data_reference_index=n.readUint16(),this.base_offset_size){case 0:p.base_offset=0;break;case 4:p.base_offset=n.readUint32();break;case 8:p.base_offset=n.readUint64();break;default:throw"Error reading base offset size"}var v=n.readUint16();p.extents=[];for(var E=0;E<v;E++){var C={};if(p.extents.push(C),this.version===1||this.version===2)switch(this.index_size){case 0:C.extent_index=0;break;case 4:C.extent_index=n.readUint32();break;case 8:C.extent_index=n.readUint64();break;default:throw"Error reading extent index"}switch(this.offset_size){case 0:C.extent_offset=0;break;case 4:C.extent_offset=n.readUint32();break;case 8:C.extent_offset=n.readUint64();break;default:throw"Error reading extent index"}switch(this.length_size){case 0:C.extent_length=0;break;case 4:C.extent_length=n.readUint32();break;case 8:C.extent_length=n.readUint64();break;default:throw"Error reading extent index"}}}}),o.createBoxCtor("imir","ImageMirror",function(n){var r=n.readUint8();this.reserved=r>>7,this.axis=r&1}),o.createFullBoxCtor("infe","ItemInfoEntry",function(n){if((this.version===0||this.version===1)&&(this.item_ID=n.readUint16(),this.item_protection_index=n.readUint16(),this.item_name=n.readCString(),this.content_type=n.readCString(),this.content_encoding=n.readCString()),this.version===1){this.extension_type=n.readString(4),_.warn("BoxParser","Cannot parse extension type"),n.seek(this.start+this.size);return}this.version>=2&&(this.version===2?this.item_ID=n.readUint16():this.version===3&&(this.item_ID=n.readUint32()),this.item_protection_index=n.readUint16(),this.item_type=n.readString(4),this.item_name=n.readCString(),this.item_type==="mime"?(this.content_type=n.readCString(),this.content_encoding=n.readCString()):this.item_type==="uri "&&(this.item_uri_type=n.readCString()))}),o.createFullBoxCtor("ipma","ItemPropertyAssociationBox",function(n){var r,u;for(entry_count=n.readUint32(),this.associations=[],r=0;r<entry_count;r++){var c={};this.associations.push(c),this.version<1?c.id=n.readUint16():c.id=n.readUint32();var p=n.readUint8();for(c.props=[],u=0;u<p;u++){var v=n.readUint8(),E={};c.props.push(E),E.essential=(v&128)>>7===1,this.flags&1?E.property_index=(v&127)<<8|n.readUint8():E.property_index=v&127}}}),o.createFullBoxCtor("iref","ItemReferenceBox",function(n){var r,u;for(this.references=[];n.getPosition()<this.start+this.size;)if(r=o.parseOneBox(n,!0,this.size-(n.getPosition()-this.start)),r.code===o.OK)this.version===0?u=new o.SingleItemTypeReferenceBox(r.type,r.size,r.hdr_size,r.start):u=new o.SingleItemTypeReferenceBoxLarge(r.type,r.size,r.hdr_size,r.start),u.write===o.Box.prototype.write&&u.type!=="mdat"&&(_.warn("BoxParser",u.type+" box writing not yet implemented, keeping unparsed data in memory for later write"),u.parseDataAndRewind(n)),u.parse(n),this.references.push(u);else return}),o.createBoxCtor("irot","ImageRotation",function(n){this.angle=n.readUint8()&3}),o.createFullBoxCtor("ispe","ImageSpatialExtentsProperty",function(n){this.image_width=n.readUint32(),this.image_height=n.readUint32()}),o.createFullBoxCtor("kind","KindBox",function(n){this.schemeURI=n.readCString(),this.value=n.readCString()}),o.createFullBoxCtor("leva","LevelAssignmentBox",function(n){var r=n.readUint8();this.levels=[];for(var u=0;u<r;u++){var c={};this.levels[u]=c,c.track_ID=n.readUint32();var p=n.readUint8();switch(c.padding_flag=p>>7,c.assignment_type=p&127,c.assignment_type){case 0:c.grouping_type=n.readString(4);break;case 1:c.grouping_type=n.readString(4),c.grouping_type_parameter=n.readUint32();break;case 2:break;case 3:break;case 4:c.sub_track_id=n.readUint32();break;default:_.warn("BoxParser","Unknown leva assignement type")}}}),o.createBoxCtor("lhvC","LHEVCConfigurationBox",function(n){var r,u,c;this.configurationVersion=n.readUint8(),this.min_spatial_segmentation_idc=n.readUint16()&4095,this.parallelismType=n.readUint8()&3,c=n.readUint8(),this.numTemporalLayers=(c&13)>>3,this.temporalIdNested=(c&4)>>2,this.lengthSizeMinusOne=c&3,this.nalu_arrays=[],this.nalu_arrays.toString=function(){var Y="<table class='inner-table'>";Y+="<thead><tr><th>completeness</th><th>nalu_type</th><th>nalu_data</th></tr></thead>",Y+="<tbody>";for(var P=0;P<this.length;P++){var Z=this[P];Y+="<tr>",Y+="<td rowspan='"+Z.length+"'>"+Z.completeness+"</td>",Y+="<td rowspan='"+Z.length+"'>"+Z.nalu_type+"</td>";for(var at=0;at<Z.length;at++){var $=Z[at];at!==0&&(Y+="<tr>"),Y+="<td>",Y+=$.data.reduce(function(Ut,dt){return Ut+dt.toString(16).padStart(2,"0")},"0x"),Y+="</td></tr>"}}return Y+="</tbody></table>",Y};var p=n.readUint8();for(r=0;r<p;r++){var v=[];this.nalu_arrays.push(v),c=n.readUint8(),v.completeness=(c&128)>>7,v.nalu_type=c&63;var E=n.readUint16();for(u=0;u<E;u++){var C={};v.push(C);var H=n.readUint16();C.data=n.readUint8Array(H)}}}),o.createBoxCtor("lsel","LayerSelectorProperty",function(n){this.layer_id=n.readUint16()}),o.createBoxCtor("maxr","hintmaxrate",function(n){this.period=n.readUint32(),this.bytes=n.readUint32()});function b(n,r){this.x=n,this.y=r}b.prototype.toString=function(){return"("+this.x+","+this.y+")"},o.createBoxCtor("mdcv","MasteringDisplayColourVolumeBox",function(n){this.display_primaries=[],this.display_primaries[0]=new b(n.readUint16(),n.readUint16()),this.display_primaries[1]=new b(n.readUint16(),n.readUint16()),this.display_primaries[2]=new b(n.readUint16(),n.readUint16()),this.white_point=new b(n.readUint16(),n.readUint16()),this.max_display_mastering_luminance=n.readUint32(),this.min_display_mastering_luminance=n.readUint32()}),o.createFullBoxCtor("mdhd","MediaHeaderBox",function(n){this.version==1?(this.creation_time=n.readUint64(),this.modification_time=n.readUint64(),this.timescale=n.readUint32(),this.duration=n.readUint64()):(this.creation_time=n.readUint32(),this.modification_time=n.readUint32(),this.timescale=n.readUint32(),this.duration=n.readUint32()),this.parseLanguage(n),n.readUint16()}),o.createFullBoxCtor("mehd","MovieExtendsHeaderBox",function(n){this.flags&1&&(_.warn("BoxParser","mehd box incorrectly uses flags set to 1, converting version to 1"),this.version=1),this.version==1?this.fragment_duration=n.readUint64():this.fragment_duration=n.readUint32()}),o.createFullBoxCtor("meta","MetaBox",function(n){this.boxes=[],o.ContainerBox.prototype.parse.call(this,n)}),o.createFullBoxCtor("mfhd","MovieFragmentHeaderBox",function(n){this.sequence_number=n.readUint32()}),o.createFullBoxCtor("mfro","MovieFragmentRandomAccessOffsetBox",function(n){this._size=n.readUint32()}),o.createFullBoxCtor("mskC","MaskConfigurationProperty",function(n){this.bits_per_pixel=n.readUint8()}),o.createFullBoxCtor("mvhd","MovieHeaderBox",function(n){this.version==1?(this.creation_time=n.readUint64(),this.modification_time=n.readUint64(),this.timescale=n.readUint32(),this.duration=n.readUint64()):(this.creation_time=n.readUint32(),this.modification_time=n.readUint32(),this.timescale=n.readUint32(),this.duration=n.readUint32()),this.rate=n.readUint32(),this.volume=n.readUint16()>>8,n.readUint16(),n.readUint32Array(2),this.matrix=n.readUint32Array(9),n.readUint32Array(6),this.next_track_id=n.readUint32()}),o.createBoxCtor("npck","hintPacketsSent",function(n){this.packetssent=n.readUint32()}),o.createBoxCtor("nump","hintPacketsSent",function(n){this.packetssent=n.readUint64()}),o.createFullBoxCtor("padb","PaddingBitsBox",function(n){var r=n.readUint32();this.padbits=[];for(var u=0;u<Math.floor((r+1)/2);u++)this.padbits=n.readUint8()}),o.createBoxCtor("pasp","PixelAspectRatioBox",function(n){this.hSpacing=n.readUint32(),this.vSpacing=n.readUint32()}),o.createBoxCtor("payl","CuePayloadBox",function(n){this.text=n.readString(this.size-this.hdr_size)}),o.createBoxCtor("payt","hintpayloadID",function(n){this.payloadID=n.readUint32();var r=n.readUint8();this.rtpmap_string=n.readString(r)}),o.createFullBoxCtor("pdin","ProgressiveDownloadInfoBox",function(n){var r=(this.size-this.hdr_size)/8;this.rate=[],this.initial_delay=[];for(var u=0;u<r;u++)this.rate[u]=n.readUint32(),this.initial_delay[u]=n.readUint32()}),o.createFullBoxCtor("pitm","PrimaryItemBox",function(n){this.version===0?this.item_id=n.readUint16():this.item_id=n.readUint32()}),o.createFullBoxCtor("pixi","PixelInformationProperty",function(n){var r;for(this.num_channels=n.readUint8(),this.bits_per_channels=[],r=0;r<this.num_channels;r++)this.bits_per_channels[r]=n.readUint8()}),o.createBoxCtor("pmax","hintlargestpacket",function(n){this.bytes=n.readUint32()}),o.createFullBoxCtor("prdi","ProgressiveDerivedImageItemInformationProperty",function(n){if(this.step_count=n.readUint16(),this.item_count=[],this.flags&2)for(var r=0;r<this.step_count;r++)this.item_count[r]=n.readUint16()}),o.createFullBoxCtor("prft","ProducerReferenceTimeBox",function(n){this.ref_track_id=n.readUint32(),this.ntp_timestamp=n.readUint64(),this.version===0?this.media_time=n.readUint32():this.media_time=n.readUint64()}),o.createFullBoxCtor("pssh","ProtectionSystemSpecificHeaderBox",function(n){if(this.system_id=o.parseHex16(n),this.version>0){var r=n.readUint32();this.kid=[];for(var u=0;u<r;u++)this.kid[u]=o.parseHex16(n)}var c=n.readUint32();c>0&&(this.data=n.readUint8Array(c))}),o.createFullBoxCtor("clef","TrackCleanApertureDimensionsBox",function(n){this.width=n.readUint32(),this.height=n.readUint32()}),o.createFullBoxCtor("enof","TrackEncodedPixelsDimensionsBox",function(n){this.width=n.readUint32(),this.height=n.readUint32()}),o.createFullBoxCtor("prof","TrackProductionApertureDimensionsBox",function(n){this.width=n.readUint32(),this.height=n.readUint32()}),o.createContainerBoxCtor("tapt","TrackApertureModeDimensionsBox",null,["clef","prof","enof"]),o.createBoxCtor("rtp ","rtpmoviehintinformation",function(n){this.descriptionformat=n.readString(4),this.sdptext=n.readString(this.size-this.hdr_size-4)}),o.createFullBoxCtor("saio","SampleAuxiliaryInformationOffsetsBox",function(n){this.flags&1&&(this.aux_info_type=n.readString(4),this.aux_info_type_parameter=n.readUint32());var r=n.readUint32();this.offset=[];for(var u=0;u<r;u++)this.version===0?this.offset[u]=n.readUint32():this.offset[u]=n.readUint64()}),o.createFullBoxCtor("saiz","SampleAuxiliaryInformationSizesBox",function(n){if(this.flags&1&&(this.aux_info_type=n.readString(4),this.aux_info_type_parameter=n.readUint32()),this.default_sample_info_size=n.readUint8(),this.sample_count=n.readUint32(),this.sample_info_size=[],this.default_sample_info_size===0)for(var r=0;r<this.sample_count;r++)this.sample_info_size[r]=n.readUint8()}),o.createSampleEntryCtor(o.SAMPLE_ENTRY_TYPE_METADATA,"mett",function(n){this.parseHeader(n),this.content_encoding=n.readCString(),this.mime_format=n.readCString(),this.parseFooter(n)}),o.createSampleEntryCtor(o.SAMPLE_ENTRY_TYPE_METADATA,"metx",function(n){this.parseHeader(n),this.content_encoding=n.readCString(),this.namespace=n.readCString(),this.schema_location=n.readCString(),this.parseFooter(n)}),o.createSampleEntryCtor(o.SAMPLE_ENTRY_TYPE_SUBTITLE,"sbtt",function(n){this.parseHeader(n),this.content_encoding=n.readCString(),this.mime_format=n.readCString(),this.parseFooter(n)}),o.createSampleEntryCtor(o.SAMPLE_ENTRY_TYPE_SUBTITLE,"stpp",function(n){this.parseHeader(n),this.namespace=n.readCString(),this.schema_location=n.readCString(),this.auxiliary_mime_types=n.readCString(),this.parseFooter(n)}),o.createSampleEntryCtor(o.SAMPLE_ENTRY_TYPE_SUBTITLE,"stxt",function(n){this.parseHeader(n),this.content_encoding=n.readCString(),this.mime_format=n.readCString(),this.parseFooter(n)}),o.createSampleEntryCtor(o.SAMPLE_ENTRY_TYPE_SUBTITLE,"tx3g",function(n){this.parseHeader(n),this.displayFlags=n.readUint32(),this.horizontal_justification=n.readInt8(),this.vertical_justification=n.readInt8(),this.bg_color_rgba=n.readUint8Array(4),this.box_record=n.readInt16Array(4),this.style_record=n.readUint8Array(12),this.parseFooter(n)}),o.createSampleEntryCtor(o.SAMPLE_ENTRY_TYPE_METADATA,"wvtt",function(n){this.parseHeader(n),this.parseFooter(n)}),o.createSampleGroupCtor("alst",function(n){var r,u=n.readUint16();for(this.first_output_sample=n.readUint16(),this.sample_offset=[],r=0;r<u;r++)this.sample_offset[r]=n.readUint32();var c=this.description_length-4-4*u;for(this.num_output_samples=[],this.num_total_samples=[],r=0;r<c/4;r++)this.num_output_samples[r]=n.readUint16(),this.num_total_samples[r]=n.readUint16()}),o.createSampleGroupCtor("avll",function(n){this.layerNumber=n.readUint8(),this.accurateStatisticsFlag=n.readUint8(),this.avgBitRate=n.readUint16(),this.avgFrameRate=n.readUint16()}),o.createSampleGroupCtor("avss",function(n){this.subSequenceIdentifier=n.readUint16(),this.layerNumber=n.readUint8();var r=n.readUint8();this.durationFlag=r>>7,this.avgRateFlag=r>>6&1,this.durationFlag&&(this.duration=n.readUint32()),this.avgRateFlag&&(this.accurateStatisticsFlag=n.readUint8(),this.avgBitRate=n.readUint16(),this.avgFrameRate=n.readUint16()),this.dependency=[];for(var u=n.readUint8(),c=0;c<u;c++){var p={};this.dependency.push(p),p.subSeqDirectionFlag=n.readUint8(),p.layerNumber=n.readUint8(),p.subSequenceIdentifier=n.readUint16()}}),o.createSampleGroupCtor("dtrt",function(n){_.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),o.createSampleGroupCtor("mvif",function(n){_.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),o.createSampleGroupCtor("prol",function(n){this.roll_distance=n.readInt16()}),o.createSampleGroupCtor("rap ",function(n){var r=n.readUint8();this.num_leading_samples_known=r>>7,this.num_leading_samples=r&127}),o.createSampleGroupCtor("rash",function(n){if(this.operation_point_count=n.readUint16(),this.description_length!==2+(this.operation_point_count===1?2:this.operation_point_count*6)+9)_.warn("BoxParser","Mismatch in "+this.grouping_type+" sample group length"),this.data=n.readUint8Array(this.description_length-2);else{if(this.operation_point_count===1)this.target_rate_share=n.readUint16();else{this.target_rate_share=[],this.available_bitrate=[];for(var r=0;r<this.operation_point_count;r++)this.available_bitrate[r]=n.readUint32(),this.target_rate_share[r]=n.readUint16()}this.maximum_bitrate=n.readUint32(),this.minimum_bitrate=n.readUint32(),this.discard_priority=n.readUint8()}}),o.createSampleGroupCtor("roll",function(n){this.roll_distance=n.readInt16()}),o.SampleGroupEntry.prototype.parse=function(n){_.warn("BoxParser","Unknown Sample Group type: "+this.grouping_type),this.data=n.readUint8Array(this.description_length)},o.createSampleGroupCtor("scif",function(n){_.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),o.createSampleGroupCtor("scnm",function(n){_.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),o.createSampleGroupCtor("seig",function(n){this.reserved=n.readUint8();var r=n.readUint8();this.crypt_byte_block=r>>4,this.skip_byte_block=r&15,this.isProtected=n.readUint8(),this.Per_Sample_IV_Size=n.readUint8(),this.KID=o.parseHex16(n),this.constant_IV_size=0,this.constant_IV=0,this.isProtected===1&&this.Per_Sample_IV_Size===0&&(this.constant_IV_size=n.readUint8(),this.constant_IV=n.readUint8Array(this.constant_IV_size))}),o.createSampleGroupCtor("stsa",function(n){_.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),o.createSampleGroupCtor("sync",function(n){var r=n.readUint8();this.NAL_unit_type=r&63}),o.createSampleGroupCtor("tele",function(n){var r=n.readUint8();this.level_independently_decodable=r>>7}),o.createSampleGroupCtor("tsas",function(n){_.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),o.createSampleGroupCtor("tscl",function(n){_.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),o.createSampleGroupCtor("vipr",function(n){_.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),o.createFullBoxCtor("sbgp","SampleToGroupBox",function(n){this.grouping_type=n.readString(4),this.version===1?this.grouping_type_parameter=n.readUint32():this.grouping_type_parameter=0,this.entries=[];for(var r=n.readUint32(),u=0;u<r;u++){var c={};this.entries.push(c),c.sample_count=n.readInt32(),c.group_description_index=n.readInt32()}});function D(n,r){this.bad_pixel_row=n,this.bad_pixel_column=r}D.prototype.toString=function(){return"[row: "+this.bad_pixel_row+", column: "+this.bad_pixel_column+"]"},o.createFullBoxCtor("sbpm","SensorBadPixelsMapBox",function(n){var r;for(this.component_count=n.readUint16(),this.component_index=[],r=0;r<this.component_count;r++)this.component_index.push(n.readUint16());var u=n.readUint8();for(this.correction_applied=(u&128)==128,this.num_bad_rows=n.readUint32(),this.num_bad_cols=n.readUint32(),this.num_bad_pixels=n.readUint32(),this.bad_rows=[],this.bad_columns=[],this.bad_pixels=[],r=0;r<this.num_bad_rows;r++)this.bad_rows.push(n.readUint32());for(r=0;r<this.num_bad_cols;r++)this.bad_columns.push(n.readUint32());for(r=0;r<this.num_bad_pixels;r++){var c=n.readUint32(),p=n.readUint32();this.bad_pixels.push(new D(c,p))}}),o.createFullBoxCtor("schm","SchemeTypeBox",function(n){this.scheme_type=n.readString(4),this.scheme_version=n.readUint32(),this.flags&1&&(this.scheme_uri=n.readString(this.size-this.hdr_size-8))}),o.createBoxCtor("sdp ","rtptracksdphintinformation",function(n){this.sdptext=n.readString(this.size-this.hdr_size)}),o.createFullBoxCtor("sdtp","SampleDependencyTypeBox",function(n){var r,u=this.size-this.hdr_size;this.is_leading=[],this.sample_depends_on=[],this.sample_is_depended_on=[],this.sample_has_redundancy=[];for(var c=0;c<u;c++)r=n.readUint8(),this.is_leading[c]=r>>6,this.sample_depends_on[c]=r>>4&3,this.sample_is_depended_on[c]=r>>2&3,this.sample_has_redundancy[c]=r&3}),o.createFullBoxCtor("senc","SampleEncryptionBox"),o.createFullBoxCtor("sgpd","SampleGroupDescriptionBox",function(n){this.grouping_type=n.readString(4),_.debug("BoxParser","Found Sample Groups of type "+this.grouping_type),this.version===1?this.default_length=n.readUint32():this.default_length=0,this.version>=2&&(this.default_group_description_index=n.readUint32()),this.entries=[];for(var r=n.readUint32(),u=0;u<r;u++){var c;o[this.grouping_type+"SampleGroupEntry"]?c=new o[this.grouping_type+"SampleGroupEntry"](this.grouping_type):c=new o.SampleGroupEntry(this.grouping_type),this.entries.push(c),this.version===1?this.default_length===0?c.description_length=n.readUint32():c.description_length=this.default_length:c.description_length=this.default_length,c.write===o.SampleGroupEntry.prototype.write&&(_.info("BoxParser","SampleGroup for type "+this.grouping_type+" writing not yet implemented, keeping unparsed data in memory for later write"),c.data=n.readUint8Array(c.description_length),n.position-=c.description_length),c.parse(n)}}),o.createFullBoxCtor("sidx","CompressedSegmentIndexBox",function(n){this.reference_ID=n.readUint32(),this.timescale=n.readUint32(),this.version===0?(this.earliest_presentation_time=n.readUint32(),this.first_offset=n.readUint32()):(this.earliest_presentation_time=n.readUint64(),this.first_offset=n.readUint64()),n.readUint16(),this.references=[];for(var r=n.readUint16(),u=0;u<r;u++){var c={};this.references.push(c);var p=n.readUint32();c.reference_type=p>>31&1,c.referenced_size=p&2147483647,c.subsegment_duration=n.readUint32(),p=n.readUint32(),c.starts_with_SAP=p>>31&1,c.SAP_type=p>>28&7,c.SAP_delta_time=p&268435455}}),o.SingleItemTypeReferenceBox=function(n,r,u,c){o.Box.call(this,n,r),this.hdr_size=u,this.start=c},o.SingleItemTypeReferenceBox.prototype=new o.Box,o.SingleItemTypeReferenceBox.prototype.parse=function(n){this.from_item_ID=n.readUint16();var r=n.readUint16();this.references=[];for(var u=0;u<r;u++)this.references[u]={},this.references[u].to_item_ID=n.readUint16()},o.SingleItemTypeReferenceBoxLarge=function(n,r,u,c){o.Box.call(this,n,r),this.hdr_size=u,this.start=c},o.SingleItemTypeReferenceBoxLarge.prototype=new o.Box,o.SingleItemTypeReferenceBoxLarge.prototype.parse=function(n){this.from_item_ID=n.readUint32();var r=n.readUint16();this.references=[];for(var u=0;u<r;u++)this.references[u]={},this.references[u].to_item_ID=n.readUint32()},o.createFullBoxCtor("SmDm","SMPTE2086MasteringDisplayMetadataBox",function(n){this.primaryRChromaticity_x=n.readUint16(),this.primaryRChromaticity_y=n.readUint16(),this.primaryGChromaticity_x=n.readUint16(),this.primaryGChromaticity_y=n.readUint16(),this.primaryBChromaticity_x=n.readUint16(),this.primaryBChromaticity_y=n.readUint16(),this.whitePointChromaticity_x=n.readUint16(),this.whitePointChromaticity_y=n.readUint16(),this.luminanceMax=n.readUint32(),this.luminanceMin=n.readUint32()}),o.createFullBoxCtor("smhd","SoundMediaHeaderBox",function(n){this.balance=n.readUint16(),n.readUint16()}),o.createFullBoxCtor("ssix","CompressedSubsegmentIndexBox",function(n){this.subsegments=[];for(var r=n.readUint32(),u=0;u<r;u++){var c={};this.subsegments.push(c),c.ranges=[];for(var p=n.readUint32(),v=0;v<p;v++){var E={};c.ranges.push(E),E.level=n.readUint8(),E.range_size=n.readUint24()}}}),o.createFullBoxCtor("stco","ChunkOffsetBox",function(n){var r;if(r=n.readUint32(),this.chunk_offsets=[],this.version===0)for(var u=0;u<r;u++)this.chunk_offsets.push(n.readUint32())}),o.createFullBoxCtor("stdp","DegradationPriorityBox",function(n){var r=(this.size-this.hdr_size)/2;this.priority=[];for(var u=0;u<r;u++)this.priority[u]=n.readUint16()}),o.createFullBoxCtor("sthd","SubtitleMediaHeaderBox"),o.createFullBoxCtor("stri","SubTrackInformationBox",function(n){this.switch_group=n.readUint16(),this.alternate_group=n.readUint16(),this.sub_track_id=n.readUint32();var r=(this.size-this.hdr_size-8)/4;this.attribute_list=[];for(var u=0;u<r;u++)this.attribute_list[u]=n.readUint32()}),o.createFullBoxCtor("stsc","SampleToChunkBox",function(n){var r,u;if(r=n.readUint32(),this.first_chunk=[],this.samples_per_chunk=[],this.sample_description_index=[],this.version===0)for(u=0;u<r;u++)this.first_chunk.push(n.readUint32()),this.samples_per_chunk.push(n.readUint32()),this.sample_description_index.push(n.readUint32())}),o.createFullBoxCtor("stsd","SampleDescriptionBox",function(n){var r,u,c,p;for(this.entries=[],c=n.readUint32(),r=1;r<=c;r++)if(u=o.parseOneBox(n,!0,this.size-(n.getPosition()-this.start)),u.code===o.OK)o[u.type+"SampleEntry"]?(p=new o[u.type+"SampleEntry"](u.size),p.hdr_size=u.hdr_size,p.start=u.start):(_.warn("BoxParser","Unknown sample entry type: "+u.type),p=new o.SampleEntry(u.type,u.size,u.hdr_size,u.start)),p.write===o.SampleEntry.prototype.write&&(_.info("BoxParser","SampleEntry "+p.type+" box writing not yet implemented, keeping unparsed data in memory for later write"),p.parseDataAndRewind(n)),p.parse(n),this.entries.push(p);else return}),o.createFullBoxCtor("stsg","SubTrackSampleGroupBox",function(n){this.grouping_type=n.readUint32();var r=n.readUint16();this.group_description_index=[];for(var u=0;u<r;u++)this.group_description_index[u]=n.readUint32()}),o.createFullBoxCtor("stsh","ShadowSyncSampleBox",function(n){var r,u;if(r=n.readUint32(),this.shadowed_sample_numbers=[],this.sync_sample_numbers=[],this.version===0)for(u=0;u<r;u++)this.shadowed_sample_numbers.push(n.readUint32()),this.sync_sample_numbers.push(n.readUint32())}),o.createFullBoxCtor("stss","SyncSampleBox",function(n){var r,u;if(u=n.readUint32(),this.version===0)for(this.sample_numbers=[],r=0;r<u;r++)this.sample_numbers.push(n.readUint32())}),o.createFullBoxCtor("stsz","SampleSizeBox",function(n){var r;if(this.sample_sizes=[],this.version===0)for(this.sample_size=n.readUint32(),this.sample_count=n.readUint32(),r=0;r<this.sample_count;r++)this.sample_size===0?this.sample_sizes.push(n.readUint32()):this.sample_sizes[r]=this.sample_size}),o.createFullBoxCtor("stts","TimeToSampleBox",function(n){var r,u,c;if(r=n.readUint32(),this.sample_counts=[],this.sample_deltas=[],this.version===0)for(u=0;u<r;u++)this.sample_counts.push(n.readUint32()),c=n.readInt32(),c<0&&(_.warn("BoxParser","File uses negative stts sample delta, using value 1 instead, sync may be lost!"),c=1),this.sample_deltas.push(c)}),o.createFullBoxCtor("stvi","StereoVideoBox",function(n){var r=n.readUint32();this.single_view_allowed=r&3,this.stereo_scheme=n.readUint32();var u=n.readUint32();this.stereo_indication_type=n.readString(u);var c,p;for(this.boxes=[];n.getPosition()<this.start+this.size;)if(c=o.parseOneBox(n,!1,this.size-(n.getPosition()-this.start)),c.code===o.OK)p=c.box,this.boxes.push(p),this[p.type]=p;else return}),o.createBoxCtor("styp","SegmentTypeBox",function(n){o.ftypBox.prototype.parse.call(this,n)}),o.createFullBoxCtor("stz2","CompactSampleSizeBox",function(n){var r,u;if(this.sample_sizes=[],this.version===0)if(this.reserved=n.readUint24(),this.field_size=n.readUint8(),u=n.readUint32(),this.field_size===4)for(r=0;r<u;r+=2){var c=n.readUint8();this.sample_sizes[r]=c>>4&15,this.sample_sizes[r+1]=c&15}else if(this.field_size===8)for(r=0;r<u;r++)this.sample_sizes[r]=n.readUint8();else if(this.field_size===16)for(r=0;r<u;r++)this.sample_sizes[r]=n.readUint16();else _.error("BoxParser","Error in length field in stz2 box")}),o.createFullBoxCtor("subs","SubSampleInformationBox",function(n){var r,u,c,p;for(c=n.readUint32(),this.entries=[],r=0;r<c;r++){var v={};if(this.entries[r]=v,v.sample_delta=n.readUint32(),v.subsamples=[],p=n.readUint16(),p>0)for(u=0;u<p;u++){var E={};v.subsamples.push(E),this.version==1?E.size=n.readUint32():E.size=n.readUint16(),E.priority=n.readUint8(),E.discardable=n.readUint8(),E.codec_specific_parameters=n.readUint32()}}}),o.createFullBoxCtor("tenc","TrackEncryptionBox",function(n){if(n.readUint8(),this.version===0)n.readUint8();else{var r=n.readUint8();this.default_crypt_byte_block=r>>4&15,this.default_skip_byte_block=r&15}this.default_isProtected=n.readUint8(),this.default_Per_Sample_IV_Size=n.readUint8(),this.default_KID=o.parseHex16(n),this.default_isProtected===1&&this.default_Per_Sample_IV_Size===0&&(this.default_constant_IV_size=n.readUint8(),this.default_constant_IV=n.readUint8Array(this.default_constant_IV_size))}),o.createFullBoxCtor("tfdt","TrackFragmentBaseMediaDecodeTimeBox",function(n){this.version==1?this.baseMediaDecodeTime=n.readUint64():this.baseMediaDecodeTime=n.readUint32()}),o.createFullBoxCtor("tfhd","TrackFragmentHeaderBox",function(n){var r=0;this.track_id=n.readUint32(),this.size-this.hdr_size>r&&this.flags&o.TFHD_FLAG_BASE_DATA_OFFSET?(this.base_data_offset=n.readUint64(),r+=8):this.base_data_offset=0,this.size-this.hdr_size>r&&this.flags&o.TFHD_FLAG_SAMPLE_DESC?(this.default_sample_description_index=n.readUint32(),r+=4):this.default_sample_description_index=0,this.size-this.hdr_size>r&&this.flags&o.TFHD_FLAG_SAMPLE_DUR?(this.default_sample_duration=n.readUint32(),r+=4):this.default_sample_duration=0,this.size-this.hdr_size>r&&this.flags&o.TFHD_FLAG_SAMPLE_SIZE?(this.default_sample_size=n.readUint32(),r+=4):this.default_sample_size=0,this.size-this.hdr_size>r&&this.flags&o.TFHD_FLAG_SAMPLE_FLAGS?(this.default_sample_flags=n.readUint32(),r+=4):this.default_sample_flags=0}),o.createFullBoxCtor("tfra","TrackFragmentRandomAccessBox",function(n){this.track_ID=n.readUint32(),n.readUint24();var r=n.readUint8();this.length_size_of_traf_num=r>>4&3,this.length_size_of_trun_num=r>>2&3,this.length_size_of_sample_num=r&3,this.entries=[];for(var u=n.readUint32(),c=0;c<u;c++)this.version===1?(this.time=n.readUint64(),this.moof_offset=n.readUint64()):(this.time=n.readUint32(),this.moof_offset=n.readUint32()),this.traf_number=n["readUint"+8*(this.length_size_of_traf_num+1)](),this.trun_number=n["readUint"+8*(this.length_size_of_trun_num+1)](),this.sample_number=n["readUint"+8*(this.length_size_of_sample_num+1)]()}),o.createFullBoxCtor("tkhd","TrackHeaderBox",function(n){this.version==1?(this.creation_time=n.readUint64(),this.modification_time=n.readUint64(),this.track_id=n.readUint32(),n.readUint32(),this.duration=n.readUint64()):(this.creation_time=n.readUint32(),this.modification_time=n.readUint32(),this.track_id=n.readUint32(),n.readUint32(),this.duration=n.readUint32()),n.readUint32Array(2),this.layer=n.readInt16(),this.alternate_group=n.readInt16(),this.volume=n.readInt16()>>8,n.readUint16(),this.matrix=n.readInt32Array(9),this.width=n.readUint32(),this.height=n.readUint32()}),o.createBoxCtor("tmax","hintmaxrelativetime",function(n){this.time=n.readUint32()}),o.createBoxCtor("tmin","hintminrelativetime",function(n){this.time=n.readUint32()}),o.createBoxCtor("totl","hintBytesSent",function(n){this.bytessent=n.readUint32()}),o.createBoxCtor("tpay","hintBytesSent",function(n){this.bytessent=n.readUint32()}),o.createBoxCtor("tpyl","hintBytesSent",function(n){this.bytessent=n.readUint64()}),o.TrackGroupTypeBox.prototype.parse=function(n){this.parseFullHeader(n),this.track_group_id=n.readUint32()},o.createTrackGroupCtor("msrc"),o.TrackReferenceTypeBox=function(n,r,u,c){o.Box.call(this,n,r),this.hdr_size=u,this.start=c},o.TrackReferenceTypeBox.prototype=new o.Box,o.TrackReferenceTypeBox.prototype.parse=function(n){this.track_ids=n.readUint32Array((this.size-this.hdr_size)/4)},o.trefBox.prototype.parse=function(n){for(var r,u;n.getPosition()<this.start+this.size;)if(r=o.parseOneBox(n,!0,this.size-(n.getPosition()-this.start)),r.code===o.OK)u=new o.TrackReferenceTypeBox(r.type,r.size,r.hdr_size,r.start),u.write===o.Box.prototype.write&&u.type!=="mdat"&&(_.info("BoxParser","TrackReference "+u.type+" box writing not yet implemented, keeping unparsed data in memory for later write"),u.parseDataAndRewind(n)),u.parse(n),this.boxes.push(u);else return},o.createFullBoxCtor("trep","TrackExtensionPropertiesBox",function(n){for(this.track_ID=n.readUint32(),this.boxes=[];n.getPosition()<this.start+this.size;)if(ret=o.parseOneBox(n,!1,this.size-(n.getPosition()-this.start)),ret.code===o.OK)box=ret.box,this.boxes.push(box);else return}),o.createFullBoxCtor("trex","TrackExtendsBox",function(n){this.track_id=n.readUint32(),this.default_sample_description_index=n.readUint32(),this.default_sample_duration=n.readUint32(),this.default_sample_size=n.readUint32(),this.default_sample_flags=n.readUint32()}),o.createBoxCtor("trpy","hintBytesSent",function(n){this.bytessent=n.readUint64()}),o.createFullBoxCtor("trun","TrackRunBox",function(n){var r=0;if(this.sample_count=n.readUint32(),r+=4,this.size-this.hdr_size>r&&this.flags&o.TRUN_FLAGS_DATA_OFFSET?(this.data_offset=n.readInt32(),r+=4):this.data_offset=0,this.size-this.hdr_size>r&&this.flags&o.TRUN_FLAGS_FIRST_FLAG?(this.first_sample_flags=n.readUint32(),r+=4):this.first_sample_flags=0,this.sample_duration=[],this.sample_size=[],this.sample_flags=[],this.sample_composition_time_offset=[],this.size-this.hdr_size>r)for(var u=0;u<this.sample_count;u++)this.flags&o.TRUN_FLAGS_DURATION&&(this.sample_duration[u]=n.readUint32()),this.flags&o.TRUN_FLAGS_SIZE&&(this.sample_size[u]=n.readUint32()),this.flags&o.TRUN_FLAGS_FLAGS&&(this.sample_flags[u]=n.readUint32()),this.flags&o.TRUN_FLAGS_CTS_OFFSET&&(this.version===0?this.sample_composition_time_offset[u]=n.readUint32():this.sample_composition_time_offset[u]=n.readInt32())}),o.createFullBoxCtor("tsel","TrackSelectionBox",function(n){this.switch_group=n.readUint32();var r=(this.size-this.hdr_size-4)/4;this.attribute_list=[];for(var u=0;u<r;u++)this.attribute_list[u]=n.readUint32()}),o.createFullBoxCtor("txtC","TextConfigBox",function(n){this.config=n.readCString()}),o.createBoxCtor("tyco","TypeCombinationBox",function(n){var r=(this.size-this.hdr_size)/4;this.compatible_brands=[];for(var u=0;u<r;u++)this.compatible_brands[u]=n.readString(4)}),o.createFullBoxCtor("udes","UserDescriptionProperty",function(n){this.lang=n.readCString(),this.name=n.readCString(),this.description=n.readCString(),this.tags=n.readCString()}),o.createFullBoxCtor("uncC","UncompressedFrameConfigBox",function(n){var r;if(this.profile=n.readString(4),this.version!=1){if(this.version==0){for(this.component_count=n.readUint32(),this.component_index=[],this.component_bit_depth_minus_one=[],this.component_format=[],this.component_align_size=[],r=0;r<this.component_count;r++)this.component_index.push(n.readUint16()),this.component_bit_depth_minus_one.push(n.readUint8()),this.component_format.push(n.readUint8()),this.component_align_size.push(n.readUint8());this.sampling_type=n.readUint8(),this.interleave_type=n.readUint8(),this.block_size=n.readUint8();var u=n.readUint8();this.component_little_endian=u>>7&1,this.block_pad_lsb=u>>6&1,this.block_little_endian=u>>5&1,this.block_reversed=u>>4&1,this.pad_unknown=u>>3&1,this.pixel_size=n.readUint32(),this.row_align_size=n.readUint32(),this.tile_align_size=n.readUint32(),this.num_tile_cols_minus_one=n.readUint32(),this.num_tile_rows_minus_one=n.readUint32()}}}),o.createFullBoxCtor("url ","DataEntryUrlBox",function(n){this.flags!==1&&(this.location=n.readCString())}),o.createFullBoxCtor("urn ","DataEntryUrnBox",function(n){this.name=n.readCString(),this.size-this.hdr_size-this.name.length-1>0&&(this.location=n.readCString())}),o.createUUIDBox("a5d40b30e81411ddba2f0800200c9a66","LiveServerManifestBox",!0,!1,function(n){this.LiveServerManifest=n.readString(this.size-this.hdr_size).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}),o.createUUIDBox("d08a4f1810f34a82b6c832d8aba183d3","PiffProtectionSystemSpecificHeaderBox",!0,!1,function(n){this.system_id=o.parseHex16(n);var r=n.readUint32();r>0&&(this.data=n.readUint8Array(r))}),o.createUUIDBox("a2394f525a9b4f14a2446c427c648df4","PiffSampleEncryptionBox",!0,!1),o.createUUIDBox("8974dbce7be74c5184f97148f9882554","PiffTrackEncryptionBox",!0,!1,function(n){this.default_AlgorithmID=n.readUint24(),this.default_IV_size=n.readUint8(),this.default_KID=o.parseHex16(n)}),o.createUUIDBox("d4807ef2ca3946958e5426cb9e46a79f","TfrfBox",!0,!1,function(n){this.fragment_count=n.readUint8(),this.entries=[];for(var r=0;r<this.fragment_count;r++){var u={},c=0,p=0;this.version===1?(c=n.readUint64(),p=n.readUint64()):(c=n.readUint32(),p=n.readUint32()),u.absolute_time=c,u.absolute_duration=p,this.entries.push(u)}}),o.createUUIDBox("6d1d9b0542d544e680e2141daff757b2","TfxdBox",!0,!1,function(n){this.version===1?(this.absolute_time=n.readUint64(),this.duration=n.readUint64()):(this.absolute_time=n.readUint32(),this.duration=n.readUint32())}),o.createFullBoxCtor("vmhd","VideoMediaHeaderBox",function(n){this.graphicsmode=n.readUint16(),this.opcolor=n.readUint16Array(3)}),o.createFullBoxCtor("vpcC","VPCodecConfigurationRecord",function(n){var r;this.version===1?(this.profile=n.readUint8(),this.level=n.readUint8(),r=n.readUint8(),this.bitDepth=r>>4,this.chromaSubsampling=r>>1&7,this.videoFullRangeFlag=r&1,this.colourPrimaries=n.readUint8(),this.transferCharacteristics=n.readUint8(),this.matrixCoefficients=n.readUint8(),this.codecIntializationDataSize=n.readUint16(),this.codecIntializationData=n.readUint8Array(this.codecIntializationDataSize)):(this.profile=n.readUint8(),this.level=n.readUint8(),r=n.readUint8(),this.bitDepth=r>>4&15,this.colorSpace=r&15,r=n.readUint8(),this.chromaSubsampling=r>>4&15,this.transferFunction=r>>1&7,this.videoFullRangeFlag=r&1,this.codecIntializationDataSize=n.readUint16(),this.codecIntializationData=n.readUint8Array(this.codecIntializationDataSize))}),o.createBoxCtor("vttC","WebVTTConfigurationBox",function(n){this.text=n.readString(this.size-this.hdr_size)}),o.createFullBoxCtor("vvcC","VvcConfigurationBox",function(n){var r,u,c={held_bits:void 0,num_held_bits:0,stream_read_1_bytes:function($){this.held_bits=$.readUint8(),this.num_held_bits=8},stream_read_2_bytes:function($){this.held_bits=$.readUint16(),this.num_held_bits=16},extract_bits:function($){var Ut=this.held_bits>>this.num_held_bits-$&(1<<$)-1;return this.num_held_bits-=$,Ut}};if(c.stream_read_1_bytes(n),c.extract_bits(5),this.lengthSizeMinusOne=c.extract_bits(2),this.ptl_present_flag=c.extract_bits(1),this.ptl_present_flag){c.stream_read_2_bytes(n),this.ols_idx=c.extract_bits(9),this.num_sublayers=c.extract_bits(3),this.constant_frame_rate=c.extract_bits(2),this.chroma_format_idc=c.extract_bits(2),c.stream_read_1_bytes(n),this.bit_depth_minus8=c.extract_bits(3),c.extract_bits(5);{if(c.stream_read_2_bytes(n),c.extract_bits(2),this.num_bytes_constraint_info=c.extract_bits(6),this.general_profile_idc=c.extract_bits(7),this.general_tier_flag=c.extract_bits(1),this.general_level_idc=n.readUint8(),c.stream_read_1_bytes(n),this.ptl_frame_only_constraint_flag=c.extract_bits(1),this.ptl_multilayer_enabled_flag=c.extract_bits(1),this.general_constraint_info=new Uint8Array(this.num_bytes_constraint_info),this.num_bytes_constraint_info){for(r=0;r<this.num_bytes_constraint_info-1;r++){var p=c.extract_bits(6);c.stream_read_1_bytes(n);var v=c.extract_bits(2);this.general_constraint_info[r]=p<<2|v}this.general_constraint_info[this.num_bytes_constraint_info-1]=c.extract_bits(6)}else c.extract_bits(6);if(this.num_sublayers>1){for(c.stream_read_1_bytes(n),this.ptl_sublayer_present_mask=0,u=this.num_sublayers-2;u>=0;--u){var E=c.extract_bits(1);this.ptl_sublayer_present_mask|=E<<u}for(u=this.num_sublayers;u<=8&&this.num_sublayers>1;++u)c.extract_bits(1);for(this.sublayer_level_idc=[],u=this.num_sublayers-2;u>=0;--u)this.ptl_sublayer_present_mask&1<<u&&(this.sublayer_level_idc[u]=n.readUint8())}if(this.ptl_num_sub_profiles=n.readUint8(),this.general_sub_profile_idc=[],this.ptl_num_sub_profiles)for(r=0;r<this.ptl_num_sub_profiles;r++)this.general_sub_profile_idc.push(n.readUint32())}this.max_picture_width=n.readUint16(),this.max_picture_height=n.readUint16(),this.avg_frame_rate=n.readUint16()}var C=12,H=13;this.nalu_arrays=[];var Y=n.readUint8();for(r=0;r<Y;r++){var P=[];this.nalu_arrays.push(P),c.stream_read_1_bytes(n),P.completeness=c.extract_bits(1),c.extract_bits(2),P.nalu_type=c.extract_bits(5);var Z=1;for(P.nalu_type!=H&&P.nalu_type!=C&&(Z=n.readUint16()),u=0;u<Z;u++){var at=n.readUint16();P.push({data:n.readUint8Array(at),length:at})}}}),o.createFullBoxCtor("vvnC","VvcNALUConfigBox",function(n){var r=strm.readUint8();this.lengthSizeMinusOne=r&3}),o.SampleEntry.prototype.isVideo=function(){return!1},o.SampleEntry.prototype.isAudio=function(){return!1},o.SampleEntry.prototype.isSubtitle=function(){return!1},o.SampleEntry.prototype.isMetadata=function(){return!1},o.SampleEntry.prototype.isHint=function(){return!1},o.SampleEntry.prototype.getCodec=function(){return this.type.replace(".","")},o.SampleEntry.prototype.getWidth=function(){return""},o.SampleEntry.prototype.getHeight=function(){return""},o.SampleEntry.prototype.getChannelCount=function(){return""},o.SampleEntry.prototype.getSampleRate=function(){return""},o.SampleEntry.prototype.getSampleSize=function(){return""},o.VisualSampleEntry.prototype.isVideo=function(){return!0},o.VisualSampleEntry.prototype.getWidth=function(){return this.width},o.VisualSampleEntry.prototype.getHeight=function(){return this.height},o.AudioSampleEntry.prototype.isAudio=function(){return!0},o.AudioSampleEntry.prototype.getChannelCount=function(){return this.channel_count},o.AudioSampleEntry.prototype.getSampleRate=function(){return this.samplerate},o.AudioSampleEntry.prototype.getSampleSize=function(){return this.samplesize},o.SubtitleSampleEntry.prototype.isSubtitle=function(){return!0},o.MetadataSampleEntry.prototype.isMetadata=function(){return!0},o.decimalToHex=function(n,r){var u=Number(n).toString(16);for(r=typeof r>"u"||r===null?r=2:r;u.length<r;)u="0"+u;return u},o.avc1SampleEntry.prototype.getCodec=o.avc2SampleEntry.prototype.getCodec=o.avc3SampleEntry.prototype.getCodec=o.avc4SampleEntry.prototype.getCodec=function(){var n=o.SampleEntry.prototype.getCodec.call(this);return this.avcC?n+"."+o.decimalToHex(this.avcC.AVCProfileIndication)+o.decimalToHex(this.avcC.profile_compatibility)+o.decimalToHex(this.avcC.AVCLevelIndication):n},o.hev1SampleEntry.prototype.getCodec=o.hvc1SampleEntry.prototype.getCodec=function(){var n,r=o.SampleEntry.prototype.getCodec.call(this);if(this.hvcC){switch(r+=".",this.hvcC.general_profile_space){case 0:r+="";break;case 1:r+="A";break;case 2:r+="B";break;case 3:r+="C";break}r+=this.hvcC.general_profile_idc,r+=".";var u=this.hvcC.general_profile_compatibility,c=0;for(n=0;n<32&&(c|=u&1,n!=31);n++)c<<=1,u>>=1;r+=o.decimalToHex(c,0),r+=".",this.hvcC.general_tier_flag===0?r+="L":r+="H",r+=this.hvcC.general_level_idc;var p=!1,v="";for(n=5;n>=0;n--)(this.hvcC.general_constraint_indicator[n]||p)&&(v="."+o.decimalToHex(this.hvcC.general_constraint_indicator[n],0)+v,p=!0);r+=v}return r},o.vvc1SampleEntry.prototype.getCodec=o.vvi1SampleEntry.prototype.getCodec=function(){var n,r=o.SampleEntry.prototype.getCodec.call(this);if(this.vvcC){r+="."+this.vvcC.general_profile_idc,this.vvcC.general_tier_flag?r+=".H":r+=".L",r+=this.vvcC.general_level_idc;var u="";if(this.vvcC.general_constraint_info){var c=[],p=0;p|=this.vvcC.ptl_frame_only_constraint<<7,p|=this.vvcC.ptl_multilayer_enabled<<6;var v;for(n=0;n<this.vvcC.general_constraint_info.length;++n)p|=this.vvcC.general_constraint_info[n]>>2&63,c.push(p),p&&(v=n),p=this.vvcC.general_constraint_info[n]>>2&3;if(v===void 0)u=".CA";else{u=".C";var E="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",C=0,H=0;for(n=0;n<=v;++n)for(C=C<<8|c[n],H+=8;H>=5;){var Y=C>>H-5&31;u+=E[Y],H-=5,C&=(1<<H)-1}H&&(C<<=5-H,u+=E[C&31])}}r+=u}return r},o.mp4aSampleEntry.prototype.getCodec=function(){var n=o.SampleEntry.prototype.getCodec.call(this);if(this.esds&&this.esds.esd){var r=this.esds.esd.getOTI(),u=this.esds.esd.getAudioConfig();return n+"."+o.decimalToHex(r)+(u?"."+u:"")}else return n},o.stxtSampleEntry.prototype.getCodec=function(){var n=o.SampleEntry.prototype.getCodec.call(this);return this.mime_format?n+"."+this.mime_format:n},o.vp08SampleEntry.prototype.getCodec=o.vp09SampleEntry.prototype.getCodec=function(){var n=o.SampleEntry.prototype.getCodec.call(this),r=this.vpcC.level;r==0&&(r="00");var u=this.vpcC.bitDepth;return u==8&&(u="08"),n+".0"+this.vpcC.profile+"."+r+"."+u},o.av01SampleEntry.prototype.getCodec=function(){var n=o.SampleEntry.prototype.getCodec.call(this),r=this.av1C.seq_level_idx_0;r<10&&(r="0"+r);var u;return this.av1C.seq_profile===2&&this.av1C.high_bitdepth===1?u=this.av1C.twelve_bit===1?"12":"10":this.av1C.seq_profile<=2&&(u=this.av1C.high_bitdepth===1?"10":"08"),n+"."+this.av1C.seq_profile+"."+r+(this.av1C.seq_tier_0?"H":"M")+"."+u},o.Box.prototype.writeHeader=function(n,r){this.size+=8,this.size>S&&(this.size+=8),this.type==="uuid"&&(this.size+=16),_.debug("BoxWriter","Writing box "+this.type+" of size: "+this.size+" at position "+n.getPosition()+(r||"")),this.size>S?n.writeUint32(1):(this.sizePosition=n.getPosition(),n.writeUint32(this.size)),n.writeString(this.type,null,4),this.type==="uuid"&&n.writeUint8Array(this.uuid),this.size>S&&n.writeUint64(this.size)},o.FullBox.prototype.writeHeader=function(n){this.size+=4,o.Box.prototype.writeHeader.call(this,n," v="+this.version+" f="+this.flags),n.writeUint8(this.version),n.writeUint24(this.flags)},o.Box.prototype.write=function(n){this.type==="mdat"?this.data&&(this.size=this.data.length,this.writeHeader(n),n.writeUint8Array(this.data)):(this.size=this.data?this.data.length:0,this.writeHeader(n),this.data&&n.writeUint8Array(this.data))},o.ContainerBox.prototype.write=function(n){this.size=0,this.writeHeader(n);for(var r=0;r<this.boxes.length;r++)this.boxes[r]&&(this.boxes[r].write(n),this.size+=this.boxes[r].size);_.debug("BoxWriter","Adjusting box "+this.type+" with new size "+this.size),n.adjustUint32(this.sizePosition,this.size)},o.TrackReferenceTypeBox.prototype.write=function(n){this.size=this.track_ids.length*4,this.writeHeader(n),n.writeUint32Array(this.track_ids)},o.avcCBox.prototype.write=function(n){var r;for(this.size=7,r=0;r<this.SPS.length;r++)this.size+=2+this.SPS[r].length;for(r=0;r<this.PPS.length;r++)this.size+=2+this.PPS[r].length;for(this.ext&&(this.size+=this.ext.length),this.writeHeader(n),n.writeUint8(this.configurationVersion),n.writeUint8(this.AVCProfileIndication),n.writeUint8(this.profile_compatibility),n.writeUint8(this.AVCLevelIndication),n.writeUint8(this.lengthSizeMinusOne+252),n.writeUint8(this.SPS.length+224),r=0;r<this.SPS.length;r++)n.writeUint16(this.SPS[r].length),n.writeUint8Array(this.SPS[r].nalu);for(n.writeUint8(this.PPS.length),r=0;r<this.PPS.length;r++)n.writeUint16(this.PPS[r].length),n.writeUint8Array(this.PPS[r].nalu);this.ext&&n.writeUint8Array(this.ext)},o.co64Box.prototype.write=function(n){var r;for(this.version=0,this.flags=0,this.size=4+8*this.chunk_offsets.length,this.writeHeader(n),n.writeUint32(this.chunk_offsets.length),r=0;r<this.chunk_offsets.length;r++)n.writeUint64(this.chunk_offsets[r])},o.cslgBox.prototype.write=function(n){this.version=0,this.flags=0,this.size=20,this.writeHeader(n),n.writeInt32(this.compositionToDTSShift),n.writeInt32(this.leastDecodeToDisplayDelta),n.writeInt32(this.greatestDecodeToDisplayDelta),n.writeInt32(this.compositionStartTime),n.writeInt32(this.compositionEndTime)},o.cttsBox.prototype.write=function(n){var r;for(this.version=0,this.flags=0,this.size=4+8*this.sample_counts.length,this.writeHeader(n),n.writeUint32(this.sample_counts.length),r=0;r<this.sample_counts.length;r++)n.writeUint32(this.sample_counts[r]),this.version===1?n.writeInt32(this.sample_offsets[r]):n.writeUint32(this.sample_offsets[r])},o.drefBox.prototype.write=function(n){this.version=0,this.flags=0,this.size=4,this.writeHeader(n),n.writeUint32(this.entries.length);for(var r=0;r<this.entries.length;r++)this.entries[r].write(n),this.size+=this.entries[r].size;_.debug("BoxWriter","Adjusting box "+this.type+" with new size "+this.size),n.adjustUint32(this.sizePosition,this.size)},o.elngBox.prototype.write=function(n){this.version=0,this.flags=0,this.size=this.extended_language.length,this.writeHeader(n),n.writeString(this.extended_language)},o.elstBox.prototype.write=function(n){this.version=0,this.flags=0,this.size=4+12*this.entries.length,this.writeHeader(n),n.writeUint32(this.entries.length);for(var r=0;r<this.entries.length;r++){var u=this.entries[r];n.writeUint32(u.segment_duration),n.writeInt32(u.media_time),n.writeInt16(u.media_rate_integer),n.writeInt16(u.media_rate_fraction)}},o.emsgBox.prototype.write=function(n){this.version=0,this.flags=0,this.size=16+this.message_data.length+(this.scheme_id_uri.length+1)+(this.value.length+1),this.writeHeader(n),n.writeCString(this.scheme_id_uri),n.writeCString(this.value),n.writeUint32(this.timescale),n.writeUint32(this.presentation_time_delta),n.writeUint32(this.event_duration),n.writeUint32(this.id),n.writeUint8Array(this.message_data)},o.ftypBox.prototype.write=function(n){this.size=8+4*this.compatible_brands.length,this.writeHeader(n),n.writeString(this.major_brand,null,4),n.writeUint32(this.minor_version);for(var r=0;r<this.compatible_brands.length;r++)n.writeString(this.compatible_brands[r],null,4)},o.hdlrBox.prototype.write=function(n){this.size=20+this.name.length+1,this.version=0,this.flags=0,this.writeHeader(n),n.writeUint32(0),n.writeString(this.handler,null,4),n.writeUint32(0),n.writeUint32(0),n.writeUint32(0),n.writeCString(this.name)},o.hvcCBox.prototype.write=function(n){var r,u;for(this.size=23,r=0;r<this.nalu_arrays.length;r++)for(this.size+=3,u=0;u<this.nalu_arrays[r].length;u++)this.size+=2+this.nalu_arrays[r][u].data.length;for(this.writeHeader(n),n.writeUint8(this.configurationVersion),n.writeUint8((this.general_profile_space<<6)+(this.general_tier_flag<<5)+this.general_profile_idc),n.writeUint32(this.general_profile_compatibility),n.writeUint8Array(this.general_constraint_indicator),n.writeUint8(this.general_level_idc),n.writeUint16(this.min_spatial_segmentation_idc+(15<<24)),n.writeUint8(this.parallelismType+252),n.writeUint8(this.chroma_format_idc+252),n.writeUint8(this.bit_depth_luma_minus8+248),n.writeUint8(this.bit_depth_chroma_minus8+248),n.writeUint16(this.avgFrameRate),n.writeUint8((this.constantFrameRate<<6)+(this.numTemporalLayers<<3)+(this.temporalIdNested<<2)+this.lengthSizeMinusOne),n.writeUint8(this.nalu_arrays.length),r=0;r<this.nalu_arrays.length;r++)for(n.writeUint8((this.nalu_arrays[r].completeness<<7)+this.nalu_arrays[r].nalu_type),n.writeUint16(this.nalu_arrays[r].length),u=0;u<this.nalu_arrays[r].length;u++)n.writeUint16(this.nalu_arrays[r][u].data.length),n.writeUint8Array(this.nalu_arrays[r][u].data)},o.kindBox.prototype.write=function(n){this.version=0,this.flags=0,this.size=this.schemeURI.length+1+(this.value.length+1),this.writeHeader(n),n.writeCString(this.schemeURI),n.writeCString(this.value)},o.mdhdBox.prototype.write=function(n){this.size=20,this.flags=0,this.version=0,this.writeHeader(n),n.writeUint32(this.creation_time),n.writeUint32(this.modification_time),n.writeUint32(this.timescale),n.writeUint32(this.duration),n.writeUint16(this.language),n.writeUint16(0)},o.mehdBox.prototype.write=function(n){this.version=0,this.flags=0,this.size=4,this.writeHeader(n),n.writeUint32(this.fragment_duration)},o.mfhdBox.prototype.write=function(n){this.version=0,this.flags=0,this.size=4,this.writeHeader(n),n.writeUint32(this.sequence_number)},o.mvhdBox.prototype.write=function(n){this.version=0,this.flags=0,this.size=96,this.writeHeader(n),n.writeUint32(this.creation_time),n.writeUint32(this.modification_time),n.writeUint32(this.timescale),n.writeUint32(this.duration),n.writeUint32(this.rate),n.writeUint16(this.volume<<8),n.writeUint16(0),n.writeUint32(0),n.writeUint32(0),n.writeUint32Array(this.matrix),n.writeUint32(0),n.writeUint32(0),n.writeUint32(0),n.writeUint32(0),n.writeUint32(0),n.writeUint32(0),n.writeUint32(this.next_track_id)},o.SampleEntry.prototype.writeHeader=function(n){this.size=8,o.Box.prototype.writeHeader.call(this,n),n.writeUint8(0),n.writeUint8(0),n.writeUint8(0),n.writeUint8(0),n.writeUint8(0),n.writeUint8(0),n.writeUint16(this.data_reference_index)},o.SampleEntry.prototype.writeFooter=function(n){for(var r=0;r<this.boxes.length;r++)this.boxes[r].write(n),this.size+=this.boxes[r].size;_.debug("BoxWriter","Adjusting box "+this.type+" with new size "+this.size),n.adjustUint32(this.sizePosition,this.size)},o.SampleEntry.prototype.write=function(n){this.writeHeader(n),n.writeUint8Array(this.data),this.size+=this.data.length,_.debug("BoxWriter","Adjusting box "+this.type+" with new size "+this.size),n.adjustUint32(this.sizePosition,this.size)},o.VisualSampleEntry.prototype.write=function(n){this.writeHeader(n),this.size+=70,n.writeUint16(0),n.writeUint16(0),n.writeUint32(0),n.writeUint32(0),n.writeUint32(0),n.writeUint16(this.width),n.writeUint16(this.height),n.writeUint32(this.horizresolution),n.writeUint32(this.vertresolution),n.writeUint32(0),n.writeUint16(this.frame_count),n.writeUint8(Math.min(31,this.compressorname.length)),n.writeString(this.compressorname,null,31),n.writeUint16(this.depth),n.writeInt16(-1),this.writeFooter(n)},o.AudioSampleEntry.prototype.write=function(n){this.writeHeader(n),this.size+=20,n.writeUint32(0),n.writeUint32(0),n.writeUint16(this.channel_count),n.writeUint16(this.samplesize),n.writeUint16(0),n.writeUint16(0),n.writeUint32(this.samplerate<<16),this.writeFooter(n)},o.stppSampleEntry.prototype.write=function(n){this.writeHeader(n),this.size+=this.namespace.length+1+this.schema_location.length+1+this.auxiliary_mime_types.length+1,n.writeCString(this.namespace),n.writeCString(this.schema_location),n.writeCString(this.auxiliary_mime_types),this.writeFooter(n)},o.SampleGroupEntry.prototype.write=function(n){n.writeUint8Array(this.data)},o.sbgpBox.prototype.write=function(n){this.version=1,this.flags=0,this.size=12+8*this.entries.length,this.writeHeader(n),n.writeString(this.grouping_type,null,4),n.writeUint32(this.grouping_type_parameter),n.writeUint32(this.entries.length);for(var r=0;r<this.entries.length;r++){var u=this.entries[r];n.writeInt32(u.sample_count),n.writeInt32(u.group_description_index)}},o.sgpdBox.prototype.write=function(n){var r,u;for(this.flags=0,this.size=12,r=0;r<this.entries.length;r++)u=this.entries[r],this.version===1&&(this.default_length===0&&(this.size+=4),this.size+=u.data.length);for(this.writeHeader(n),n.writeString(this.grouping_type,null,4),this.version===1&&n.writeUint32(this.default_length),this.version>=2&&n.writeUint32(this.default_sample_description_index),n.writeUint32(this.entries.length),r=0;r<this.entries.length;r++)u=this.entries[r],this.version===1&&this.default_length===0&&n.writeUint32(u.description_length),u.write(n)},o.sidxBox.prototype.write=function(n){this.version=0,this.flags=0,this.size=20+12*this.references.length,this.writeHeader(n),n.writeUint32(this.reference_ID),n.writeUint32(this.timescale),n.writeUint32(this.earliest_presentation_time),n.writeUint32(this.first_offset),n.writeUint16(0),n.writeUint16(this.references.length);for(var r=0;r<this.references.length;r++){var u=this.references[r];n.writeUint32(u.reference_type<<31|u.referenced_size),n.writeUint32(u.subsegment_duration),n.writeUint32(u.starts_with_SAP<<31|u.SAP_type<<28|u.SAP_delta_time)}},o.smhdBox.prototype.write=function(n){this.version=0,this.flags=1,this.size=4,this.writeHeader(n),n.writeUint16(this.balance),n.writeUint16(0)},o.stcoBox.prototype.write=function(n){this.version=0,this.flags=0,this.size=4+4*this.chunk_offsets.length,this.writeHeader(n),n.writeUint32(this.chunk_offsets.length),n.writeUint32Array(this.chunk_offsets)},o.stscBox.prototype.write=function(n){var r;for(this.version=0,this.flags=0,this.size=4+12*this.first_chunk.length,this.writeHeader(n),n.writeUint32(this.first_chunk.length),r=0;r<this.first_chunk.length;r++)n.writeUint32(this.first_chunk[r]),n.writeUint32(this.samples_per_chunk[r]),n.writeUint32(this.sample_description_index[r])},o.stsdBox.prototype.write=function(n){var r;for(this.version=0,this.flags=0,this.size=0,this.writeHeader(n),n.writeUint32(this.entries.length),this.size+=4,r=0;r<this.entries.length;r++)this.entries[r].write(n),this.size+=this.entries[r].size;_.debug("BoxWriter","Adjusting box "+this.type+" with new size "+this.size),n.adjustUint32(this.sizePosition,this.size)},o.stshBox.prototype.write=function(n){var r;for(this.version=0,this.flags=0,this.size=4+8*this.shadowed_sample_numbers.length,this.writeHeader(n),n.writeUint32(this.shadowed_sample_numbers.length),r=0;r<this.shadowed_sample_numbers.length;r++)n.writeUint32(this.shadowed_sample_numbers[r]),n.writeUint32(this.sync_sample_numbers[r])},o.stssBox.prototype.write=function(n){this.version=0,this.flags=0,this.size=4+4*this.sample_numbers.length,this.writeHeader(n),n.writeUint32(this.sample_numbers.length),n.writeUint32Array(this.sample_numbers)},o.stszBox.prototype.write=function(n){var r,u=!0;if(this.version=0,this.flags=0,this.sample_sizes.length>0)for(r=0;r+1<this.sample_sizes.length;)if(this.sample_sizes[r+1]!==this.sample_sizes[0]){u=!1;break}else r++;else u=!1;this.size=8,u||(this.size+=4*this.sample_sizes.length),this.writeHeader(n),u?n.writeUint32(this.sample_sizes[0]):n.writeUint32(0),n.writeUint32(this.sample_sizes.length),u||n.writeUint32Array(this.sample_sizes)},o.sttsBox.prototype.write=function(n){var r;for(this.version=0,this.flags=0,this.size=4+8*this.sample_counts.length,this.writeHeader(n),n.writeUint32(this.sample_counts.length),r=0;r<this.sample_counts.length;r++)n.writeUint32(this.sample_counts[r]),n.writeUint32(this.sample_deltas[r])},o.tfdtBox.prototype.write=function(n){var r=Math.pow(2,32)-1;this.version=this.baseMediaDecodeTime>r?1:0,this.flags=0,this.size=4,this.version===1&&(this.size+=4),this.writeHeader(n),this.version===1?n.writeUint64(this.baseMediaDecodeTime):n.writeUint32(this.baseMediaDecodeTime)},o.tfhdBox.prototype.write=function(n){this.version=0,this.size=4,this.flags&o.TFHD_FLAG_BASE_DATA_OFFSET&&(this.size+=8),this.flags&o.TFHD_FLAG_SAMPLE_DESC&&(this.size+=4),this.flags&o.TFHD_FLAG_SAMPLE_DUR&&(this.size+=4),this.flags&o.TFHD_FLAG_SAMPLE_SIZE&&(this.size+=4),this.flags&o.TFHD_FLAG_SAMPLE_FLAGS&&(this.size+=4),this.writeHeader(n),n.writeUint32(this.track_id),this.flags&o.TFHD_FLAG_BASE_DATA_OFFSET&&n.writeUint64(this.base_data_offset),this.flags&o.TFHD_FLAG_SAMPLE_DESC&&n.writeUint32(this.default_sample_description_index),this.flags&o.TFHD_FLAG_SAMPLE_DUR&&n.writeUint32(this.default_sample_duration),this.flags&o.TFHD_FLAG_SAMPLE_SIZE&&n.writeUint32(this.default_sample_size),this.flags&o.TFHD_FLAG_SAMPLE_FLAGS&&n.writeUint32(this.default_sample_flags)},o.tkhdBox.prototype.write=function(n){this.version=0,this.size=80,this.writeHeader(n),n.writeUint32(this.creation_time),n.writeUint32(this.modification_time),n.writeUint32(this.track_id),n.writeUint32(0),n.writeUint32(this.duration),n.writeUint32(0),n.writeUint32(0),n.writeInt16(this.layer),n.writeInt16(this.alternate_group),n.writeInt16(this.volume<<8),n.writeUint16(0),n.writeInt32Array(this.matrix),n.writeUint32(this.width),n.writeUint32(this.height)},o.trexBox.prototype.write=function(n){this.version=0,this.flags=0,this.size=20,this.writeHeader(n),n.writeUint32(this.track_id),n.writeUint32(this.default_sample_description_index),n.writeUint32(this.default_sample_duration),n.writeUint32(this.default_sample_size),n.writeUint32(this.default_sample_flags)},o.trunBox.prototype.write=function(n){this.version=0,this.size=4,this.flags&o.TRUN_FLAGS_DATA_OFFSET&&(this.size+=4),this.flags&o.TRUN_FLAGS_FIRST_FLAG&&(this.size+=4),this.flags&o.TRUN_FLAGS_DURATION&&(this.size+=4*this.sample_duration.length),this.flags&o.TRUN_FLAGS_SIZE&&(this.size+=4*this.sample_size.length),this.flags&o.TRUN_FLAGS_FLAGS&&(this.size+=4*this.sample_flags.length),this.flags&o.TRUN_FLAGS_CTS_OFFSET&&(this.size+=4*this.sample_composition_time_offset.length),this.writeHeader(n),n.writeUint32(this.sample_count),this.flags&o.TRUN_FLAGS_DATA_OFFSET&&(this.data_offset_position=n.getPosition(),n.writeInt32(this.data_offset)),this.flags&o.TRUN_FLAGS_FIRST_FLAG&&n.writeUint32(this.first_sample_flags);for(var r=0;r<this.sample_count;r++)this.flags&o.TRUN_FLAGS_DURATION&&n.writeUint32(this.sample_duration[r]),this.flags&o.TRUN_FLAGS_SIZE&&n.writeUint32(this.sample_size[r]),this.flags&o.TRUN_FLAGS_FLAGS&&n.writeUint32(this.sample_flags[r]),this.flags&o.TRUN_FLAGS_CTS_OFFSET&&(this.version===0?n.writeUint32(this.sample_composition_time_offset[r]):n.writeInt32(this.sample_composition_time_offset[r]))},o["url Box"].prototype.write=function(n){this.version=0,this.location?(this.flags=0,this.size=this.location.length+1):(this.flags=1,this.size=0),this.writeHeader(n),this.location&&n.writeCString(this.location)},o["urn Box"].prototype.write=function(n){this.version=0,this.flags=0,this.size=this.name.length+1+(this.location?this.location.length+1:0),this.writeHeader(n),n.writeCString(this.name),this.location&&n.writeCString(this.location)},o.vmhdBox.prototype.write=function(n){this.version=0,this.flags=1,this.size=8,this.writeHeader(n),n.writeUint16(this.graphicsmode),n.writeUint16Array(this.opcolor)},o.cttsBox.prototype.unpack=function(n){var r,u,c;for(c=0,r=0;r<this.sample_counts.length;r++)for(u=0;u<this.sample_counts[r];u++)n[c].pts=n[c].dts+this.sample_offsets[r],c++},o.sttsBox.prototype.unpack=function(n){var r,u,c;for(c=0,r=0;r<this.sample_counts.length;r++)for(u=0;u<this.sample_counts[r];u++)c===0?n[c].dts=0:n[c].dts=n[c-1].dts+this.sample_deltas[r],c++},o.stcoBox.prototype.unpack=function(n){var r;for(r=0;r<this.chunk_offsets.length;r++)n[r].offset=this.chunk_offsets[r]},o.stscBox.prototype.unpack=function(n){var r,u,c,p,v;for(p=0,v=0,r=0;r<this.first_chunk.length;r++)for(u=0;u<(r+1<this.first_chunk.length?this.first_chunk[r+1]:1/0);u++)for(v++,c=0;c<this.samples_per_chunk[r];c++){if(n[p])n[p].description_index=this.sample_description_index[r],n[p].chunk_index=v;else return;p++}},o.stszBox.prototype.unpack=function(n){var r;for(r=0;r<this.sample_sizes.length;r++)n[r].size=this.sample_sizes[r]},o.DIFF_BOXES_PROP_NAMES=["boxes","entries","references","subsamples","items","item_infos","extents","associations","subsegments","ranges","seekLists","seekPoints","esd","levels"],o.DIFF_PRIMITIVE_ARRAY_PROP_NAMES=["compatible_brands","matrix","opcolor","sample_counts","sample_deltas","first_chunk","samples_per_chunk","sample_sizes","chunk_offsets","sample_offsets","sample_description_index","sample_duration"],o.boxEqualFields=function(n,r){if(n&&!r)return!1;var u;for(u in n)if(!(o.DIFF_BOXES_PROP_NAMES.indexOf(u)>-1)){if(n[u]instanceof o.Box||r[u]instanceof o.Box)continue;if(typeof n[u]>"u"||typeof r[u]>"u")continue;if(typeof n[u]=="function"||typeof r[u]=="function")continue;if(n.subBoxNames&&n.subBoxNames.indexOf(u.slice(0,4))>-1||r.subBoxNames&&r.subBoxNames.indexOf(u.slice(0,4))>-1)continue;if(u==="data"||u==="start"||u==="size"||u==="creation_time"||u==="modification_time")continue;if(o.DIFF_PRIMITIVE_ARRAY_PROP_NAMES.indexOf(u)>-1)continue;if(n[u]!==r[u])return!1}return!0},o.boxEqual=function(n,r){if(!o.boxEqualFields(n,r))return!1;for(var u=0;u<o.DIFF_BOXES_PROP_NAMES.length;u++){var c=o.DIFF_BOXES_PROP_NAMES[u];if(n[c]&&r[c]&&!o.boxEqual(n[c],r[c]))return!1}return!0};var q=function(){};q.prototype.parseSample=function(n){var r,u,c=new m(n.buffer);for(r=[];!c.isEos();)u=o.parseOneBox(c,!1),u.code===o.OK&&u.box.type==="vttc"&&r.push(u.box);return r},q.prototype.getText=function(n,r,u){function c(Y,P,Z){return Z=Z||"0",Y=Y+"",Y.length>=P?Y:new Array(P-Y.length+1).join(Z)+Y}function p(Y){var P=Math.floor(Y/3600),Z=Math.floor((Y-P*3600)/60),at=Math.floor(Y-P*3600-Z*60),$=Math.floor((Y-P*3600-Z*60-at)*1e3);return""+c(P,2)+":"+c(Z,2)+":"+c(at,2)+"."+c($,3)}for(var v=this.parseSample(u),E="",C=0;C<v.length;C++){var H=v[C];E+=p(n)+" --> "+p(r)+`\r
`,E+=H.payl.text}return E};var Q=function(){};Q.prototype.parseSample=function(n){var r={},u;r.resources=[];var c=new m(n.data.buffer);if(!n.subsamples||n.subsamples.length===0)r.documentString=c.readString(n.data.length);else if(r.documentString=c.readString(n.subsamples[0].size),n.subsamples.length>1)for(u=1;u<n.subsamples.length;u++)r.resources[u]=c.readUint8Array(n.subsamples[u].size);return typeof DOMParser<"u"&&(r.document=new DOMParser().parseFromString(r.documentString,"application/xml")),r};var W=function(){};W.prototype.parseSample=function(n){var r,u=new m(n.data.buffer);return r=u.readString(n.data.length),r},W.prototype.parseConfig=function(n){var r,u=new m(n.buffer);return u.readUint32(),r=u.readCString(),r},h.VTTin4Parser=q,h.XMLSubtitlein4Parser=Q,h.Textin4Parser=W;var O=function(n){this.stream=n||new x,this.boxes=[],this.mdats=[],this.moofs=[],this.isProgressive=!1,this.moovStartFound=!1,this.onMoovStart=null,this.moovStartSent=!1,this.onReady=null,this.readySent=!1,this.onSegment=null,this.onSamples=null,this.onError=null,this.sampleListBuilt=!1,this.fragmentedTracks=[],this.extractedTracks=[],this.isFragmentationInitialized=!1,this.sampleProcessingStarted=!1,this.nextMoofNumber=0,this.itemListBuilt=!1,this.items=[],this.entity_groups=[],this.onSidx=null,this.sidxSent=!1};O.prototype.setSegmentOptions=function(n,r,u){var c=this.getTrackById(n);if(c){var p={};this.fragmentedTracks.push(p),p.id=n,p.user=r,p.trak=c,c.nextSample=0,p.segmentStream=null,p.nb_samples=1e3,p.rapAlignement=!0,u&&(u.nbSamples&&(p.nb_samples=u.nbSamples),u.rapAlignement&&(p.rapAlignement=u.rapAlignement))}},O.prototype.unsetSegmentOptions=function(n){for(var r=-1,u=0;u<this.fragmentedTracks.length;u++){var c=this.fragmentedTracks[u];c.id==n&&(r=u)}r>-1&&this.fragmentedTracks.splice(r,1)},O.prototype.setExtractionOptions=function(n,r,u){var c=this.getTrackById(n);if(c){var p={};this.extractedTracks.push(p),p.id=n,p.user=r,p.trak=c,c.nextSample=0,p.nb_samples=1e3,p.samples=[],u&&u.nbSamples&&(p.nb_samples=u.nbSamples)}},O.prototype.unsetExtractionOptions=function(n){for(var r=-1,u=0;u<this.extractedTracks.length;u++){var c=this.extractedTracks[u];c.id==n&&(r=u)}r>-1&&this.extractedTracks.splice(r,1)},O.prototype.parse=function(){var n,r,u=!1;if(!(this.restoreParsePosition&&!this.restoreParsePosition()))for(;;)if(this.hasIncompleteMdat&&this.hasIncompleteMdat()){if(this.processIncompleteMdat())continue;return}else if(this.saveParsePosition&&this.saveParsePosition(),n=o.parseOneBox(this.stream,u),n.code===o.ERR_NOT_ENOUGH_DATA)if(this.processIncompleteBox){if(this.processIncompleteBox(n))continue;return}else return;else{var c;switch(r=n.box,c=r.type!=="uuid"?r.type:r.uuid,this.boxes.push(r),c){case"mdat":this.mdats.push(r);break;case"moof":this.moofs.push(r);break;case"moov":this.moovStartFound=!0,this.mdats.length===0&&(this.isProgressive=!0);default:this[c]!==void 0&&_.warn("ISOFile","Duplicate Box of type: "+c+", overriding previous occurrence"),this[c]=r;break}this.updateUsedBytes&&this.updateUsedBytes(r,n)}},O.prototype.checkBuffer=function(n){if(n==null)throw"Buffer must be defined and non empty";if(n.fileStart===void 0)throw"Buffer must have a fileStart property";return n.byteLength===0?(_.warn("ISOFile","Ignoring empty buffer (fileStart: "+n.fileStart+")"),this.stream.logBufferLevel(),!1):(_.info("ISOFile","Processing buffer (fileStart: "+n.fileStart+")"),n.usedBytes=0,this.stream.insertBuffer(n),this.stream.logBufferLevel(),this.stream.initialized()?!0:(_.warn("ISOFile","Not ready to start parsing"),!1))},O.prototype.appendBuffer=function(n,r){var u;if(this.checkBuffer(n))return this.parse(),this.moovStartFound&&!this.moovStartSent&&(this.moovStartSent=!0,this.onMoovStart&&this.onMoovStart()),this.moov?(this.sampleListBuilt||(this.buildSampleLists(),this.sampleListBuilt=!0),this.updateSampleLists(),this.onReady&&!this.readySent&&(this.readySent=!0,this.onReady(this.getInfo())),this.processSamples(r),this.nextSeekPosition?(u=this.nextSeekPosition,this.nextSeekPosition=void 0):u=this.nextParsePosition,this.stream.getEndFilePositionAfter&&(u=this.stream.getEndFilePositionAfter(u))):this.nextParsePosition?u=this.nextParsePosition:u=0,this.sidx&&this.onSidx&&!this.sidxSent&&(this.onSidx(this.sidx),this.sidxSent=!0),this.meta&&(this.flattenItemInfo&&!this.itemListBuilt&&(this.flattenItemInfo(),this.itemListBuilt=!0),this.processItems&&this.processItems(this.onItem)),this.stream.cleanBuffers&&(_.info("ISOFile","Done processing buffer (fileStart: "+n.fileStart+") - next buffer to fetch should have a fileStart position of "+u),this.stream.logBufferLevel(),this.stream.cleanBuffers(),this.stream.logBufferLevel(!0),_.info("ISOFile","Sample data size in memory: "+this.getAllocatedSampleDataSize())),u},O.prototype.getInfo=function(){var n,r,u={},c,p,v,E,C=new Date("1904-01-01T00:00:00Z").getTime();if(this.moov)for(u.hasMoov=!0,u.duration=this.moov.mvhd.duration,u.timescale=this.moov.mvhd.timescale,u.isFragmented=this.moov.mvex!=null,u.isFragmented&&this.moov.mvex.mehd&&(u.fragment_duration=this.moov.mvex.mehd.fragment_duration),u.isProgressive=this.isProgressive,u.hasIOD=this.moov.iods!=null,u.brands=[],u.brands.push(this.ftyp.major_brand),u.brands=u.brands.concat(this.ftyp.compatible_brands),u.created=new Date(C+this.moov.mvhd.creation_time*1e3),u.modified=new Date(C+this.moov.mvhd.modification_time*1e3),u.tracks=[],u.audioTracks=[],u.videoTracks=[],u.subtitleTracks=[],u.metadataTracks=[],u.hintTracks=[],u.otherTracks=[],n=0;n<this.moov.traks.length;n++){if(c=this.moov.traks[n],E=c.mdia.minf.stbl.stsd.entries[0],p={},u.tracks.push(p),p.id=c.tkhd.track_id,p.name=c.mdia.hdlr.name,p.references=[],c.tref)for(r=0;r<c.tref.boxes.length;r++)v={},p.references.push(v),v.type=c.tref.boxes[r].type,v.track_ids=c.tref.boxes[r].track_ids;c.edts&&(p.edits=c.edts.elst.entries),p.created=new Date(C+c.tkhd.creation_time*1e3),p.modified=new Date(C+c.tkhd.modification_time*1e3),p.movie_duration=c.tkhd.duration,p.movie_timescale=u.timescale,p.layer=c.tkhd.layer,p.alternate_group=c.tkhd.alternate_group,p.volume=c.tkhd.volume,p.matrix=c.tkhd.matrix,p.track_width=c.tkhd.width/65536,p.track_height=c.tkhd.height/65536,p.timescale=c.mdia.mdhd.timescale,p.cts_shift=c.mdia.minf.stbl.cslg,p.duration=c.mdia.mdhd.duration,p.samples_duration=c.samples_duration,p.codec=E.getCodec(),p.kind=c.udta&&c.udta.kinds.length?c.udta.kinds[0]:{schemeURI:"",value:""},p.language=c.mdia.elng?c.mdia.elng.extended_language:c.mdia.mdhd.languageString,p.nb_samples=c.samples.length,p.size=c.samples_size,p.bitrate=p.size*8*p.timescale/p.samples_duration,E.isAudio()?(p.type="audio",u.audioTracks.push(p),p.audio={},p.audio.sample_rate=E.getSampleRate(),p.audio.channel_count=E.getChannelCount(),p.audio.sample_size=E.getSampleSize()):E.isVideo()?(p.type="video",u.videoTracks.push(p),p.video={},p.video.width=E.getWidth(),p.video.height=E.getHeight()):E.isSubtitle()?(p.type="subtitles",u.subtitleTracks.push(p)):E.isHint()?(p.type="metadata",u.hintTracks.push(p)):E.isMetadata()?(p.type="metadata",u.metadataTracks.push(p)):(p.type="metadata",u.otherTracks.push(p))}else u.hasMoov=!1;if(u.mime="",u.hasMoov&&u.tracks){for(u.videoTracks&&u.videoTracks.length>0?u.mime+='video/mp4; codecs="':u.audioTracks&&u.audioTracks.length>0?u.mime+='audio/mp4; codecs="':u.mime+='application/mp4; codecs="',n=0;n<u.tracks.length;n++)n!==0&&(u.mime+=","),u.mime+=u.tracks[n].codec;u.mime+='"; profiles="',u.mime+=this.ftyp.compatible_brands.join(),u.mime+='"'}return u},O.prototype.setNextSeekPositionFromSample=function(n){n&&(this.nextSeekPosition?this.nextSeekPosition=Math.min(n.offset+n.alreadyRead,this.nextSeekPosition):this.nextSeekPosition=n.offset+n.alreadyRead)},O.prototype.processSamples=function(n){var r,u;if(this.sampleProcessingStarted){if(this.isFragmentationInitialized&&this.onSegment!==null)for(r=0;r<this.fragmentedTracks.length;r++){var c=this.fragmentedTracks[r];for(u=c.trak;u.nextSample<u.samples.length&&this.sampleProcessingStarted;){_.debug("ISOFile","Creating media fragment on track #"+c.id+" for sample "+u.nextSample);var p=this.createFragment(c.id,u.nextSample,c.segmentStream);if(p)c.segmentStream=p,u.nextSample++;else break;if((u.nextSample%c.nb_samples===0||n||u.nextSample>=u.samples.length)&&(_.info("ISOFile","Sending fragmented data on track #"+c.id+" for samples ["+Math.max(0,u.nextSample-c.nb_samples)+","+(u.nextSample-1)+"]"),_.info("ISOFile","Sample data size in memory: "+this.getAllocatedSampleDataSize()),this.onSegment&&this.onSegment(c.id,c.user,c.segmentStream.buffer,u.nextSample,n||u.nextSample>=u.samples.length),c.segmentStream=null,c!==this.fragmentedTracks[r]))break}}if(this.onSamples!==null)for(r=0;r<this.extractedTracks.length;r++){var v=this.extractedTracks[r];for(u=v.trak;u.nextSample<u.samples.length&&this.sampleProcessingStarted;){_.debug("ISOFile","Exporting on track #"+v.id+" sample #"+u.nextSample);var E=this.getSample(u,u.nextSample);if(E)u.nextSample++,v.samples.push(E);else{this.setNextSeekPositionFromSample(u.samples[u.nextSample]);break}if((u.nextSample%v.nb_samples===0||u.nextSample>=u.samples.length)&&(_.debug("ISOFile","Sending samples on track #"+v.id+" for sample "+u.nextSample),this.onSamples&&this.onSamples(v.id,v.user,v.samples),v.samples=[],v!==this.extractedTracks[r]))break}}}},O.prototype.getBox=function(n){var r=this.getBoxes(n,!0);return r.length?r[0]:null},O.prototype.getBoxes=function(n,r){var u=[];return O._sweep.call(this,n,u,r),u},O._sweep=function(n,r,u){this.type&&this.type==n&&r.push(this);for(var c in this.boxes){if(r.length&&u)return;O._sweep.call(this.boxes[c],n,r,u)}},O.prototype.getTrackSamplesInfo=function(n){var r=this.getTrackById(n);if(r)return r.samples},O.prototype.getTrackSample=function(n,r){var u=this.getTrackById(n),c=this.getSample(u,r);return c},O.prototype.releaseUsedSamples=function(n,r){var u=0,c=this.getTrackById(n);c.lastValidSample||(c.lastValidSample=0);for(var p=c.lastValidSample;p<r;p++)u+=this.releaseSample(c,p);_.info("ISOFile","Track #"+n+" released samples up to "+r+" (released size: "+u+", remaining: "+this.samplesDataSize+")"),c.lastValidSample=r},O.prototype.start=function(){this.sampleProcessingStarted=!0,this.processSamples(!1)},O.prototype.stop=function(){this.sampleProcessingStarted=!1},O.prototype.flush=function(){_.info("ISOFile","Flushing remaining samples"),this.updateSampleLists(),this.processSamples(!0),this.stream.cleanBuffers(),this.stream.logBufferLevel(!0)},O.prototype.seekTrack=function(n,r,u){var c,p,v=1/0,E=0,C=0,H;if(u.samples.length===0)return _.info("ISOFile","No sample in track, cannot seek! Using time "+_.getDurationString(0,1)+" and offset: 0"),{offset:0,time:0};for(c=0;c<u.samples.length;c++){if(p=u.samples[c],c===0)C=0,H=p.timescale;else if(p.cts>n*p.timescale){C=c-1;break}r&&p.is_sync&&(E=c)}for(r&&(C=E),n=u.samples[C].cts,u.nextSample=C;u.samples[C].alreadyRead===u.samples[C].size&&u.samples[C+1];)C++;return v=u.samples[C].offset+u.samples[C].alreadyRead,_.info("ISOFile","Seeking to "+(r?"RAP":"")+" sample #"+u.nextSample+" on track "+u.tkhd.track_id+", time "+_.getDurationString(n,H)+" and offset: "+v),{offset:v,time:n/H}},O.prototype.getTrackDuration=function(n){var r;return n.samples?(r=n.samples[n.samples.length-1],(r.cts+r.duration)/r.timescale):1/0},O.prototype.seek=function(n,r){var u=this.moov,c,p,v,E={offset:1/0,time:1/0};if(this.moov){for(v=0;v<u.traks.length;v++)c=u.traks[v],!(n>this.getTrackDuration(c))&&(p=this.seekTrack(n,r,c),p.offset<E.offset&&(E.offset=p.offset),p.time<E.time&&(E.time=p.time));return _.info("ISOFile","Seeking at time "+_.getDurationString(E.time,1)+" needs a buffer with a fileStart position of "+E.offset),E.offset===1/0?E={offset:this.nextParsePosition,time:0}:E.offset=this.stream.getEndFilePositionAfter(E.offset),_.info("ISOFile","Adjusted seek position (after checking data already in buffer): "+E.offset),E}else throw"Cannot seek: moov not received!"},O.prototype.equal=function(n){for(var r=0;r<this.boxes.length&&r<n.boxes.length;){var u=this.boxes[r],c=n.boxes[r];if(!o.boxEqual(u,c))return!1;r++}return!0},h.ISOFile=O,O.prototype.lastBoxStartPosition=0,O.prototype.parsingMdat=null,O.prototype.nextParsePosition=0,O.prototype.discardMdatData=!1,O.prototype.processIncompleteBox=function(n){var r,u,c;return n.type==="mdat"?(r=new o[n.type+"Box"](n.size),this.parsingMdat=r,this.boxes.push(r),this.mdats.push(r),r.start=n.start,r.hdr_size=n.hdr_size,this.stream.addUsedBytes(r.hdr_size),this.lastBoxStartPosition=r.start+r.size,c=this.stream.seek(r.start+r.size,!1,this.discardMdatData),c?(this.parsingMdat=null,!0):(this.moovStartFound?this.nextParsePosition=this.stream.findEndContiguousBuf():this.nextParsePosition=r.start+r.size,!1)):(n.type==="moov"&&(this.moovStartFound=!0,this.mdats.length===0&&(this.isProgressive=!0)),u=this.stream.mergeNextBuffer?this.stream.mergeNextBuffer():!1,u?(this.nextParsePosition=this.stream.getEndPosition(),!0):(n.type?this.moovStartFound?this.nextParsePosition=this.stream.getEndPosition():this.nextParsePosition=this.stream.getPosition()+n.size:this.nextParsePosition=this.stream.getEndPosition(),!1))},O.prototype.hasIncompleteMdat=function(){return this.parsingMdat!==null},O.prototype.processIncompleteMdat=function(){var n,r;return n=this.parsingMdat,r=this.stream.seek(n.start+n.size,!1,this.discardMdatData),r?(_.debug("ISOFile","Found 'mdat' end in buffered data"),this.parsingMdat=null,!0):(this.nextParsePosition=this.stream.findEndContiguousBuf(),!1)},O.prototype.restoreParsePosition=function(){return this.stream.seek(this.lastBoxStartPosition,!0,this.discardMdatData)},O.prototype.saveParsePosition=function(){this.lastBoxStartPosition=this.stream.getPosition()},O.prototype.updateUsedBytes=function(n,r){this.stream.addUsedBytes&&(n.type==="mdat"?(this.stream.addUsedBytes(n.hdr_size),this.discardMdatData&&this.stream.addUsedBytes(n.size-n.hdr_size)):this.stream.addUsedBytes(n.size))},O.prototype.add=o.Box.prototype.add,O.prototype.addBox=o.Box.prototype.addBox,O.prototype.init=function(n){var r=n||{};this.add("ftyp").set("major_brand",r.brands&&r.brands[0]||"iso4").set("minor_version",0).set("compatible_brands",r.brands||["iso4"]);var u=this.add("moov");return u.add("mvhd").set("timescale",r.timescale||600).set("rate",r.rate||65536).set("creation_time",0).set("modification_time",0).set("duration",r.duration||0).set("volume",r.width?0:256).set("matrix",[65536,0,0,0,65536,0,0,0,1073741824]).set("next_track_id",1),u.add("mvex"),this},O.prototype.addTrack=function(n){this.moov||this.init(n);var r=n||{};r.width=r.width||320,r.height=r.height||320,r.id=r.id||this.moov.mvhd.next_track_id,r.type=r.type||"avc1";var u=this.moov.add("trak");this.moov.mvhd.next_track_id=r.id+1,u.add("tkhd").set("flags",o.TKHD_FLAG_ENABLED|o.TKHD_FLAG_IN_MOVIE|o.TKHD_FLAG_IN_PREVIEW).set("creation_time",0).set("modification_time",0).set("track_id",r.id).set("duration",r.duration||0).set("layer",r.layer||0).set("alternate_group",0).set("volume",1).set("matrix",[65536,0,0,0,65536,0,0,0,1073741824]).set("width",r.width<<16).set("height",r.height<<16);var c=u.add("mdia");c.add("mdhd").set("creation_time",0).set("modification_time",0).set("timescale",r.timescale||1).set("duration",r.media_duration||0).set("language",r.language||"und"),c.add("hdlr").set("handler",r.hdlr||"vide").set("name",r.name||"Track created with MP4Box.js"),c.add("elng").set("extended_language",r.language||"fr-FR");var p=c.add("minf");if(o[r.type+"SampleEntry"]!==void 0){var v=new o[r.type+"SampleEntry"];v.data_reference_index=1;var E="";for(var C in o.sampleEntryCodes)for(var H=o.sampleEntryCodes[C],Y=0;Y<H.length;Y++)if(H.indexOf(r.type)>-1){E=C;break}switch(E){case"Visual":if(p.add("vmhd").set("graphicsmode",0).set("opcolor",[0,0,0]),v.set("width",r.width).set("height",r.height).set("horizresolution",72<<16).set("vertresolution",72<<16).set("frame_count",1).set("compressorname",r.type+" Compressor").set("depth",24),r.avcDecoderConfigRecord){var P=new o.avcCBox;P.parse(new m(r.avcDecoderConfigRecord)),v.addBox(P)}else if(r.hevcDecoderConfigRecord){var Z=new o.hvcCBox;Z.parse(new m(r.hevcDecoderConfigRecord)),v.addBox(Z)}break;case"Audio":p.add("smhd").set("balance",r.balance||0),v.set("channel_count",r.channel_count||2).set("samplesize",r.samplesize||16).set("samplerate",r.samplerate||65536);break;case"Hint":p.add("hmhd");break;case"Subtitle":switch(p.add("sthd"),r.type){case"stpp":v.set("namespace",r.namespace||"nonamespace").set("schema_location",r.schema_location||"").set("auxiliary_mime_types",r.auxiliary_mime_types||"");break}break;case"Metadata":p.add("nmhd");break;case"System":p.add("nmhd");break;default:p.add("nmhd");break}r.description&&v.addBox(r.description),r.description_boxes&&r.description_boxes.forEach(function($){v.addBox($)}),p.add("dinf").add("dref").addEntry(new o["url Box"]().set("flags",1));var at=p.add("stbl");return at.add("stsd").addEntry(v),at.add("stts").set("sample_counts",[]).set("sample_deltas",[]),at.add("stsc").set("first_chunk",[]).set("samples_per_chunk",[]).set("sample_description_index",[]),at.add("stco").set("chunk_offsets",[]),at.add("stsz").set("sample_sizes",[]),this.moov.mvex.add("trex").set("track_id",r.id).set("default_sample_description_index",r.default_sample_description_index||1).set("default_sample_duration",r.default_sample_duration||0).set("default_sample_size",r.default_sample_size||0).set("default_sample_flags",r.default_sample_flags||0),this.buildTrakSampleLists(u),r.id}},o.Box.prototype.computeSize=function(n){var r=n||new d;r.endianness=d.BIG_ENDIAN,this.write(r)},O.prototype.addSample=function(n,r,u){var c=u||{},p={},v=this.getTrackById(n);if(v!==null){p.number=v.samples.length,p.track_id=v.tkhd.track_id,p.timescale=v.mdia.mdhd.timescale,p.description_index=c.sample_description_index?c.sample_description_index-1:0,p.description=v.mdia.minf.stbl.stsd.entries[p.description_index],p.data=r,p.size=r.byteLength,p.alreadyRead=p.size,p.duration=c.duration||1,p.cts=c.cts||0,p.dts=c.dts||0,p.is_sync=c.is_sync||!1,p.is_leading=c.is_leading||0,p.depends_on=c.depends_on||0,p.is_depended_on=c.is_depended_on||0,p.has_redundancy=c.has_redundancy||0,p.degradation_priority=c.degradation_priority||0,p.offset=0,p.subsamples=c.subsamples,v.samples.push(p),v.samples_size+=p.size,v.samples_duration+=p.duration,v.first_dts===void 0&&(v.first_dts=c.dts),this.processSamples();var E=this.createSingleSampleMoof(p);return this.addBox(E),E.computeSize(),E.trafs[0].truns[0].data_offset=E.size+8,this.add("mdat").data=new Uint8Array(r),p}},O.prototype.createSingleSampleMoof=function(n){var r=0;n.is_sync?r=1<<25:r=65536;var u=new o.moofBox;u.add("mfhd").set("sequence_number",this.nextMoofNumber),this.nextMoofNumber++;var c=u.add("traf"),p=this.getTrackById(n.track_id);return c.add("tfhd").set("track_id",n.track_id).set("flags",o.TFHD_FLAG_DEFAULT_BASE_IS_MOOF),c.add("tfdt").set("baseMediaDecodeTime",n.dts-(p.first_dts||0)),c.add("trun").set("flags",o.TRUN_FLAGS_DATA_OFFSET|o.TRUN_FLAGS_DURATION|o.TRUN_FLAGS_SIZE|o.TRUN_FLAGS_FLAGS|o.TRUN_FLAGS_CTS_OFFSET).set("data_offset",0).set("first_sample_flags",0).set("sample_count",1).set("sample_duration",[n.duration]).set("sample_size",[n.size]).set("sample_flags",[r]).set("sample_composition_time_offset",[n.cts-n.dts]),u},O.prototype.lastMoofIndex=0,O.prototype.samplesDataSize=0,O.prototype.resetTables=function(){var n,r,u,c,p,v,E,C;for(this.initial_duration=this.moov.mvhd.duration,this.moov.mvhd.duration=0,n=0;n<this.moov.traks.length;n++){r=this.moov.traks[n],r.tkhd.duration=0,r.mdia.mdhd.duration=0,u=r.mdia.minf.stbl.stco||r.mdia.minf.stbl.co64,u.chunk_offsets=[],c=r.mdia.minf.stbl.stsc,c.first_chunk=[],c.samples_per_chunk=[],c.sample_description_index=[],p=r.mdia.minf.stbl.stsz||r.mdia.minf.stbl.stz2,p.sample_sizes=[],v=r.mdia.minf.stbl.stts,v.sample_counts=[],v.sample_deltas=[],E=r.mdia.minf.stbl.ctts,E&&(E.sample_counts=[],E.sample_offsets=[]),C=r.mdia.minf.stbl.stss;var H=r.mdia.minf.stbl.boxes.indexOf(C);H!=-1&&(r.mdia.minf.stbl.boxes[H]=null)}},O.initSampleGroups=function(n,r,u,c,p){var v,E,C,H;function Y(P,Z,at){this.grouping_type=P,this.grouping_type_parameter=Z,this.sbgp=at,this.last_sample_in_run=-1,this.entry_index=-1}for(r&&(r.sample_groups_info=[]),n.sample_groups_info||(n.sample_groups_info=[]),E=0;E<u.length;E++){for(H=u[E].grouping_type+"/"+u[E].grouping_type_parameter,C=new Y(u[E].grouping_type,u[E].grouping_type_parameter,u[E]),r&&(r.sample_groups_info[H]=C),n.sample_groups_info[H]||(n.sample_groups_info[H]=C),v=0;v<c.length;v++)c[v].grouping_type===u[E].grouping_type&&(C.description=c[v],C.description.used=!0);if(p)for(v=0;v<p.length;v++)p[v].grouping_type===u[E].grouping_type&&(C.fragment_description=p[v],C.fragment_description.used=!0,C.is_fragment=!0)}if(r){if(p)for(E=0;E<p.length;E++)!p[E].used&&p[E].version>=2&&(H=p[E].grouping_type+"/0",C=new Y(p[E].grouping_type,0),C.is_fragment=!0,r.sample_groups_info[H]||(r.sample_groups_info[H]=C))}else for(E=0;E<c.length;E++)!c[E].used&&c[E].version>=2&&(H=c[E].grouping_type+"/0",C=new Y(c[E].grouping_type,0),n.sample_groups_info[H]||(n.sample_groups_info[H]=C))},O.setSampleGroupProperties=function(n,r,u,c){var p,v;r.sample_groups=[];for(p in c)if(r.sample_groups[p]={},r.sample_groups[p].grouping_type=c[p].grouping_type,r.sample_groups[p].grouping_type_parameter=c[p].grouping_type_parameter,u>=c[p].last_sample_in_run&&(c[p].last_sample_in_run<0&&(c[p].last_sample_in_run=0),c[p].entry_index++,c[p].entry_index<=c[p].sbgp.entries.length-1&&(c[p].last_sample_in_run+=c[p].sbgp.entries[c[p].entry_index].sample_count)),c[p].entry_index<=c[p].sbgp.entries.length-1?r.sample_groups[p].group_description_index=c[p].sbgp.entries[c[p].entry_index].group_description_index:r.sample_groups[p].group_description_index=-1,r.sample_groups[p].group_description_index!==0){var E;c[p].fragment_description?E=c[p].fragment_description:E=c[p].description,r.sample_groups[p].group_description_index>0?(r.sample_groups[p].group_description_index>65535?v=(r.sample_groups[p].group_description_index>>16)-1:v=r.sample_groups[p].group_description_index-1,E&&v>=0&&(r.sample_groups[p].description=E.entries[v])):E&&E.version>=2&&E.default_group_description_index>0&&(r.sample_groups[p].description=E.entries[E.default_group_description_index-1])}},O.process_sdtp=function(n,r,u){r&&(n?(r.is_leading=n.is_leading[u],r.depends_on=n.sample_depends_on[u],r.is_depended_on=n.sample_is_depended_on[u],r.has_redundancy=n.sample_has_redundancy[u]):(r.is_leading=0,r.depends_on=0,r.is_depended_on=0,r.has_redundancy=0))},O.prototype.buildSampleLists=function(){var n,r;for(n=0;n<this.moov.traks.length;n++)r=this.moov.traks[n],this.buildTrakSampleLists(r)},O.prototype.buildTrakSampleLists=function(n){var r,u,c,p,v,E,C,H,Y,P,Z,at,$,Ut,dt,F,J,lt,pt,A,X,tt,K,rt;if(n.samples=[],n.samples_duration=0,n.samples_size=0,u=n.mdia.minf.stbl.stco||n.mdia.minf.stbl.co64,c=n.mdia.minf.stbl.stsc,p=n.mdia.minf.stbl.stsz||n.mdia.minf.stbl.stz2,v=n.mdia.minf.stbl.stts,E=n.mdia.minf.stbl.ctts,C=n.mdia.minf.stbl.stss,H=n.mdia.minf.stbl.stsd,Y=n.mdia.minf.stbl.subs,at=n.mdia.minf.stbl.stdp,P=n.mdia.minf.stbl.sbgps,Z=n.mdia.minf.stbl.sgpds,lt=-1,pt=-1,A=-1,X=-1,tt=0,K=0,rt=0,O.initSampleGroups(n,null,P,Z),!(typeof p>"u")){for(r=0;r<p.sample_sizes.length;r++){var it={};it.number=r,it.track_id=n.tkhd.track_id,it.timescale=n.mdia.mdhd.timescale,it.alreadyRead=0,n.samples[r]=it,it.size=p.sample_sizes[r],n.samples_size+=it.size,r===0?(Ut=1,$=0,it.chunk_index=Ut,it.chunk_run_index=$,J=c.samples_per_chunk[$],F=0,$+1<c.first_chunk.length?dt=c.first_chunk[$+1]-1:dt=1/0):r<J?(it.chunk_index=Ut,it.chunk_run_index=$):(Ut++,it.chunk_index=Ut,F=0,Ut<=dt||($++,$+1<c.first_chunk.length?dt=c.first_chunk[$+1]-1:dt=1/0),it.chunk_run_index=$,J+=c.samples_per_chunk[$]),it.description_index=c.sample_description_index[it.chunk_run_index]-1,it.description=H.entries[it.description_index],it.offset=u.chunk_offsets[it.chunk_index-1]+F,F+=it.size,r>lt&&(pt++,lt<0&&(lt=0),lt+=v.sample_counts[pt]),r>0?(n.samples[r-1].duration=v.sample_deltas[pt],n.samples_duration+=n.samples[r-1].duration,it.dts=n.samples[r-1].dts+n.samples[r-1].duration):it.dts=0,E?(r>=A&&(X++,A<0&&(A=0),A+=E.sample_counts[X]),it.cts=n.samples[r].dts+E.sample_offsets[X]):it.cts=it.dts,C?(r==C.sample_numbers[tt]-1?(it.is_sync=!0,tt++):(it.is_sync=!1,it.degradation_priority=0),Y&&Y.entries[K].sample_delta+rt==r+1&&(it.subsamples=Y.entries[K].subsamples,rt+=Y.entries[K].sample_delta,K++)):it.is_sync=!0,O.process_sdtp(n.mdia.minf.stbl.sdtp,it,it.number),at?it.degradation_priority=at.priority[r]:it.degradation_priority=0,Y&&Y.entries[K].sample_delta+rt==r&&(it.subsamples=Y.entries[K].subsamples,rt+=Y.entries[K].sample_delta),(P.length>0||Z.length>0)&&O.setSampleGroupProperties(n,it,r,n.sample_groups_info)}r>0&&(n.samples[r-1].duration=Math.max(n.mdia.mdhd.duration-n.samples[r-1].dts,0),n.samples_duration+=n.samples[r-1].duration)}},O.prototype.updateSampleLists=function(){var n,r,u,c,p,v,E,C,H,Y,P,Z,at,$,Ut;if(this.moov!==void 0){for(;this.lastMoofIndex<this.moofs.length;)if(H=this.moofs[this.lastMoofIndex],this.lastMoofIndex++,H.type=="moof")for(Y=H,n=0;n<Y.trafs.length;n++){for(P=Y.trafs[n],Z=this.getTrackById(P.tfhd.track_id),at=this.getTrexById(P.tfhd.track_id),P.tfhd.flags&o.TFHD_FLAG_SAMPLE_DESC?c=P.tfhd.default_sample_description_index:c=at?at.default_sample_description_index:1,P.tfhd.flags&o.TFHD_FLAG_SAMPLE_DUR?p=P.tfhd.default_sample_duration:p=at?at.default_sample_duration:0,P.tfhd.flags&o.TFHD_FLAG_SAMPLE_SIZE?v=P.tfhd.default_sample_size:v=at?at.default_sample_size:0,P.tfhd.flags&o.TFHD_FLAG_SAMPLE_FLAGS?E=P.tfhd.default_sample_flags:E=at?at.default_sample_flags:0,P.sample_number=0,P.sbgps.length>0&&O.initSampleGroups(Z,P,P.sbgps,Z.mdia.minf.stbl.sgpds,P.sgpds),r=0;r<P.truns.length;r++){var dt=P.truns[r];for(u=0;u<dt.sample_count;u++){$={},$.moof_number=this.lastMoofIndex,$.number_in_traf=P.sample_number,P.sample_number++,$.number=Z.samples.length,P.first_sample_index=Z.samples.length,Z.samples.push($),$.track_id=Z.tkhd.track_id,$.timescale=Z.mdia.mdhd.timescale,$.description_index=c-1,$.description=Z.mdia.minf.stbl.stsd.entries[$.description_index],$.size=v,dt.flags&o.TRUN_FLAGS_SIZE&&($.size=dt.sample_size[u]),Z.samples_size+=$.size,$.duration=p,dt.flags&o.TRUN_FLAGS_DURATION&&($.duration=dt.sample_duration[u]),Z.samples_duration+=$.duration,Z.first_traf_merged||u>0?$.dts=Z.samples[Z.samples.length-2].dts+Z.samples[Z.samples.length-2].duration:(P.tfdt?$.dts=P.tfdt.baseMediaDecodeTime:$.dts=0,Z.first_traf_merged=!0),$.cts=$.dts,dt.flags&o.TRUN_FLAGS_CTS_OFFSET&&($.cts=$.dts+dt.sample_composition_time_offset[u]),Ut=E,dt.flags&o.TRUN_FLAGS_FLAGS?Ut=dt.sample_flags[u]:u===0&&dt.flags&o.TRUN_FLAGS_FIRST_FLAG&&(Ut=dt.first_sample_flags),$.is_sync=!(Ut>>16&1),$.is_leading=Ut>>26&3,$.depends_on=Ut>>24&3,$.is_depended_on=Ut>>22&3,$.has_redundancy=Ut>>20&3,$.degradation_priority=Ut&65535;var F=!!(P.tfhd.flags&o.TFHD_FLAG_BASE_DATA_OFFSET),J=!!(P.tfhd.flags&o.TFHD_FLAG_DEFAULT_BASE_IS_MOOF),lt=!!(dt.flags&o.TRUN_FLAGS_DATA_OFFSET),pt=0;F?pt=P.tfhd.base_data_offset:J||r===0?pt=Y.start:pt=C,r===0&&u===0?lt?$.offset=pt+dt.data_offset:$.offset=pt:$.offset=C,C=$.offset+$.size,(P.sbgps.length>0||P.sgpds.length>0||Z.mdia.minf.stbl.sbgps.length>0||Z.mdia.minf.stbl.sgpds.length>0)&&O.setSampleGroupProperties(Z,$,$.number_in_traf,P.sample_groups_info)}}if(P.subs){Z.has_fragment_subsamples=!0;var A=P.first_sample_index;for(r=0;r<P.subs.entries.length;r++)A+=P.subs.entries[r].sample_delta,$=Z.samples[A-1],$.subsamples=P.subs.entries[r].subsamples}}}},O.prototype.getSample=function(n,r){var u,c=n.samples[r];if(!this.moov)return null;if(!c.data)c.data=new Uint8Array(c.size),c.alreadyRead=0,this.samplesDataSize+=c.size,_.debug("ISOFile","Allocating sample #"+r+" on track #"+n.tkhd.track_id+" of size "+c.size+" (total: "+this.samplesDataSize+")");else if(c.alreadyRead==c.size)return c;for(;;){var p=this.stream.findPosition(!0,c.offset+c.alreadyRead,!1);if(p>-1){u=this.stream.buffers[p];var v=u.byteLength-(c.offset+c.alreadyRead-u.fileStart);if(c.size-c.alreadyRead<=v)return _.debug("ISOFile","Getting sample #"+r+" data (alreadyRead: "+c.alreadyRead+" offset: "+(c.offset+c.alreadyRead-u.fileStart)+" read size: "+(c.size-c.alreadyRead)+" full size: "+c.size+")"),d.memcpy(c.data.buffer,c.alreadyRead,u,c.offset+c.alreadyRead-u.fileStart,c.size-c.alreadyRead),u.usedBytes+=c.size-c.alreadyRead,this.stream.logBufferLevel(),c.alreadyRead=c.size,c;if(v===0)return null;_.debug("ISOFile","Getting sample #"+r+" partial data (alreadyRead: "+c.alreadyRead+" offset: "+(c.offset+c.alreadyRead-u.fileStart)+" read size: "+v+" full size: "+c.size+")"),d.memcpy(c.data.buffer,c.alreadyRead,u,c.offset+c.alreadyRead-u.fileStart,v),c.alreadyRead+=v,u.usedBytes+=v,this.stream.logBufferLevel()}else return null}},O.prototype.releaseSample=function(n,r){var u=n.samples[r];return u.data?(this.samplesDataSize-=u.size,u.data=null,u.alreadyRead=0,u.size):0},O.prototype.getAllocatedSampleDataSize=function(){return this.samplesDataSize},O.prototype.getCodecs=function(){var n,r="";for(n=0;n<this.moov.traks.length;n++){var u=this.moov.traks[n];n>0&&(r+=","),r+=u.mdia.minf.stbl.stsd.entries[0].getCodec()}return r},O.prototype.getTrexById=function(n){var r;if(!this.moov||!this.moov.mvex)return null;for(r=0;r<this.moov.mvex.trexs.length;r++){var u=this.moov.mvex.trexs[r];if(u.track_id==n)return u}return null},O.prototype.getTrackById=function(n){if(this.moov===void 0)return null;for(var r=0;r<this.moov.traks.length;r++){var u=this.moov.traks[r];if(u.tkhd.track_id==n)return u}return null},O.prototype.itemsDataSize=0,O.prototype.flattenItemInfo=function(){var n=this.items,r=this.entity_groups,u,c,p,v=this.meta;if(v!=null&&v.hdlr!==void 0&&v.iinf!==void 0){for(u=0;u<v.iinf.item_infos.length;u++)p={},p.id=v.iinf.item_infos[u].item_ID,n[p.id]=p,p.ref_to=[],p.name=v.iinf.item_infos[u].item_name,v.iinf.item_infos[u].protection_index>0&&(p.protection=v.ipro.protections[v.iinf.item_infos[u].protection_index-1]),v.iinf.item_infos[u].item_type?p.type=v.iinf.item_infos[u].item_type:p.type="mime",p.content_type=v.iinf.item_infos[u].content_type,p.content_encoding=v.iinf.item_infos[u].content_encoding,p.item_uri_type=v.iinf.item_infos[u].item_uri_type;if(v.grpl)for(u=0;u<v.grpl.boxes.length;u++)entity_group={},entity_group.id=v.grpl.boxes[u].group_id,entity_group.entity_ids=v.grpl.boxes[u].entity_ids,entity_group.type=v.grpl.boxes[u].type,r[entity_group.id]=entity_group;if(v.iloc)for(u=0;u<v.iloc.items.length;u++){var E=v.iloc.items[u];switch(p=n[E.item_ID],E.data_reference_index!==0&&(_.warn("Item storage with reference to other files: not supported"),p.source=v.dinf.boxes[E.data_reference_index-1]),E.construction_method){case 0:break;case 1:break;case 2:_.warn("Item storage with construction_method : not supported");break}for(p.extents=[],p.size=0,c=0;c<E.extents.length;c++)p.extents[c]={},p.extents[c].offset=E.extents[c].extent_offset+E.base_offset,E.construction_method==1&&(p.extents[c].offset+=v.idat.start+v.idat.hdr_size),p.extents[c].length=E.extents[c].extent_length,p.extents[c].alreadyRead=0,p.size+=p.extents[c].length}if(v.pitm&&(n[v.pitm.item_id].primary=!0),v.iref)for(u=0;u<v.iref.references.length;u++){var C=v.iref.references[u];for(c=0;c<C.references.length;c++)n[C.from_item_ID].ref_to.push({type:C.type,id:C.references[c]})}if(v.iprp)for(var H=0;H<v.iprp.ipmas.length;H++){var Y=v.iprp.ipmas[H];for(u=0;u<Y.associations.length;u++){var P=Y.associations[u];if(p=n[P.id],p||(p=r[P.id]),p)for(p.properties===void 0&&(p.properties={},p.properties.boxes=[]),c=0;c<P.props.length;c++){var Z=P.props[c];if(Z.property_index>0&&Z.property_index-1<v.iprp.ipco.boxes.length){var at=v.iprp.ipco.boxes[Z.property_index-1];p.properties[at.type]=at,p.properties.boxes.push(at)}}}}}},O.prototype.getItem=function(n){var r,u;if(!this.meta)return null;if(u=this.items[n],!u.data&&u.size)u.data=new Uint8Array(u.size),u.alreadyRead=0,this.itemsDataSize+=u.size,_.debug("ISOFile","Allocating item #"+n+" of size "+u.size+" (total: "+this.itemsDataSize+")");else if(u.alreadyRead===u.size)return u;for(var c=0;c<u.extents.length;c++){var p=u.extents[c];if(p.alreadyRead!==p.length){var v=this.stream.findPosition(!0,p.offset+p.alreadyRead,!1);if(v>-1){r=this.stream.buffers[v];var E=r.byteLength-(p.offset+p.alreadyRead-r.fileStart);if(p.length-p.alreadyRead<=E)_.debug("ISOFile","Getting item #"+n+" extent #"+c+" data (alreadyRead: "+p.alreadyRead+" offset: "+(p.offset+p.alreadyRead-r.fileStart)+" read size: "+(p.length-p.alreadyRead)+" full extent size: "+p.length+" full item size: "+u.size+")"),d.memcpy(u.data.buffer,u.alreadyRead,r,p.offset+p.alreadyRead-r.fileStart,p.length-p.alreadyRead),r.usedBytes+=p.length-p.alreadyRead,this.stream.logBufferLevel(),u.alreadyRead+=p.length-p.alreadyRead,p.alreadyRead=p.length;else return _.debug("ISOFile","Getting item #"+n+" extent #"+c+" partial data (alreadyRead: "+p.alreadyRead+" offset: "+(p.offset+p.alreadyRead-r.fileStart)+" read size: "+E+" full extent size: "+p.length+" full item size: "+u.size+")"),d.memcpy(u.data.buffer,u.alreadyRead,r,p.offset+p.alreadyRead-r.fileStart,E),p.alreadyRead+=E,u.alreadyRead+=E,r.usedBytes+=E,this.stream.logBufferLevel(),null}else return null}}return u.alreadyRead===u.size?u:null},O.prototype.releaseItem=function(n){var r=this.items[n];if(r.data){this.itemsDataSize-=r.size,r.data=null,r.alreadyRead=0;for(var u=0;u<r.extents.length;u++){var c=r.extents[u];c.alreadyRead=0}return r.size}else return 0},O.prototype.processItems=function(n){for(var r in this.items){var u=this.items[r];this.getItem(u.id),n&&!u.sent&&(n(u),u.sent=!0,u.data=null)}},O.prototype.hasItem=function(n){for(var r in this.items){var u=this.items[r];if(u.name===n)return u.id}return-1},O.prototype.getMetaHandler=function(){return this.meta?this.meta.hdlr.handler:null},O.prototype.getPrimaryItem=function(){return!this.meta||!this.meta.pitm?null:this.getItem(this.meta.pitm.item_id)},O.prototype.itemToFragmentedTrackFile=function(n){var r=n||{},u=null;if(r.itemId?u=this.getItem(r.itemId):u=this.getPrimaryItem(),u==null)return null;var c=new O;c.discardMdatData=!1;var p={type:u.type,description_boxes:u.properties.boxes};u.properties.ispe&&(p.width=u.properties.ispe.image_width,p.height=u.properties.ispe.image_height);var v=c.addTrack(p);return v?(c.addSample(v,u.data),c):null},O.prototype.write=function(n){for(var r=0;r<this.boxes.length;r++)this.boxes[r].write(n)},O.prototype.createFragment=function(n,r,u){var c=this.getTrackById(n),p=this.getSample(c,r);if(p==null)return this.setNextSeekPositionFromSample(c.samples[r]),null;var v=u||new d;v.endianness=d.BIG_ENDIAN;var E=this.createSingleSampleMoof(p);E.write(v),E.trafs[0].truns[0].data_offset=E.size+8,_.debug("MP4Box","Adjusting data_offset with new value "+E.trafs[0].truns[0].data_offset),v.adjustUint32(E.trafs[0].truns[0].data_offset_position,E.trafs[0].truns[0].data_offset);var C=new o.mdatBox;return C.data=p.data,C.write(v),v},O.writeInitializationSegment=function(n,r,u,c){var p;_.debug("ISOFile","Generating initialization segment");var v=new d;v.endianness=d.BIG_ENDIAN,n.write(v);var E=r.add("mvex");for(u&&E.add("mehd").set("fragment_duration",u),p=0;p<r.traks.length;p++)E.add("trex").set("track_id",r.traks[p].tkhd.track_id).set("default_sample_description_index",1).set("default_sample_duration",c).set("default_sample_size",0).set("default_sample_flags",65536);return r.write(v),v.buffer},O.prototype.save=function(n){var r=new d;r.endianness=d.BIG_ENDIAN,this.write(r),r.save(n)},O.prototype.getBuffer=function(){var n=new d;return n.endianness=d.BIG_ENDIAN,this.write(n),n.buffer},O.prototype.initializeSegmentation=function(){var n,r,u,c;for(this.onSegment===null&&_.warn("MP4Box","No segmentation callback set!"),this.isFragmentationInitialized||(this.isFragmentationInitialized=!0,this.nextMoofNumber=0,this.resetTables()),r=[],n=0;n<this.fragmentedTracks.length;n++){var p=new o.moovBox;p.mvhd=this.moov.mvhd,p.boxes.push(p.mvhd),u=this.getTrackById(this.fragmentedTracks[n].id),p.boxes.push(u),p.traks.push(u),c={},c.id=u.tkhd.track_id,c.user=this.fragmentedTracks[n].user,c.buffer=O.writeInitializationSegment(this.ftyp,p,this.moov.mvex&&this.moov.mvex.mehd?this.moov.mvex.mehd.fragment_duration:void 0,this.moov.traks[n].samples.length>0?this.moov.traks[n].samples[0].duration:0),r.push(c)}return r},o.Box.prototype.printHeader=function(n){this.size+=8,this.size>S&&(this.size+=8),this.type==="uuid"&&(this.size+=16),n.log(n.indent+"size:"+this.size),n.log(n.indent+"type:"+this.type)},o.FullBox.prototype.printHeader=function(n){this.size+=4,o.Box.prototype.printHeader.call(this,n),n.log(n.indent+"version:"+this.version),n.log(n.indent+"flags:"+this.flags)},o.Box.prototype.print=function(n){this.printHeader(n)},o.ContainerBox.prototype.print=function(n){this.printHeader(n);for(var r=0;r<this.boxes.length;r++)if(this.boxes[r]){var u=n.indent;n.indent+=" ",this.boxes[r].print(n),n.indent=u}},O.prototype.print=function(n){n.indent="";for(var r=0;r<this.boxes.length;r++)this.boxes[r]&&this.boxes[r].print(n)},o.mvhdBox.prototype.print=function(n){o.FullBox.prototype.printHeader.call(this,n),n.log(n.indent+"creation_time: "+this.creation_time),n.log(n.indent+"modification_time: "+this.modification_time),n.log(n.indent+"timescale: "+this.timescale),n.log(n.indent+"duration: "+this.duration),n.log(n.indent+"rate: "+this.rate),n.log(n.indent+"volume: "+(this.volume>>8)),n.log(n.indent+"matrix: "+this.matrix.join(", ")),n.log(n.indent+"next_track_id: "+this.next_track_id)},o.tkhdBox.prototype.print=function(n){o.FullBox.prototype.printHeader.call(this,n),n.log(n.indent+"creation_time: "+this.creation_time),n.log(n.indent+"modification_time: "+this.modification_time),n.log(n.indent+"track_id: "+this.track_id),n.log(n.indent+"duration: "+this.duration),n.log(n.indent+"volume: "+(this.volume>>8)),n.log(n.indent+"matrix: "+this.matrix.join(", ")),n.log(n.indent+"layer: "+this.layer),n.log(n.indent+"alternate_group: "+this.alternate_group),n.log(n.indent+"width: "+this.width),n.log(n.indent+"height: "+this.height)};var et={};et.createFile=function(n,r){var u=n!==void 0?n:!0,c=new O(r);return c.discardMdatData=!u,c},h.createFile=et.createFile})(Fu)),Fu}var qu=Pm();const Cd=30,Qm=(h,_)=>{const m=h.getTrackById(_);for(const d of m.mdia.minf.stbl.stsd.entries){const S=d.avcC||d.hvcC||d.vpcC||d.av1C;if(S){const x=new qu.DataStream(void 0,0,qu.DataStream.BIG_ENDIAN);return S.write(x),new Uint8Array(x.buffer,8)}}throw new Error("avcC, hvcC, vpcC, or av1C box not found")},cd=(h,_,m,d,S,x)=>new Promise(async(B,o)=>{try{const w=`input_${m}.mp4`,b=`output_${m}_${Math.random().toFixed(10).substring(2)}.mp4`;await h.writeFile(w,await Vm(_)),await h.exec(`-i ${w} -vf scale=${d}:${S} -vcodec libx264 -g 99999999 -bf 0 -flags:v +cgop -pix_fmt yuv420p -movflags faststart -crf 15 ${b}`.split(" "));const D=await h.readFile(b),q=qu.createFile();q.onError=console.error,q.onReady=W=>{const O=W.videoTracks[0];x({codec:O.codec.startsWith("vp08")?"vp8":O.codec,codedHeight:O.video.height,codedWidth:O.video.width,description:Qm(q,O.id)}),q.setExtractionOptions(O.id),q.start()},q.onSamples=async(W,O,et)=>{const n=et.map(r=>new EncodedVideoChunk({type:r.is_sync?"key":"delta",timestamp:1e6*r.cts/r.timescale,duration:1e6*r.duration/r.timescale,data:r.data}));B(n)};const Q=new ArrayBuffer(D.byteLength);new Uint8Array(Q).set(D),Q.fileStart=0,q.appendBuffer(Q)}catch(w){o(w)}}),Zm=async(h,_,m,d,S)=>new Promise(x=>{const B=document.createElement("canvas");B.width=d.width,B.height=d.height;const o=B.getContext("2d"),w=new VideoDecoder({error:console.error,output:W=>{o.drawImage(W,0,0),W.close()}});w.configure(_);const b=B.captureStream(),D=new MediaRecorder(b,{mimeType:m});D.addEventListener("dataavailable",W=>{const O=URL.createObjectURL(W.data);x(O)}),D.start();let q=0;const Q=setInterval(()=>{S(q/h.length),w.decode(h[q]),q++,q===h.length-1&&(D.stop(),clearInterval(Q))},1e3/Cd)}),Km=({vids:h,setVids:_,ffmpeg:m,progress:d,onConfig:S,settings:x,preprocessSettings:B,setPreprocessSettings:o})=>{const[w,b]=G.useState(!1);return k.jsxs(Ku,{name:"Files",children:[h.length===0?k.jsx("p",{children:"No video uploaded yet"}):k.jsx("ul",{children:h.map(D=>k.jsxs("li",{children:[D.name," (",(D.chunks.length/Cd).toFixed(2),"s,"," ",D.chunks.length," frames)"]},D.name))}),k.jsxs("p",{children:[k.jsx("span",{children:"Upload video:"}),k.jsx("input",{type:"file",accept:"video/*,image/*",onChange:async D=>{b(!0);const q=D.target.files[0],Q=URL.createObjectURL(q),W=q.name.replace(/\s/g,"_");let O=W,et=0;for(;h.map(r=>r.name).includes(O);)O=`${W}_${et}`,et++;const n=await cd(m,q,O,x.width,x.height,S);_([...h,{file:q,name:O,chunks:n,src:Q}]),D.target.value="",b(!1),o(x)},disabled:w})]}),JSON.stringify(B)!==JSON.stringify(x)&&!!h.length&&k.jsx("p",{children:k.jsx("button",{disabled:w,onClick:async()=>{b(!0);for(const D of h)D.chunks=await cd(m,D.file,D.name,x.width,x.height,S);_([...h]),o(x),b(!1)},children:"Reprocess files"})}),w&&k.jsx("p",{children:k.jsx("progress",{value:d})})]})},qa=({value:h,onChange:_,...m})=>{const[d,S]=G.useState(`${h}`);return G.useEffect(()=>{`${h}`!==d&&(isNaN(parseFloat(d))||S(`${h}`))},[h,d]),k.jsx("input",{type:"number",value:d,onChange:x=>{S(x.target.value);const B=parseInt(x.target.value);isNaN(B)||_(B)},...m})},Jm=({segments:h,vids:_,config:m,settings:d,setSettings:S,preprocessSettings:x})=>{const[B,o]=G.useState(!1),[w,b]=G.useState(0),[D,q]=G.useState(""),[Q,W]=G.useState("");return k.jsxs(Ku,{name:"Rendering",children:[k.jsxs("p",{children:[k.jsx(qa,{value:d.width,onChange:O=>S({...d,width:O}),min:4,step:4}),k.jsx("span",{children:""}),k.jsx(qa,{value:d.height,onChange:O=>S({...d,height:O}),min:4,step:4}),k.jsx("span",{children:"px"}),[{name:"480p",width:640,height:480},{name:"720p",width:1280,height:720},{name:"1080p",width:1920,height:1080}].map(({name:O,width:et,height:n})=>k.jsx("button",{onClick:()=>S({width:et,height:n}),disabled:d.width===et&&d.height===n,children:O},O)),k.jsx("button",{onClick:()=>S({width:d.height,height:d.width}),children:"flip"})]}),h.length===0||m===null?k.jsx("p",{children:"Please add segments in the timeline"}):JSON.stringify(x)!==JSON.stringify(d)?k.jsx("p",{children:"Rendering settings differ from files settings, please reprocess the files"}):k.jsxs("div",{children:[k.jsx("button",{onClick:async()=>{o(!0),q("");const O=h.flatMap(r=>Array(r.repeat).fill(null).flatMap(()=>_.find(u=>u.name===r.name).chunks.slice(r.from,r.to))),et=MediaRecorder.isTypeSupported("video/mp4")?"video/mp4":"video/webm",n=await Zm(O,m,et,d,b);q(n),W(`Supermosh_${new Date().toISOString().substring(0,19).replaceAll(":","-")}.${et==="video/mp4"?"mp4":"webm"}`),o(!1)},disabled:B,children:"render"}),B&&k.jsx("progress",{value:w})]}),D&&k.jsxs(k.Fragment,{children:[k.jsx("p",{children:k.jsx("video",{style:{width:"100%",maxHeight:"50vh"},src:D,muted:!0,loop:!0,controls:!0,playsInline:!0,autoPlay:!0})}),k.jsx("p",{children:k.jsx("a",{download:Q,href:D,children:"Download"})})]})]})},$m=({vid:h,i:_})=>{const m=G.useRef(null);return m.current&&!isNaN(m.current.duration)&&(m.current.currentTime=_*m.current.duration/h.chunks.length),k.jsx("video",{className:"RangePreview",src:h.src,ref:m})},Wm=({value:h,onChange:_,options:m})=>k.jsx("select",{value:h,onChange:d=>_(d.target.value),children:m.map(d=>k.jsx("option",{children:d},d))}),hd=(h,_,m)=>Math.max(_,Math.min(m,h)),tg=({segments:h,setSegments:_,vids:m})=>{const[d,S]=G.useState(null);return k.jsxs(Ku,{name:"Timeline",children:[m.length===0?k.jsx("p",{children:"Please upload a video"}):k.jsxs(k.Fragment,{children:[h.length===0?k.jsx("p",{children:"No segments defined"}):k.jsx("div",{className:"segments",children:h.map((x,B)=>{const o=()=>m.find(b=>b.name===x.name),w=(b,D)=>{[h[b],h[D]]=[h[D],h[b]],h[0].from=0,_([...h])};return k.jsxs(ly.Fragment,{children:[k.jsx(Wm,{value:x.name,onChange:b=>{x.name=b,x.to=hd(x.to,-1/0,o().chunks.length),x.from=hd(x.from,0,x.to-1),_([...h])},options:m.map(b=>b.name)}),k.jsx(qa,{value:x.from,onChange:b=>{x.from=b,_([...h]),S({vid:o(),i:b})},min:0,max:x.to-1,disabled:B===0,onFocus:()=>S({vid:o(),i:x.from}),onBlur:()=>S(null)}),k.jsx(qa,{value:x.to,onChange:b=>{x.to=b,_([...h]),S({vid:o(),i:b})},min:x.from+1,max:o().chunks.length,onFocus:()=>S({vid:o(),i:x.to}),onBlur:()=>S(null)}),k.jsx(qa,{value:x.repeat,onChange:b=>{x.repeat=b,_([...h])},min:1}),k.jsx("button",{disabled:B===0,onClick:()=>w(B,B-1),children:"Up"}),k.jsx("button",{disabled:B===h.length-1,onClick:()=>w(B,B+1),children:"down"}),k.jsx("button",{onClick:()=>{_(h.filter((b,D)=>B!==D))},children:"delete"})]},B)})}),k.jsx("button",{onClick:()=>{_([...h,{name:m[0].name,from:0,to:m[0].chunks.length,repeat:1}])},children:"Add segment"})]}),d&&k.jsx($m,{vid:d.vid,i:d.i})]})},eg=()=>{const[h,_]=G.useState(!0),m=G.useRef(new Ym),[d,S]=G.useState([]),[x,B]=G.useState(0),[o,w]=G.useState([]),[b,D]=G.useState(null),[q,Q]=G.useState({width:640,height:480}),[W,O]=G.useState(q);return G.useEffect(()=>{(async()=>{m.current.on("progress",n=>B(n.progress));const et="https://unpkg.com/@ffmpeg/core@0.12.6/dist/esm";console.log("loading ffmpeg..."),await m.current.load({coreURL:await od(`${et}/ffmpeg-core.js`,"text/javascript"),wasmURL:await od(`${et}/ffmpeg-core.wasm`,"application/wasm")}),_(!1),console.log("ffmpeg loaded")})()},[]),h?k.jsx(k.Fragment,{children:"Loading..."}):k.jsxs("main",{className:"Studio",children:[k.jsx(Km,{vids:d,setVids:S,progress:x,ffmpeg:m.current,onConfig:D,settings:q,preprocessSettings:W,setPreprocessSettings:O}),k.jsx(tg,{vids:d,segments:o,setSegments:w}),k.jsx(Jm,{vids:d,segments:o,config:b,settings:q,setSettings:Q,preprocessSettings:W})]})},ig=()=>{const h=Yy("/studio");return k.jsxs(k.Fragment,{children:[k.jsxs("nav",{children:[k.jsxs(Xa,{to:"/",className:"link-button",children:[k.jsx(Gn,{name:"home"})," ",k.jsx("span",{className:"no-mobile",children:"Home"})]}),k.jsxs(Xa,{to:"/studio",className:"link-button",children:[k.jsx(Gn,{name:"movie"})," ",k.jsx("span",{className:"no-mobile",children:"Studio"})]}),k.jsxs("a",{href:"https://github.com/supermosh/supermosh.github.io",className:"link-button",children:[k.jsx(Gn,{name:"data_object"})," ",k.jsx("span",{className:"no-mobile",children:"Github"})]}),h&&k.jsxs("a",{href:"https://github.com/supermosh/supermosh.github.io/issues",className:"link-button",children:[k.jsx(Gn,{name:"bug_report"})," ",k.jsx("span",{className:"no-mobile",children:"Report a bug"})]})]}),k.jsxs(nm,{children:[k.jsx(ku,{path:"/",element:k.jsx(Nm,{})}),k.jsx(ku,{path:"/studio",element:k.jsx(eg,{})})]})]})};hy.createRoot(document.getElementById("root")).render(k.jsx(G.StrictMode,{children:k.jsx(Tm,{children:k.jsx(ig,{})})}));
